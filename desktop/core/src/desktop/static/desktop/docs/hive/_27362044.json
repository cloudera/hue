{"body":"<div><div>\n        <div id=\"title\">\n                        <h1 class=\"hue-doc-title-hive\">SubQueries</h1>\n        </div>\n\n        <!--<div id=\"toc\" class=\"content prepend-top\">\n            <h1>Table of Contents</h1>\n            $replacement.render(\"toc\")\n        </div>-->\n\n        <div id=\"src-27362044\">\n            <p>\n                </p>\n    <ul><li>            <p>\n    <a data-doc-anchor-id=\"src-27362044_LanguageManualSubQueries-SubqueriesintheFROMClause\" class=\"hue-doc-internal-link\" href=\"javascript:void(0);\" data-doc-ref=\"_27362044\">Subqueries in the FROM Clause</a>            </p>\n    </li><li>            <p>\n    <a data-doc-anchor-id=\"src-27362044_LanguageManualSubQueries-SubqueriesintheWHEREClause\" class=\"hue-doc-internal-link\" href=\"javascript:void(0);\" data-doc-ref=\"_27362044\">Subqueries in the WHERE Clause</a>            </p>\n    </li></ul>    <div id=\"src-27362044_LanguageManualSubQueries-SubqueriesintheFROMClause\">\n        <h2><span>Subqueries in the FROM Clause</span></h2>\n    <div style=\"counter-reset: scroll-code-numbering 1\">\n                <div class=\"hue-doc-codeblock\">SELECT ... FROM (subquery) name ...\nSELECT ... FROM (subquery) AS name ...   (Note: Only valid starting with Hive <span class=\"hue-doc-varname\">0.13</span>.<span class=\"hue-doc-varname\">0</span>)\n</div>\n    </div>\n            <p>\n    Hive supports subqueries only in the FROM clause (through Hive 0.12). The subquery has to be given a name because every table in a FROM clause must have a name. Columns in the subquery select list must have unique names. The columns in the subquery select list are available in the outer query just like columns of a table. The subquery can also be a query expression with UNION. Hive supports arbitrary levels of subqueries.            </p>\n                <p>\n    The optional keyword \"AS\" can be included before the subquery name in Hive 0.13.0 and later versions (<a class=\"hue-doc-external-link\" href=\"https://issues.apache.org/jira/browse/HIVE-6519\" target=\"_blank\">HIVE-6519</a>).            </p>\n                <p>\n    Example with simple subquery:            </p>\n        <div style=\"counter-reset: scroll-code-numbering 1\">\n                <div class=\"hue-doc-codeblock\">SELECT col \nFROM (\n  SELECT a+b AS col\n  FROM t1\n) t2\n</div>\n    </div>\n            <p>\n    Example with subquery containing a UNION ALL:            </p>\n        <div style=\"counter-reset: scroll-code-numbering 1\">\n                <div class=\"hue-doc-codeblock\">SELECT t3.col\nFROM (\n  SELECT a+b AS col\n  FROM t1\n  UNION ALL\n  SELECT c+d AS col\n  FROM t2\n) t3\n</div>\n    </div>\n    </div>\n    <div id=\"src-27362044_LanguageManualSubQueries-SubqueriesintheWHEREClause\">\n        <h2><span>Subqueries in the WHERE Clause</span></h2>\n            <p>\n    As of <a class=\"hue-doc-external-link\" href=\"https://issues.apache.org/jira/browse/HIVE-784\" target=\"_blank\">Hive 0.13</a> some types of subqueries are supported in the WHERE clause. Those are queries where the result of the query can be treated as a constant for IN and NOT IN statements (called <i>uncorrelated subqueries</i> because the subquery does not reference columns from the parent query):            </p>\n        <div style=\"counter-reset: scroll-code-numbering 1\">\n                <div class=\"hue-doc-codeblock\">SELECT *\nFROM A\nWHERE A.a IN (SELECT foo FROM B);\n</div>\n    </div>\n            <p>\n    The other supported types are EXISTS and NOT EXISTS subqueries:            </p>\n        <div style=\"counter-reset: scroll-code-numbering 1\">\n                <div class=\"hue-doc-codeblock\">SELECT A\nFROM T1\nWHERE EXISTS (SELECT B FROM T2 WHERE T1.X = T2.Y)\n</div>\n    </div>\n            <p>\n    There are a few limitations:            </p>\n    <ul><li>            <p>\n    These subqueries are only supported on the right-hand side of an expression.            </p>\n    </li><li>            <p>\n    IN/NOT IN subqueries may only select a single column.            </p>\n    </li><li>            <p>\n    EXISTS/NOT EXISTS must have one or more correlated predicates.            </p>\n    </li><li>            <p>\n    References to the parent query are only supported in the WHERE clause of the subquery.            </p>\n    </li></ul>    </div>\n        </div>\n    </div></div>","title":"SubQueries"}