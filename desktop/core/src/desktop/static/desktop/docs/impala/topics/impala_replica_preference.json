{"body":"<div><div id=\"replica_preference\"><div class=\"hue-doc-title\">REPLICA_PREFERENCE Query Option (Impala 2.7 or higher only)</div><div><p/><p>\n      The <span class=\"hue-doc-codeph\">REPLICA_PREFERENCE</span> query option lets you distribute the work more\n      evenly if hotspots and bottlenecks persist. It causes the access cost of all replicas of a\n      data block to be considered equal to or worse than the configured value. This allows\n      Impala to schedule reads to suboptimal replicas (e.g. local in the presence of cached\n      ones) in order to distribute the work across more executor nodes.\n    </p><p>\n      Allowed values are: <span class=\"hue-doc-codeph\">CACHE_LOCAL</span> (<span class=\"hue-doc-codeph\">0</span>),\n      <span class=\"hue-doc-codeph\">DISK_LOCAL</span> (<span class=\"hue-doc-codeph\">2</span>), <span class=\"hue-doc-codeph\">REMOTE</span>\n      (<span class=\"hue-doc-codeph\">4</span>)\n    </p><p><b>Type:</b> Enum\n    </p><p><b>Default:</b><span class=\"hue-doc-codeph\">CACHE_LOCAL (0)</span></p><p id=\"added_in_270\"><b>Added in:</b>Impala 2.7.0</p><p><b>Usage Notes:</b></p><p>\n      By default Impala selects the best replica it can find in terms of access cost. The\n      preferred order is cached, local, and remote. With <span class=\"hue-doc-codeph\">REPLICA_PREFERENCE</span>,\n      the preference of all replicas are capped at the selected value. For example, when\n      <span class=\"hue-doc-codeph\">REPLICA_PREFERENCE</span> is set to <span class=\"hue-doc-codeph\">DISK_LOCAL</span>, cached and\n      local replicas are treated with the equal preference. When set to\n      <span class=\"hue-doc-codeph\">REMOTE</span>, all three types of replicas, cached, local, remote, are treated\n      with equal preference.\n    </p><p id=\"related_info\"><b>Related information:</b></p><p><a class=\"hue-doc-internal-link\" href=\"javascript:void(0);\" data-doc-ref=\"topics/impala_perf_hdfs_caching.xml\" data-doc-anchor-id=\"hdfs_caching\">Using HDFS Caching with Impala (Impala 2.1 or higher only)</a>,\n      <a class=\"hue-doc-internal-link\" href=\"javascript:void(0);\" data-doc-ref=\"topics/impala_schedule_random_replica.xml\" data-doc-anchor-id=\"schedule_random_replica\">SCHEDULE_RANDOM_REPLICA Query Option (Impala 2.5 or higher only)</a></p></div></div></div>","title":"REPLICA_PREFERENCE Query Option (Impala 2.7 or higher only)"}