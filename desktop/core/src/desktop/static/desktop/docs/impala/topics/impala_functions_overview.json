{"body":"<div><div id=\"functions\"><div class=\"hue-doc-title\">Overview of Impala Functions</div><div><p>\n      Functions let you apply arithmetic, string, or other computations and transformations to Impala data. You\n      typically use them in <span class=\"hue-doc-codeph\">SELECT</span> lists and <span class=\"hue-doc-codeph\">WHERE</span> clauses to filter and format\n      query results so that the result set is exactly what you want, with no further processing needed on the\n      application side.\n    </p><p>\n      Scalar functions return a single result for each input row. See <a class=\"hue-doc-internal-link\" href=\"javascript:void(0);\" data-doc-ref=\"topics/impala_functions.xml\" data-doc-anchor-id=\"builtins\">Impala Built-In Functions</a>.\n    </p><div class=\"hue-doc-codeblock\">[localhost:21000] &gt; select name, population from country where continent = 'North America' order by population desc limit 4;\n[localhost:21000] &gt; select upper(name), population from country where continent = 'North America' order by population desc limit 4;\n+-------------+------------+\n| upper(name) | population |\n+-------------+------------+\n| USA         | 320000000  |\n| MEXICO      | 122000000  |\n| CANADA      | 25000000   |\n| GUATEMALA   | 16000000   |\n+-------------+------------+\n</div><p>\n      Aggregate functions combine the results from multiple rows:\n      either a single result for the entire table, or a separate result for each group of rows.\n      Aggregate functions are frequently used in combination with <span class=\"hue-doc-codeph\">GROUP BY</span>\n      and <span class=\"hue-doc-codeph\">HAVING</span> clauses in the <span class=\"hue-doc-codeph\">SELECT</span> statement.\n      See <a class=\"hue-doc-internal-link\" href=\"javascript:void(0);\" data-doc-ref=\"topics/impala_aggregate_functions.xml\" data-doc-anchor-id=\"aggregate_functions\">Impala Aggregate Functions</a>.\n    </p><div class=\"hue-doc-codeblock\">[localhost:21000] &gt; select continent, <b>sum(population)</b> as howmany from country <b>group by continent</b> order by howmany desc;\n+---------------+------------+\n| continent     | howmany    |\n+---------------+------------+\n| Asia          | 4298723000 |\n| Africa        | 1110635000 |\n| Europe        | 742452000  |\n| North America | 565265000  |\n| South America | 406740000  |\n| Oceania       | 38304000   |\n+---------------+------------+\n</div><p>\n      User-defined functions (UDFs) let you code your own logic.  They can be either scalar or aggregate functions.\n      UDFs let you implement important business or scientific logic using high-performance code for Impala to automatically parallelize.\n      You can also use UDFs to implement convenience functions to simplify reporting or porting SQL from other database systems.\n      See <a class=\"hue-doc-internal-link\" href=\"javascript:void(0);\" data-doc-ref=\"topics/impala_udf.xml\" data-doc-anchor-id=\"udfs\">User-Defined Functions (UDFs)</a>.\n    </p><div class=\"hue-doc-codeblock\">[localhost:21000] &gt; select <b>rot13('Hello world!')</b> as 'Weak obfuscation';\n+------------------+\n| weak obfuscation |\n+------------------+\n| Uryyb jbeyq!     |\n+------------------+\n[localhost:21000] &gt; select <b>likelihood_of_new_subatomic_particle(sensor1, sensor2, sensor3)</b> as probability\n                  &gt; from experimental_results group by experiment;\n</div><p>\n      Each function is associated with a specific database. For example, if you issue a <span class=\"hue-doc-codeph\">USE somedb</span>\n      statement followed by <span class=\"hue-doc-codeph\">CREATE FUNCTION somefunc</span>, the new function is created in the\n      <span class=\"hue-doc-codeph\">somedb</span> database, and you could refer to it through the fully qualified name\n      <span class=\"hue-doc-codeph\">somedb.somefunc</span>. You could then issue another <span class=\"hue-doc-codeph\">USE</span> statement\n      and create a function with the same name in a different database.\n    </p><p>\n      Impala built-in functions are associated with a special database named <span class=\"hue-doc-codeph\">_impala_builtins</span>,\n      which lets you refer to them from any database without qualifying the name.\n    </p><div class=\"hue-doc-codeblock\">[localhost:21000] &gt; show databases;\n+-------------------------+\n| name                    |\n+-------------------------+\n| <b>_impala_builtins</b>        |\n| analytic_functions      |\n| avro_testing            |\n| data_file_size          |\n...\n[localhost:21000] &gt; show functions in _impala_builtins like '*subs*';\n+-------------+-----------------------------------+\n| return type | signature                         |\n+-------------+-----------------------------------+\n| STRING      | substr(STRING, BIGINT)            |\n| STRING      | substr(STRING, BIGINT, BIGINT)    |\n| STRING      | substring(STRING, BIGINT)         |\n| STRING      | substring(STRING, BIGINT, BIGINT) |\n+-------------+-----------------------------------+\n</div><p><b>Related statements:</b><a class=\"hue-doc-internal-link\" href=\"javascript:void(0);\" data-doc-ref=\"topics/impala_create_function.xml\" data-doc-anchor-id=\"create_function\">CREATE FUNCTION Statement</a>,\n      <a class=\"hue-doc-internal-link\" href=\"javascript:void(0);\" data-doc-ref=\"topics/impala_drop_function.xml\" data-doc-anchor-id=\"drop_function\">DROP FUNCTION Statement</a></p></div></div></div>","title":"Overview of Impala Functions"}