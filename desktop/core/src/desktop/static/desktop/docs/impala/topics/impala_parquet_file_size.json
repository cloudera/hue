{"body":"<div><div id=\"parquet_file_size\"><div class=\"hue-doc-title\">PARQUET_FILE_SIZE Query Option</div><div><p>\n      Specifies the maximum size of each Parquet data file produced by Impala <span class=\"hue-doc-codeph\">INSERT</span> statements.\n    </p><p id=\"syntax_blurb\"><b>Syntax:</b></p><p>\n      Specify the size in bytes, or with a trailing <span class=\"hue-doc-codeph\">m</span> or <span class=\"hue-doc-codeph\">g</span> character to indicate\n      megabytes or gigabytes. For example:\n    </p><div class=\"hue-doc-codeblock\">-- 128 megabytes.\nset PARQUET_FILE_SIZE=134217728\nINSERT OVERWRITE parquet_table SELECT * FROM text_table;\n\n-- 512 megabytes.\nset PARQUET_FILE_SIZE=512m;\nINSERT OVERWRITE parquet_table SELECT * FROM text_table;\n\n-- 1 gigabyte.\nset PARQUET_FILE_SIZE=1g;\nINSERT OVERWRITE parquet_table SELECT * FROM text_table;\n</div><p id=\"usage_notes_blurb\"><b>Usage notes:</b></p><p>\n      With tables that are small or finely partitioned, the default Parquet block size (formerly 1 GB, now 256 MB\n      in Impala 2.0 and later) could be much larger than needed for each data file. For <span class=\"hue-doc-codeph\">INSERT</span>\n      operations into such tables, you can increase parallelism by specifying a smaller\n      <span class=\"hue-doc-codeph\">PARQUET_FILE_SIZE</span> value, resulting in more HDFS blocks that can be processed by different\n      nodes.\n</p><p><b>Type:</b> numeric, with optional unit specifier\n    </p><div class=\"hue-doc-note\"><p>\n      Currently, the maximum value for this setting is 1 gigabyte (<span class=\"hue-doc-codeph\">1g</span>).\n      Setting a value higher than 1 gigabyte could result in errors during\n      an <span class=\"hue-doc-codeph\">INSERT</span> operation.\n    </p></div><p><b>Default:</b> 0 (produces files with a target size of 256 MB; files might be larger for very wide tables)\n    </p><p id=\"adls_block_splitting\">\n        Because ADLS does not expose the block sizes of data files the way HDFS does, any Impala\n        <span class=\"hue-doc-codeph\">INSERT</span> or <span class=\"hue-doc-codeph\">CREATE TABLE AS SELECT</span> statements use the\n        <span class=\"hue-doc-codeph\">PARQUET_FILE_SIZE</span> query option setting to define the size of Parquet\n        data files. (Using a large block size is more important for Parquet tables than for\n        tables that use other file formats.)\n      </p><p id=\"isilon_blurb\"><b>Isilon considerations:</b></p><p id=\"isilon_block_size_caveat\">\n        Because the EMC Isilon storage devices use a global value for the block size rather than\n        a configurable value for each file, the <span class=\"hue-doc-codeph\">PARQUET_FILE_SIZE</span> query option\n        has no effect when Impala inserts data into a table or partition residing on Isilon\n        storage. Use the <span class=\"hue-doc-codeph\">isi</span> command to set the default block size globally on\n        the Isilon device. For example, to set the Isilon default block size to 256 MB, the\n        recommended size for Parquet data files for Impala, issue the following command:\n<div class=\"hue-doc-codeblock\">isi hdfs settings modify --default-block-size=256MB</div></p><p id=\"related_info\"><b>Related information:</b></p><p>\n      For information about the Parquet file format, and how the number and size of data files affects query\n      performance, see <a class=\"hue-doc-internal-link\" href=\"javascript:void(0);\" data-doc-ref=\"topics/impala_parquet.xml\" data-doc-anchor-id=\"parquet\">Using the Parquet File Format with Impala Tables</a>.\n    </p></div></div></div>","title":"PARQUET_FILE_SIZE Query Option"}