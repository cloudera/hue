{"body":"<div><div><div class=\"hue-doc-title\">DROP FUNCTION Statement</div><div><p>\n      Removes a user-defined function (UDF), so that it is not available for execution during Impala\n      <span class=\"hue-doc-codeph\">SELECT</span> or <span class=\"hue-doc-codeph\">INSERT</span> operations.\n    </p><p><b>Syntax:</b></p><p>\n      To drop C++ UDFs and UDAs:\n    </p><div class=\"hue-doc-codeblock\">DROP [AGGREGATE] FUNCTION [IF EXISTS] [<span class=\"hue-doc-varname\">db_name</span>.]<span class=\"hue-doc-varname\">function_name</span>(<span class=\"hue-doc-varname\">type</span>[, <span class=\"hue-doc-varname\">type</span>...])</div><div class=\"hue-doc-note\"><p>\n        The preceding syntax, which includes the function signature, also applies to Java UDFs that were created\n        using the corresponding <span class=\"hue-doc-codeph\">CREATE FUNCTION</span> syntax that includes the argument and return types.\n        After upgrading to Impala 2.5 or higher, consider re-creating all Java UDFs with the\n        <span class=\"hue-doc-codeph\">CREATE FUNCTION</span> syntax that does not include the function signature. Java UDFs created this\n        way are now persisted in the metastore database and do not need to be re-created after an Impala restart.\n      </p></div><p>\n      To drop Java UDFs (created using the <span class=\"hue-doc-codeph\">CREATE FUNCTION</span> syntax with no function signature):\n    </p><div class=\"hue-doc-codeblock\">DROP FUNCTION [IF EXISTS] [<span class=\"hue-doc-varname\">db_name</span>.]<span class=\"hue-doc-varname\">function_name</span></div><p><b>Statement type:</b> DDL\n      </p><p><b>Usage notes:</b></p><p>\n      Because the same function name could be overloaded with different argument signatures, you specify the\n      argument types to identify the exact function to drop.\n    </p><p><b>Restrictions:</b></p><p>\n        In Impala 2.5 and higher, Impala UDFs and UDAs written in C++ are persisted in the metastore database.\n        Java UDFs are also persisted, if they were created with the new <span class=\"hue-doc-codeph\">CREATE FUNCTION</span> syntax for Java UDFs,\n        where the Java function argument and return types are omitted.\n        Java-based UDFs created with the old <span class=\"hue-doc-codeph\">CREATE FUNCTION</span> syntax do not persist across restarts\n        because they are held in the memory of the <span class=\"hue-doc-cmdname\">catalogd</span> daemon.\n        Until you re-create such Java UDFs using the new <span class=\"hue-doc-codeph\">CREATE FUNCTION</span> syntax,\n        you must reload those Java-based UDFs by running the original <span class=\"hue-doc-codeph\">CREATE FUNCTION</span> statements again each time\n        you restart the <span class=\"hue-doc-cmdname\">catalogd</span> daemon.\n        Prior to Impala 2.5 the requirement to reload functions after a restart applied to both C++ and Java functions.\n      </p><p><b>Cancellation:</b> Cannot be cancelled.\n      </p><p><b>HDFS permissions:</b></p><p>\n      The user ID that the <span class=\"hue-doc-cmdname\">impalad</span> daemon runs under,\n      typically the <span class=\"hue-doc-codeph\">impala</span> user, does not need any\n      particular HDFS permissions to perform this statement.\n      All read and write operations are on the metastore database,\n      not HDFS files and directories.\n    </p><p><b>Examples:</b></p><p>\n      The following example shows how to drop Java functions created with the signatureless\n      <span class=\"hue-doc-codeph\">CREATE FUNCTION</span> syntax in Impala 2.5 and higher.\n      Issuing <span class=\"hue-doc-codeph\">DROP FUNCTION <span class=\"hue-doc-varname\">function_name</span></span> removes all the\n      overloaded functions under that name.\n      (See <a class=\"hue-doc-internal-link\" href=\"javascript:void(0);\" data-doc-ref=\"topics/impala_create_function.xml\" data-doc-anchor-id=\"create_function\">CREATE FUNCTION Statement</a> for a longer example\n      showing how to set up such functions in the first place.)\n    </p><div class=\"hue-doc-codeblock\">\ncreate function my_func location '/user/impala/udfs/udf-examples.jar'\n  symbol='org.apache.impala.TestUdf';\n\nshow functions;\n+-------------+---------------------------------------+-------------+---------------+\n| return type | signature                             | binary type | is persistent |\n+-------------+---------------------------------------+-------------+---------------+\n| BIGINT      | my_func(BIGINT)                       | JAVA        | true          |\n| BOOLEAN     | my_func(BOOLEAN)                      | JAVA        | true          |\n| BOOLEAN     | my_func(BOOLEAN, BOOLEAN)             | JAVA        | true          |\n...\n| BIGINT      | testudf(BIGINT)                       | JAVA        | true          |\n| BOOLEAN     | testudf(BOOLEAN)                      | JAVA        | true          |\n| BOOLEAN     | testudf(BOOLEAN, BOOLEAN)             | JAVA        | true          |\n...\n\ndrop function my_func;\nshow functions;\n+-------------+---------------------------------------+-------------+---------------+\n| return type | signature                             | binary type | is persistent |\n+-------------+---------------------------------------+-------------+---------------+\n| BIGINT      | testudf(BIGINT)                       | JAVA        | true          |\n| BOOLEAN     | testudf(BOOLEAN)                      | JAVA        | true          |\n| BOOLEAN     | testudf(BOOLEAN, BOOLEAN)             | JAVA        | true          |\n...\n</div><p><b>Related information:</b></p><p><a class=\"hue-doc-internal-link\" href=\"javascript:void(0);\" data-doc-ref=\"topics/impala_udf.xml\" data-doc-anchor-id=\"udfs\">Impala User-Defined Functions (UDFs)</a>, <a class=\"hue-doc-internal-link\" href=\"javascript:void(0);\" data-doc-ref=\"topics/impala_create_function.xml\" data-doc-anchor-id=\"create_function\">CREATE FUNCTION Statement</a></p></div></div></div>","title":"DROP FUNCTION Statement"}