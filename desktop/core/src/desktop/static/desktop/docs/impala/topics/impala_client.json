{"body":"<div><div id=\"intro_client\"><div class=\"hue-doc-title\">Impala Client Access</div><div><p>\n      Application developers have a number of options to interface with Impala. The core\n      development language with Impala is SQL. You can also use Java or other languages to\n      interact with Impala through the standard JDBC and ODBC interfaces used by many business\n      intelligence tools. For specialized kinds of analysis, you can supplement the Impala\n      built-in functions by writing user-defined functions in C++ or Java.\n    </p><p>\n      You can connect and submit requests to the Impala through:\n    </p><ul><li>\n        The impala-shell interactive command interpreter\n      </li><li>\n        The Hue web-based user interface\n      </li><li>\n        JDBC\n      </li><li>\n        ODBC\n      </li></ul><p>\n      Impala clients can connect to the Coordinator Impala Daemon (<span class=\"hue-doc-codeph\">impalad</span>) via\n      HiveServer2 over HTTP or over the TCP binary. Both HTTP and binary support the Kerberos\n      SPNEGO and LDAP for authentication to Impala. See below for the default ports and the\n      Impala flags to change the ports.\n    </p><p><table id=\"simpletable_tr2_gnt_43b\"><tr><td><b>Protocol</b></td><td><b>Default Port</b></td><td><b>Flag to Specify an Alternate Port</b></td></tr><tr><td>HTTP</td><td>28000</td><td><span class=\"hue-doc-codeph\">‑‑hs2_http_port</span></td></tr><tr><td>Binary TCP</td><td>21050</td><td><span class=\"hue-doc-codeph\">‑‑hs2_port</span></td></tr></table></p><p>\n      Each <span class=\"hue-doc-codeph\">impalad</span> daemon process, running on separate nodes in a cluster,\n      listens to <a class=\"hue-doc-internal-link\" href=\"javascript:void(0);\" data-doc-ref=\"topics/impala_ports.xml\" data-doc-anchor-id=\"ports\">several ports</a> for incoming requests:\n    </p><ul><li>\n        Requests from <span class=\"hue-doc-codeph\">impala-shell</span> and Hue are routed to the\n        <span class=\"hue-doc-codeph\">impalad</span> daemons through the same port.\n      </li><li>\n        The <span class=\"hue-doc-codeph\">impalad</span> daemons listen on separate ports for JDBC and ODBC\n        requests.\n      </li></ul><div class=\"hue-doc-section\" id=\"section_egg_wjt_f3b\"><div class=\"hue-doc-title\">Impala Startup Options for Client Connections</div><p>\n        Use the following flags when starting Impala Daemon coordinator to control client\n        connections to Impala.\n      </p><dl><dt>\n            --accepted_client_cnxn_timeout\n          </dt><dd>\n            Controls how Impala treats new connection requests if it has run out of the number\n            of threads configured by <span class=\"hue-doc-codeph\">--fe_service_threads</span>.\n            <p>\n              If <span class=\"hue-doc-codeph\">--accepted_client_cnxn_timeout &gt; 0</span>, new connection requests\n              are rejected if Impala can't get a server thread within the specified (in seconds)\n              timeout.\n            </p><p>\n              If <span class=\"hue-doc-codeph\">--accepted_client_cnxn_timeout=0</span>, i.e. no timeout, clients\n              wait indefinitely to open the new session until more threads are available.\n            </p><p>\n              The default timeout is 5 minutes.\n            </p><p>\n              The timeout applies only to client facing thrift servers, i.e., HS2 and Beeswax\n              servers.\n            </p></dd><dt>\n            --disconnected_session_timeout\n          </dt><dd>\n            When a HiveServer2 session has had no open connections for longer than this value,\n            the session will be closed, and any associated queries will be unregistered.\n            <p>\n              Specify the value in hours.\n            </p><p>\n              The default value is 1 hour.\n            </p><p>\n              This flag does not apply to Beeswax clients. When a Beeswax client connection is\n              closed, Impala closes the session associated with that connection.\n            </p></dd><dt>\n            --fe_service_threads\n          </dt><dd>\n            Specifies the maximum number of concurrent client connections allowed. The default\n            value is 64 with which 64 queries can run simultaneously.\n            <p>\n              If you have more clients trying to connect to Impala than the value of this\n              setting, the later arriving clients have to wait for the duration specified by\n              <span class=\"hue-doc-codeph\">--accepted_client_cnxn_timeout</span>. You can increase this value to\n              allow more client connections. However, a large value means more threads to be\n              maintained even if most of the connections are idle, and it could negatively\n              impact query latency. Client applications should use the connection pool to avoid\n              need for large number of sessions.\n            </p></dd><dt>\n            --hs2_http_port\n          </dt><dd>\n            Specifies the port for clients to connect to Impala server over HTTP.\n            <p>\n              The default port is 28000.\n            </p><p>\n              You can disable the HTTP end point for clients by setting the flag to\n              <span class=\"hue-doc-codeph\">0</span>.\n            </p><p>\n              To enable TLS/SSL for HiveServer2 HTTP endpoint use\n              <span class=\"hue-doc-codeph\">--ssl_server_certificate</span> and <span class=\"hue-doc-codeph\">--ssl_private_key</span>.\n              See <a class=\"hue-doc-external-link\" href=\"https://www.cloudera.com/documentation/enterprise/latest/topics/impala_ssl.html#ssl\" target=\"_blank\">Configuring TLS/SSL for Impala</a> for detail.\n            </p></dd><dt>\n            --idle_client_poll_time_s\n          </dt><dd>\n            The value of this setting specifies how frequently Impala polls to check if a client\n            connection is idle and closes it if the connection is idle. A client connection is\n            idle if all sessions associated with the client connection are idle.\n            <p>\n              By default, <span class=\"hue-doc-codeph\">--idle_client_poll_time_s</span> is set to 30 seconds.\n            </p><p>\n              If <span class=\"hue-doc-codeph\">--idle_client_poll_time_s</span> is set to 0, idle client connections\n              stay open until explicitly closed by the clients.\n            </p><p>\n              The connection will only be closed if all the associated sessions are idle or\n              closed. Sessions cannot be idle unless either the flag\n              <span class=\"hue-doc-codeph\">--idle_session_timeout</span> or the\n              <span class=\"hue-doc-codeph\">IDLE_SESSION_TIMEOUT</span> query option is set to greater than 0. If\n              idle session timeout is not configured, a session cannot become idle by\n              definition, and therefore its connection stays open until the client explicitly\n              closes it.\n            </p></dd><dt>\n            --max_cookie_lifetime_s\n          </dt><dd>\n            Starting in Impala 3.4.0, Impala uses cookies for authentication when clients\n            connect via HiveServer2 over HTTP. Use the <span class=\"hue-doc-codeph\">--max_cookie_lifetime_s</span>\n            startup flag to control how long generated cookies are valid for.\n            <p>\n              Specify the value in seconds.\n            </p><p>\n              The default value is 1 day.\n            </p><p>\n              Setting the flag to <span class=\"hue-doc-codeph\">0</span> disables cookie support.\n            </p><p>\n              When an unexpired cookie is successfully verified, the user name contained in the\n              cookie is set on the connection.\n            </p><p>\n              Each <span class=\"hue-doc-codeph\">impalad</span> uses its own key to generate the signature, so\n              clients that reconnect to a different <span class=\"hue-doc-codeph\">impalad</span> have to\n              re-authenticate.\n            </p><p>\n              On a single <span class=\"hue-doc-codeph\">impalad</span>, cookies are valid across sessions and\n              connections.\n            </p></dd></dl></div></div></div></div>","title":"Impala Client Access"}