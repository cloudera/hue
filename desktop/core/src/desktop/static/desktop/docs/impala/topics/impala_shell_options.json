{"body":"<div><div id=\"shell_options\"><div class=\"hue-doc-title\">impala-shell Configuration Options</div><div><p> You can specify the following options when starting the\n        <span class=\"hue-doc-codeph\">impala-shell</span> command to change how shell commands are\n      executed. The table shows the format to use when specifying each option on\n      the command line, or through the <span class=\"hue-doc-codeph\">impala-shell</span>\n      configuration file. </p><div class=\"hue-doc-note\"><p>\n        These options are different than the configuration options for the <span class=\"hue-doc-codeph\">impalad</span> daemon itself.\n        For the <span class=\"hue-doc-codeph\">impalad</span> options, see <a class=\"hue-doc-external-link\" href=\"https://www.cloudera.com/documentation/enterprise/latest/topics/impala_config_options.html#config_options\" target=\"_blank\">Modifying Impala Startup Options</a>.\n      </p></div><p/></div><div id=\"shell_option_summary\"><div class=\"hue-doc-title\">Summary of impala-shell Configuration Options</div><div><p>\n        The following table shows the names and allowed arguments for the <span class=\"hue-doc-cmdname\">impala-shell</span>\n        configuration options. You can specify options on the command line, or in a configuration file as described\n        in <a class=\"hue-doc-internal-link\" href=\"javascript:void(0);\" data-doc-ref=\"topics/impala_shell_options.xml\" data-doc-anchor-id=\"shell_config_file\">impala-shell Configuration File</a>.\n      </p><table><thead><tr><td>\n                Command-Line Option\n              </td><td>\n                Configuration File Setting\n              </td><td>\n                Explanation\n              </td></tr></thead><tbody><tr><td><p> -B or </p><p>--delimited </p></td><td><p>\n                  write_delimited=true\n                </p></td><td><p>\n                  Causes all query results to be printed in plain format as a delimited text file. Useful for\n                  producing data files to be used with other Hadoop components. Also useful for avoiding the\n                  performance overhead of pretty-printing all output, especially when running benchmark tests using\n                  queries returning large result sets. Specify the delimiter character with the\n                  <span class=\"hue-doc-codeph\">--output_delimiter</span> option. Store all query results in a file rather than\n                  printing to the screen with the <span class=\"hue-doc-codeph\">-B</span> option. Added in Impala 1.0.1.\n                </p></td></tr><tr><td><p>\n                  -b or\n                </p><p>\n                  --kerberos_host_fqdn\n                </p></td><td><p>\n                  kerberos_host_fqdn=\n                </p><p><span class=\"hue-doc-varname\">load-balancer-hostname</span></p></td><td><p>\n                  If set, the setting overrides the expected hostname of the\n                  Impala daemon's Kerberos service principal.\n                    <span class=\"hue-doc-cmdname\">impala-shell</span> will check that the server's\n                  principal matches this hostname. This may be used when\n                    <span class=\"hue-doc-codeph\">impalad</span> is configured to be accessed via a\n                  load-balancer, but it is desired for impala-shell to talk to a\n                  specific <span class=\"hue-doc-codeph\">impalad</span> directly.\n                </p></td></tr><tr><td><p>\n                  --print_header\n                </p></td><td><p>\n                  print_header=true\n                </p></td><td><p/></td></tr><tr><td><p> -o <span class=\"hue-doc-varname\">filename</span> or </p><p>--output_file <span class=\"hue-doc-varname\">filename</span></p></td><td><p>\n                  output_file=<span class=\"hue-doc-varname\">filename</span></p></td><td><p>\n                  Stores all query results in the specified file. Typically used to store the results of a single\n                  query issued from the command line with the <span class=\"hue-doc-codeph\">-q</span> option. Also works for\n                  interactive sessions; you see the messages such as number of rows fetched, but not the actual\n                  result set. To suppress these incidental messages when combining the <span class=\"hue-doc-codeph\">-q</span> and\n                  <span class=\"hue-doc-codeph\">-o</span> options, redirect <span class=\"hue-doc-codeph\">stderr</span> to <span class=\"hue-doc-codeph\">/dev/null</span>.\n                  Added in Impala 1.0.1.\n                </p></td></tr><tr><td><p>\n                  --output_delimiter=<span class=\"hue-doc-varname\">character</span></p></td><td><p>\n                  output_delimiter=<span class=\"hue-doc-varname\">character</span></p></td><td><p>\n                  Specifies the character to use as a delimiter between fields when query results are printed in\n                  plain format by the <span class=\"hue-doc-codeph\">-B</span> option. Defaults to tab (<span class=\"hue-doc-codeph\">'\\t'</span>). If an\n                  output value contains the delimiter character, that field is quoted, escaped by doubling quotation marks, or both. Added in\n                  Impala 1.0.1.\n                </p></td></tr><tr><td><p> -p or </p><p>--show_profiles </p></td><td><p>\n                  show_profiles=true\n                </p></td><td><p>\n                  Displays the query execution plan (same output as the <span class=\"hue-doc-codeph\">EXPLAIN</span> statement) and a\n                  more detailed low-level breakdown of execution steps, for every query executed by the shell.\n                </p></td></tr><tr><td><p> -h or </p><p>--help </p></td><td><p>\n                  N/A\n                </p></td><td><p>\n                  Displays help information.\n                </p></td></tr><tr><td><p>\n                  N/A\n                </p></td><td><p>\n                  history_max=1000\n                </p></td><td><p>\n                  Sets the maximum number of queries to store in the history file.\n                </p></td></tr><tr><td><p> -i <span class=\"hue-doc-varname\">hostname</span> or </p><p>--impalad=<span class=\"hue-doc-varname\">hostname</span>[:<span class=\"hue-doc-varname\">portnum</span>] </p></td><td><p>\n                  impalad=<span class=\"hue-doc-varname\">hostname</span>[:<span class=\"hue-doc-varname\">portnum</span>]\n                </p></td><td><p>\n                  Connects to the <span class=\"hue-doc-codeph\">impalad</span> daemon on the specified host. The default port of 21050\n                  is assumed unless you provide another value. You can connect to any host in your cluster that is\n                  running <span class=\"hue-doc-codeph\">impalad</span>. If you connect to an instance of <span class=\"hue-doc-codeph\">impalad</span> that\n                  was started with an alternate port specified by the <span class=\"hue-doc-codeph\">--fe_port</span> flag, provide that\n                  alternative port.\n                </p></td></tr><tr><td><p> -q <span class=\"hue-doc-varname\">query</span> or </p><p>--query=<span class=\"hue-doc-varname\">query</span></p></td><td><p>\n                  query=<span class=\"hue-doc-varname\">query</span></p></td><td><p>\n                  Passes a query or other <span class=\"hue-doc-cmdname\">impala-shell</span> command from the command line. The\n                  <span class=\"hue-doc-cmdname\">impala-shell</span> interpreter immediately exits after processing the statement. It\n                  is limited to a single statement, which could be a <span class=\"hue-doc-codeph\">SELECT</span>, <span class=\"hue-doc-codeph\">CREATE\n                  TABLE</span>, <span class=\"hue-doc-codeph\">SHOW TABLES</span>, or any other statement recognized in\n                  <span class=\"hue-doc-codeph\">impala-shell</span>. Because you cannot pass a <span class=\"hue-doc-codeph\">USE</span> statement and\n                  another query, fully qualify the names for any tables outside the <span class=\"hue-doc-codeph\">default</span>\n                  database. (Or use the <span class=\"hue-doc-codeph\">-f</span> option to pass a file with a <span class=\"hue-doc-codeph\">USE</span>\n                  statement followed by other queries.)\n                </p></td></tr><tr><td><p> -f <span class=\"hue-doc-varname\">query_file</span> or</p><p> --query_file=<span class=\"hue-doc-varname\">query_file</span></p></td><td><p>\n                  query_file=<span class=\"hue-doc-varname\">path_to_query_file</span></p></td><td><p>\n                  Passes a SQL query from a file. Multiple statements must be semicolon (;) delimited.\n                  <span class=\"hue-doc-ph\">In Impala 2.3 and higher, you can specify a filename of <span class=\"hue-doc-codeph\">-</span>\n                  to represent standard input. This feature makes it convenient to use <span class=\"hue-doc-cmdname\">impala-shell</span>\n                  as part of a Unix pipeline where SQL statements are generated dynamically by other tools.</span></p></td></tr><tr><td><p> --query_option=</p><p>\"<span class=\"hue-doc-varname\">option</span>=</p><p><span class=\"hue-doc-varname\">value</span>\" </p><p>-Q \"<span class=\"hue-doc-varname\">option</span>=</p><p><span class=\"hue-doc-varname\">value</span>\" </p></td><td><p>\n                 Header line <span class=\"hue-doc-codeph\">[impala.query_options]</span>,\n                 followed on subsequent lines by <span class=\"hue-doc-varname\">option</span>=<span class=\"hue-doc-varname\">value</span>, one option per line.\n                </p></td><td><p>\n                  Sets default query options for an invocation of the <span class=\"hue-doc-cmdname\">impala-shell</span> command.\n                  To set multiple query options at once, use more than one instance of this command-line option.\n                  The query option names are not case-sensitive.\n                </p></td></tr><tr><td><p> -k or </p><p>--kerberos </p></td><td><p>\n                  use_kerberos=true\n                </p></td><td><p>\n                  Kerberos authentication is used when the shell connects to <span class=\"hue-doc-codeph\">impalad</span>. If Kerberos\n                  is not enabled on the instance of <span class=\"hue-doc-codeph\">impalad</span> to which you are connecting, errors\n                  are displayed.\n                </p><p>\n                  See <a class=\"hue-doc-external-link\" href=\"https://www.cloudera.com/documentation/enterprise/latest/topics/impala_kerberos.html#kerberos\" target=\"_blank\">Enabling Kerberos Authentication for Impala</a> for the steps to set up and\n                  use Kerberos authentication in Impala.\n                </p></td></tr><tr><td><p> -s <span class=\"hue-doc-varname\">kerberos_service_name</span> or </p><p>--kerberos_service_name=<span class=\"hue-doc-varname\">name</span></p></td><td><p>\n                  kerberos_service_name=<span class=\"hue-doc-varname\">name</span></p></td><td><p>\n                  Instructs <span class=\"hue-doc-codeph\">impala-shell</span> to authenticate to a particular <span class=\"hue-doc-codeph\">impalad</span>\n                  service principal. If a <span class=\"hue-doc-varname\">kerberos_service_name</span> is not specified,\n                  <span class=\"hue-doc-codeph\">impala</span> is used by default. If this option is used in conjunction with a\n                  connection in which Kerberos is not supported, errors are returned.\n                </p></td></tr><tr><td><p> -V or </p><p>--verbose </p></td><td><p>\n                  verbose=true\n                </p></td><td><p>\n                  Enables verbose output.\n                </p></td></tr><tr><td><p>\n                  --quiet\n                </p></td><td><p>\n                  verbose=false\n                </p></td><td><p>\n                  Disables verbose output.\n                </p></td></tr><tr><td><p> -v or </p><p>--version </p></td><td><p>\n                  version=true\n                </p></td><td><p>\n                  Displays version information.\n                </p></td></tr><tr><td><p>\n                  -c\n                </p></td><td><p>\n                  ignore_query_failure=true\n                </p></td><td><p>\n                  Continues on query failure.\n                </p></td></tr><tr><td><p> -d <span class=\"hue-doc-varname\">default_db</span> or </p><p>--database=<span class=\"hue-doc-varname\">default_db</span></p></td><td><p>\n                  default_db=<span class=\"hue-doc-varname\">default_db</span></p></td><td><p>\n                  Specifies the database to be used on startup. Same as running the\n                  <span class=\"hue-doc-codeph\"><a class=\"hue-doc-internal-link\" href=\"javascript:void(0);\" data-doc-ref=\"topics/impala_use.xml\" data-doc-anchor-id=\"use\">USE</a></span> statement after connecting. If not\n                  specified, a database named <span class=\"hue-doc-codeph\">DEFAULT</span> is used.\n                </p></td></tr><tr><td>\n                -ssl\n              </td><td>\n                ssl=true\n              </td><td>\n                Enables TLS/SSL for <span class=\"hue-doc-cmdname\">impala-shell</span>.\n              </td></tr><tr><td>\n                --ca_cert=<span class=\"hue-doc-varname\">path_to_certificate</span></td><td>\n                ca_cert=<span class=\"hue-doc-varname\">path_to_certificate</span></td><td>\n                The local pathname pointing to the third-party CA certificate, or to a copy of the server\n                certificate for self-signed server certificates. If <span class=\"hue-doc-codeph\">--ca_cert</span> is not set,\n                <span class=\"hue-doc-cmdname\">impala-shell</span> enables TLS/SSL, but does not validate the server certificate. This is\n                useful for connecting to a known-good Impala that is only running over TLS/SSL, when a copy of the\n                certificate is not available (such as when debugging customer installations).\n              </td></tr><tr><td>\n                -l\n              </td><td>\n                use_ldap=true\n              </td><td>\n                Enables LDAP authentication.\n              </td></tr><tr><td>\n                -u\n              </td><td>\n                user=<span class=\"hue-doc-varname\">user_name</span></td><td>\n                Supplies the username, when LDAP authentication is enabled by the <span class=\"hue-doc-codeph\">-l</span> option.\n                (Specify the short username, not the full LDAP distinguished name.) The shell then prompts\n                interactively for the password.\n              </td></tr><tr><td>\n                --ldap_password_cmd=<span class=\"hue-doc-varname\">command</span></td><td>\n                N/A\n              </td><td>\n                Specifies a command to run to retrieve the LDAP password,\n                when LDAP authentication is enabled by the <span class=\"hue-doc-codeph\">-l</span> option.\n                If the command includes space-separated arguments, enclose the command and\n                its arguments in quotation marks.\n              </td></tr><tr><td>\n                --config_file=<span class=\"hue-doc-varname\">path_to_config_file</span></td><td>\n                N/A\n              </td><td> Specifies the path of the file containing\n                  <span class=\"hue-doc-cmdname\">impala-shell</span> configuration settings. The\n                default is <span class=\"hue-doc-filepath\">/etc/impalarc</span>. This setting can\n                only be specified on the command line. </td></tr><tr><td>--live_progress</td><td>live_progress=true</td><td>Prints a progress bar showing roughly the percentage complete for each query.\n                The information is updated interactively as the query progresses.\n                See <a class=\"hue-doc-internal-link\" href=\"javascript:void(0);\" data-doc-ref=\"topics/impala_live_progress.xml\" data-doc-anchor-id=\"live_progress\">LIVE_PROGRESS Query Option (Impala 2.3 or higher only)</a>.</td></tr><tr><td>--disable_live_progress</td><td>live_progress=false</td><td>A command line flag allows users to disable live_progress in the interactive mode.</td></tr><tr><td>--live_summary</td><td>N/A</td><td>Prints a detailed report, similar to the <span class=\"hue-doc-codeph\">SUMMARY</span> command, showing progress details for each phase of query execution.\n              The information is updated interactively as the query progresses.\n              See <a class=\"hue-doc-internal-link\" href=\"javascript:void(0);\" data-doc-ref=\"topics/impala_live_summary.xml\" data-doc-anchor-id=\"live_summary\">LIVE_SUMMARY Query Option (Impala 2.3 or higher only)</a>.</td></tr><tr><td>--var=<span class=\"hue-doc-varname\">variable_name</span>=<span class=\"hue-doc-varname\">value</span></td><td>N/A</td><td>\n                Defines a substitution variable that can be used within the <span class=\"hue-doc-cmdname\">impala-shell</span> session.\n                The variable can be substituted into statements processed by the <span class=\"hue-doc-codeph\">-q</span> or <span class=\"hue-doc-codeph\">-f</span> options,\n                or in an interactive shell session.\n                Within a SQL statement, you substitute the value by using the notation <span class=\"hue-doc-codeph\">${var:<span class=\"hue-doc-varname\">variable_name</span>}</span>.\n                This feature is available in Impala 2.5 and higher.\n              </td></tr><tr><td>--auth_creds_ok_in_clear</td><td>N/A</td><td>\n                Allows LDAP authentication to be used with an insecure connection to the shell.\n                WARNING: This will allow authentication credentials to be sent unencrypted,\n                and hence may be vulnerable to an attack.\n              </td></tr><tr><td>--protocol=<span class=\"hue-doc-varname\">protocol</span></td><td>N/A</td><td>Protocol to use for the connection to Impala. <p>Valid\n                    <span class=\"hue-doc-varname\">protocol</span> values are:<ul><li><span class=\"hue-doc-codeph\">'hs2'</span>: Impala-shell uses the binary TCP\n                      based transport to speak to the Impala Daemon via the\n                      HiveServer2 protocol. This is the current default setting.</li><li><span class=\"hue-doc-codeph\">'hs2-http'</span>: Impala-shell uses HTTP\n                      transport to speak to the Impala Daemon via the\n                      HiveServer2 protocol.</li><li><span class=\"hue-doc-codeph\">'beeswax'</span>: Impala-shell uses the binary\n                      TCP based transport to speak to the Impala Daemon via\n                      Beeswax.</li></ul></p><p>You cannot connect to the 3.2 or earlier versions\n                  of Impala using the <span class=\"hue-doc-codeph\">'hs2'</span> or\n                    <span class=\"hue-doc-codeph\">'hs2-http'</span> option.</p><p>Beeswax support is\n                  deprecated and will be removed in the future.</p></td></tr></tbody></table></div></div><div id=\"shell_config_file\"><div class=\"hue-doc-title\">impala-shell Configuration File</div><div><p>You can store a set of default settings for\n          <span class=\"hue-doc-cmdname\">impala-shell</span> in the <span class=\"hue-doc-codeph\">impala-shell</span>\n        configuration file.</p><p>The global <span class=\"hue-doc-codeph\">impala-shell</span> configuration file is located\n        in <span class=\"hue-doc-codeph\">/etc/impalarc</span>.</p><p>The user-level <span class=\"hue-doc-codeph\">impala-shell</span> configuration file is\n        located in <span class=\"hue-doc-codeph\">~/.impalarc</span>.</p><p>Note that the global-level file name is different from the user-level\n        file name. The global-level file name does not include a dot\n          (<span class=\"hue-doc-filepath\">.</span>) in the file name.</p><p>The default path of the global configuration file can be changed by\n        setting the <span class=\"hue-doc-codeph\">$IMPALA_SHELL_GLOBAL_CONFIG_FILE</span>\n        environment variable.</p><p>To specify a different file name or path for the user-level\n        configuration file, start <span class=\"hue-doc-cmdname\">impala-shell</span> with the\n          <span class=\"hue-doc-codeph\">--config_file</span><span class=\"hue-doc-cmdname\">impala-shell</span> option set to the path of the\n        configuration file. </p><p>Typically, an administrator creates the global configuration file for\n        the <span class=\"hue-doc-cmdname\">impala-shell</span>, and if the user-level configuration\n        file exists, the options set in the user configuration file take\n        precedence over those in the global configuration file.</p><p>In turn, any options you specify on the <span class=\"hue-doc-cmdname\">impala-shell</span>\n        command line override any corresponding options within the configuration\n        file. </p><p> The <span class=\"hue-doc-codeph\">impala-shell</span> configuration file (global or user)\n        configuration file must contain a header label\n        <span class=\"hue-doc-codeph\">[impala]</span>, followed by the options specific to\n          <span class=\"hue-doc-cmdname\">impala-shell</span>.</p><p>The <span class=\"hue-doc-codeph\">impala-shell</span> configuration file consists of\n        key-value pairs, one option per line. Everything after the\n          <span class=\"hue-doc-codeph\">#</span> character on a line is treated as a comment and\n        ignored. </p><p> The names of the options in the configuration file are similar\n        (although not necessarily identical) to the long-form command-line\n        arguments to the <span class=\"hue-doc-cmdname\">impala-shell</span> command. For the names\n        to use, see <a class=\"hue-doc-internal-link\" href=\"javascript:void(0);\" data-doc-ref=\"topics/impala_shell_options.xml\" data-doc-anchor-id=\"shell_option_summary\">Summary of impala-shell Configuration Options</a>. </p><p>You can specify key-value pair options using <span class=\"hue-doc-codeph\">keyval</span>,\n        similar to the <span class=\"hue-doc-codeph\">--var</span> command-line option. For example,\n          <span class=\"hue-doc-codeph\">keyval=</span><span class=\"hue-doc-varname\">variable1</span>=<span class=\"hue-doc-varname\">value1</span>.</p><p>The query options specified in the <span class=\"hue-doc-codeph\">[impala]</span> section\n        override the options specified in the\n          <span class=\"hue-doc-codeph\">[impala.query_options]</span> section.</p><p> The following example shows a configuration file that you might use\n        during benchmarking tests. It sets verbose mode, so that the output from\n        each SQL query is followed by timing information.\n          <span class=\"hue-doc-cmdname\">impala-shell</span> starts inside the database containing\n        the tables with the benchmark data, avoiding the need to issue a\n          <span class=\"hue-doc-codeph\">USE</span> statement or use fully qualified table names. </p><p> In this example, the query output is formatted as delimited text\n        rather than enclosed in ASCII art boxes, and is stored in a file rather\n        than printed to the screen. Those options are appropriate for benchmark\n        situations, so that the overhead of <span class=\"hue-doc-cmdname\">impala-shell</span>\n        formatting and printing the result set does not factor into the timing\n        measurements. It also enables the <span class=\"hue-doc-codeph\">show_profiles</span> option.\n        That option prints detailed performance information after each query,\n        which might be valuable in understanding the performance of benchmark\n        queries. </p><div class=\"hue-doc-codeblock\">[impala]\nverbose=true\ndefault_db=tpc_benchmarking\nwrite_delimited=true\noutput_delimiter=,\noutput_file=/home/tester1/benchmark_results.csv\nshow_profiles=true\nkeyval=msg1=hello,keyval=msg2=world</div><p> The following example shows a configuration\n        file that connects to a specific remote Impala node, runs a single query\n        within a particular database, then exits. Any query options predefined\n        under the <span class=\"hue-doc-codeph\">[impala.query_options]</span> section in the\n        configuration file take effect during the session. </p><p> You would typically use this kind of single-purpose configuration\n        setting with the <span class=\"hue-doc-cmdname\">impala-shell</span> command-line option\n            <span class=\"hue-doc-codeph\">--config_file=<span class=\"hue-doc-varname\">path_to_config_file</span></span>,\n        to easily select between many predefined queries that could be run\n        against different databases, hosts, or even different clusters. To run a\n        sequence of statements instead of a single query, specify the\n        configuration option\n            <span class=\"hue-doc-codeph\">query_file=<span class=\"hue-doc-varname\">path_to_query_file</span></span>\n        instead. </p><div class=\"hue-doc-codeblock\">[impala]\nimpalad=impala-test-node1.example.com\ndefault_db=site_stats\n# Issue a predefined query and immediately exit.\nquery=select count(*) from web_traffic where event_date = trunc(now(),'dd')\n\n<span class=\"hue-doc-ph\">[impala.query_options]\nmem_limit=32g</span></div></div></div></div></div>","title":"impala-shell Configuration Options"}