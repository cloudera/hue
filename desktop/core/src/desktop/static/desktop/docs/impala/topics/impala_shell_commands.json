{"body":"<div><div id=\"shell_commands\"><div class=\"hue-doc-title\">impala-shell Command Reference</div><div><p>\n      Use the following commands within <span class=\"hue-doc-codeph\">impala-shell</span> to pass requests to the\n      <span class=\"hue-doc-codeph\">impalad</span> daemon that the shell is connected to. You can enter a command interactively at the\n      prompt, or pass it as the argument to the <span class=\"hue-doc-codeph\">-q</span> option of <span class=\"hue-doc-codeph\">impala-shell</span>. Most\n      of these commands are passed to the Impala daemon as SQL statements; refer to the corresponding\n      <a class=\"hue-doc-internal-link\" href=\"javascript:void(0);\" data-doc-ref=\"topics/impala_langref_sql.xml\" data-doc-anchor-id=\"langref_sql\">SQL language reference sections</a> for full syntax\n      details.\n    </p><table><thead><tr><td>\n              Command\n            </td><td>\n              Explanation\n            </td></tr></thead><tbody><tr id=\"alter_cmd\"><td><p><span class=\"hue-doc-codeph\">alter</span></p></td><td><p>\n                Changes the underlying structure or settings of an Impala table, or a table shared between Impala\n                and Hive. See <a class=\"hue-doc-internal-link\" href=\"javascript:void(0);\" data-doc-ref=\"topics/impala_alter_table.xml\" data-doc-anchor-id=\"alter_table\">ALTER TABLE Statement</a> and\n                <a class=\"hue-doc-internal-link\" href=\"javascript:void(0);\" data-doc-ref=\"topics/impala_alter_view.xml\" data-doc-anchor-id=\"alter_view\">ALTER VIEW Statement</a> for details.\n              </p></td></tr><tr id=\"compute_cmd\"><td><p><span class=\"hue-doc-codeph\">compute stats</span></p></td><td><p>\n                Gathers important performance-related information for a table, used by Impala to optimize queries.\n                See <a class=\"hue-doc-internal-link\" href=\"javascript:void(0);\" data-doc-ref=\"topics/impala_compute_stats.xml\" data-doc-anchor-id=\"compute_stats\">COMPUTE STATS Statement</a> for details.\n              </p></td></tr><tr id=\"connect_cmd\"><td><p><span class=\"hue-doc-codeph\">connect</span></p></td><td><p>\n                Connects to the specified instance of <span class=\"hue-doc-codeph\">impalad</span>. The default port of 21000 is\n                assumed unless you provide another value. You can connect to any host in your cluster that is\n                running <span class=\"hue-doc-codeph\">impalad</span>. If you connect to an instance of <span class=\"hue-doc-codeph\">impalad</span> that\n                was started with an alternate port specified by the <span class=\"hue-doc-codeph\">--fe_port</span> flag, you must\n                provide that alternate port. See <a class=\"hue-doc-internal-link\" href=\"javascript:void(0);\" data-doc-ref=\"topics/impala_connecting.xml\" data-doc-anchor-id=\"connecting\">Connecting to Impala Daemon from impala-shell</a> for examples.\n              </p><p id=\"set_vs_connect\">\n        The <span class=\"hue-doc-codeph\">SET</span> statement has no effect until the\n        <span class=\"hue-doc-cmdname\">impala-shell</span> interpreter is connected to an Impala server. Once you\n        are connected, any query options you set remain in effect as you issue a subsequent\n        <span class=\"hue-doc-codeph\">CONNECT</span> command to connect to a different Impala host.\n      </p></td></tr><tr id=\"describe_cmd\"><td><p><span class=\"hue-doc-codeph\">describe</span></p></td><td><p>\n                Shows the columns, column data types, and any column comments for a specified table.\n                <span class=\"hue-doc-codeph\">DESCRIBE FORMATTED</span> shows additional information such as the HDFS data directory,\n                partitions, and internal properties for the table. See <a class=\"hue-doc-internal-link\" href=\"javascript:void(0);\" data-doc-ref=\"topics/impala_describe.xml\" data-doc-anchor-id=\"describe\">DESCRIBE Statement</a>\n                for details about the basic <span class=\"hue-doc-codeph\">DESCRIBE</span> output and the <span class=\"hue-doc-codeph\">DESCRIBE\n                FORMATTED</span> variant. You can use <span class=\"hue-doc-codeph\">DESC</span> as shorthand for the\n                <span class=\"hue-doc-codeph\">DESCRIBE</span> command.\n              </p></td></tr><tr id=\"drop_cmd\"><td><p><span class=\"hue-doc-codeph\">drop</span></p></td><td><p>\n                Removes a schema object, and in some cases its associated data files. See\n                <a class=\"hue-doc-internal-link\" href=\"javascript:void(0);\" data-doc-ref=\"topics/impala_drop_table.xml\" data-doc-anchor-id=\"drop_table\">DROP TABLE Statement</a>, <a class=\"hue-doc-internal-link\" href=\"javascript:void(0);\" data-doc-ref=\"topics/impala_drop_view.xml\" data-doc-anchor-id=\"drop_view\">DROP VIEW Statement</a>,\n                <a class=\"hue-doc-internal-link\" href=\"javascript:void(0);\" data-doc-ref=\"topics/impala_drop_database.xml\" data-doc-anchor-id=\"drop_database\">DROP DATABASE Statement</a>, and\n                <a class=\"hue-doc-internal-link\" href=\"javascript:void(0);\" data-doc-ref=\"topics/impala_drop_function.xml\" data-doc-anchor-id=\"drop_function\">DROP FUNCTION Statement</a> for details.\n              </p></td></tr><tr id=\"explain_cmd\"><td><p><span class=\"hue-doc-codeph\">explain</span></p></td><td><p>\n                Provides the execution plan for a query. <span class=\"hue-doc-codeph\">EXPLAIN</span> represents a query as a series of\n                steps. For example, these steps might be map/reduce stages, metastore operations, or file system\n                operations such as move or rename. See <a class=\"hue-doc-internal-link\" href=\"javascript:void(0);\" data-doc-ref=\"topics/impala_explain.xml\" data-doc-anchor-id=\"explain\">EXPLAIN Statement</a> and\n                <a class=\"hue-doc-internal-link\" href=\"javascript:void(0);\" data-doc-ref=\"topics/impala_explain_plan.xml\" data-doc-anchor-id=\"perf_explain\">Using the EXPLAIN Plan for Performance Tuning</a> for details.\n              </p></td></tr><tr id=\"help_cmd\"><td><p><span class=\"hue-doc-codeph\">help</span></p></td><td><p>\n                Help provides a list of all available commands and options.\n              </p></td></tr><tr id=\"history_cmd\"><td><p><span class=\"hue-doc-codeph\">history</span></p></td><td><p>\n                Maintains an enumerated cross-session command history. This history is stored in the\n                <span class=\"hue-doc-filepath\">~/.impalahistory</span> file.\n              </p></td></tr><tr id=\"insert_cmd\"><td><p><span class=\"hue-doc-codeph\">insert</span></p></td><td><p>\n                Writes the results of a query to a specified table. This either overwrites table data or appends\n                data to the existing table content. See <a class=\"hue-doc-internal-link\" href=\"javascript:void(0);\" data-doc-ref=\"topics/impala_insert.xml\" data-doc-anchor-id=\"insert\">INSERT Statement</a> for details.\n              </p></td></tr><tr id=\"invalidate_metadata_cmd\"><td><p><span class=\"hue-doc-codeph\">invalidate metadata</span></p></td><td><p>\n                Updates <span class=\"hue-doc-cmdname\">impalad</span> metadata for table existence and structure. Use this command\n                after creating, dropping, or altering databases, tables, or partitions in Hive. See\n                <a class=\"hue-doc-internal-link\" href=\"javascript:void(0);\" data-doc-ref=\"topics/impala_invalidate_metadata.xml\" data-doc-anchor-id=\"invalidate_metadata\">INVALIDATE METADATA Statement</a> for details.\n              </p></td></tr><tr id=\"profile_cmd\"><td><p><span class=\"hue-doc-codeph\">profile</span></p></td><td><p>\n                Displays low-level information about the most recent query. Used for performance diagnosis and\n                tuning. <span class=\"hue-doc-ph\"> The report starts with the same information as produced by the\n                <span class=\"hue-doc-codeph\">EXPLAIN</span> statement and the <span class=\"hue-doc-codeph\">SUMMARY</span> command.</span> See\n                <a class=\"hue-doc-internal-link\" href=\"javascript:void(0);\" data-doc-ref=\"topics/impala_explain_plan.xml\" data-doc-anchor-id=\"perf_profile\">Using the Query Profile for Performance Tuning</a> for details.\n              </p></td></tr><tr id=\"quit_cmd\"><td><p><span class=\"hue-doc-codeph\">quit</span></p></td><td><p>\n                Exits the shell. Remember to include the final semicolon so that the shell recognizes the end of\n                the command.\n              </p></td></tr><tr id=\"refresh_cmd\"><td><p><span class=\"hue-doc-codeph\">refresh</span></p></td><td><p>\n                Refreshes <span class=\"hue-doc-cmdname\">impalad</span> metadata for the locations of HDFS blocks corresponding to\n                Impala data files. Use this command after loading new data files into an Impala table through Hive\n                or through HDFS commands. See <a class=\"hue-doc-internal-link\" href=\"javascript:void(0);\" data-doc-ref=\"topics/impala_refresh.xml\" data-doc-anchor-id=\"refresh\">REFRESH Statement</a> for details.\n              </p></td></tr><tr id=\"rerun_cmd\"><td><p><span class=\"hue-doc-codeph\">rerun</span> or <span class=\"hue-doc-codeph\">@</span></p></td><td><p>\n                Executes a previous <span class=\"hue-doc-cmdname\">impala-shell</span> command again,\n                from the list of commands displayed by the <span class=\"hue-doc-codeph\">history</span>\n                command. These could be SQL statements, or commands specific to\n                <span class=\"hue-doc-cmdname\">impala-shell</span> such as <span class=\"hue-doc-codeph\">quit</span>\n                or <span class=\"hue-doc-codeph\">profile</span>.\n              </p><p>\n                Specify an integer argument. A positive integer\n                  <span class=\"hue-doc-codeph\">N</span> represents the command labelled\n                  <span class=\"hue-doc-codeph\">N</span> in the output of the\n                  <span class=\"hue-doc-codeph\">HISTORY</span> command. A negative integer\n                  <span class=\"hue-doc-codeph\">-N</span> represents the <span class=\"hue-doc-codeph\">N</span>th\n                command from the end of the list, such as -1 for the most recent\n                command. Commands that are executed again do not produce new\n                entries in the <span class=\"hue-doc-codeph\">HISTORY</span> output list.\n              </p></td></tr><tr id=\"select_cmd\"><td><p><span class=\"hue-doc-codeph\">select</span></p></td><td><p>\n                Specifies the data set on which to complete some action. All information returned from\n                <span class=\"hue-doc-codeph\">select</span> can be sent to some output such as the console or a file or can be used to\n                complete some other element of query. See <a class=\"hue-doc-internal-link\" href=\"javascript:void(0);\" data-doc-ref=\"topics/impala_select.xml\" data-doc-anchor-id=\"select\">SELECT Statement</a> for details.\n              </p></td></tr><tr id=\"set_cmd\"><td><p><span class=\"hue-doc-codeph\">set</span></p></td><td><p>\n                Manages query options for an <span class=\"hue-doc-cmdname\">impala-shell</span>\n                session. The available options are the ones listed in <a class=\"hue-doc-internal-link\" href=\"javascript:void(0);\" data-doc-ref=\"topics/impala_query_options.xml\" data-doc-anchor-id=\"query_options\">Query Options for the SET Statement</a>. These options\n                are used for query tuning and troubleshooting. Issue\n                  <span class=\"hue-doc-codeph\">SET</span> with no arguments to see the current\n                query options, either based on the <span class=\"hue-doc-cmdname\">impalad</span>\n                defaults, as specified by you at <span class=\"hue-doc-cmdname\">impalad</span>\n                startup, or based on earlier <span class=\"hue-doc-codeph\">SET</span> statements in\n                the same session. To modify option values, issue commands with\n                the syntax <span class=\"hue-doc-codeph\">set\n                    <span class=\"hue-doc-varname\">option</span>=<span class=\"hue-doc-varname\">value</span></span>.\n                To restore an option to its default, use the\n                  <span class=\"hue-doc-codeph\">unset</span> command.\n              </p><p id=\"set_vs_connect\">\n        The <span class=\"hue-doc-codeph\">SET</span> statement has no effect until the\n        <span class=\"hue-doc-cmdname\">impala-shell</span> interpreter is connected to an Impala server. Once you\n        are connected, any query options you set remain in effect as you issue a subsequent\n        <span class=\"hue-doc-codeph\">CONNECT</span> command to connect to a different Impala host.\n      </p><p>\n                In Impala 2.0 and later, <span class=\"hue-doc-codeph\">SET</span> is\n                available as a SQL statement for any kind of application as well\n                as in <span class=\"hue-doc-cmdname\">impala-shell</span>. See <a class=\"hue-doc-internal-link\" href=\"javascript:void(0);\" data-doc-ref=\"topics/impala_set.xml\" data-doc-anchor-id=\"set\">SET Statement</a> for details.\n              </p></td></tr><tr id=\"shell_cmd\"><td><p><span class=\"hue-doc-codeph\">shell</span></p></td><td><p>\n                Executes the specified command in the operating system shell without exiting\n                <span class=\"hue-doc-codeph\">impala-shell</span>. You can use the <span class=\"hue-doc-codeph\">!</span> character as shorthand for the\n                <span class=\"hue-doc-codeph\">shell</span> command.\n              </p><div class=\"hue-doc-note\">                Quote any instances of the <span class=\"hue-doc-codeph\">--</span> or <span class=\"hue-doc-codeph\">/*</span> tokens to avoid them being\n                interpreted as the start of a comment. To embed comments within <span class=\"hue-doc-codeph\">source</span> or\n                <span class=\"hue-doc-codeph\">!</span> commands, use the shell comment character <span class=\"hue-doc-codeph\">#</span> before the comment\n                portion of the line.\n              </div></td></tr><tr id=\"show_cmd\"><td><p><span class=\"hue-doc-codeph\">show</span></p></td><td><p>\n                Displays metastore data for schema objects created and accessed through Impala, Hive, or both.\n                <span class=\"hue-doc-codeph\">show</span> can be used to gather information about objects such as databases, tables, and functions.\n                See <a class=\"hue-doc-internal-link\" href=\"javascript:void(0);\" data-doc-ref=\"topics/impala_show.xml\" data-doc-anchor-id=\"show\">SHOW Statement</a> for details.\n              </p></td></tr><tr id=\"source_cmd\"><td><p><span class=\"hue-doc-codeph\">source</span> or <span class=\"hue-doc-codeph\">src</span></p></td><td><p>\n                Executes one or more statements residing in a specified file from the local filesystem.\n                Allows you to perform the same kinds of batch operations as with the <span class=\"hue-doc-codeph\">-f</span> option,\n                but interactively within the interpreter. The file can contain SQL statements and other\n                <span class=\"hue-doc-cmdname\">impala-shell</span> commands, including additional <span class=\"hue-doc-codeph\">SOURCE</span> commands\n                to perform a flexible sequence of actions. Each command or statement, except the last one in the file,\n                must end with a semicolon.\n                See <a class=\"hue-doc-internal-link\" href=\"javascript:void(0);\" data-doc-ref=\"topics/impala_shell_running_commands.xml\" data-doc-anchor-id=\"shell_running_commands\">Running Commands and SQL Statements in impala-shell</a> for examples.\n              </p></td></tr><tr id=\"summary_cmd\"><td><p><span class=\"hue-doc-codeph\">summary</span></p></td><td><p>\n                Summarizes the work performed in various stages of a query. It provides a higher-level view of the\n                information displayed by the <span class=\"hue-doc-codeph\">EXPLAIN</span> command. Added in Impala 1.4.0. See\n                <a class=\"hue-doc-internal-link\" href=\"javascript:void(0);\" data-doc-ref=\"topics/impala_explain_plan.xml\" data-doc-anchor-id=\"perf_summary\">Using the SUMMARY Report for Performance Tuning</a> for details about the report format\n                and how to interpret it.\n              </p><p>\n                In Impala 2.3 and higher, you can see a continuously updated report of\n                the summary information while a query is in progress.\n                See <a class=\"hue-doc-internal-link\" href=\"javascript:void(0);\" data-doc-ref=\"topics/impala_live_summary.xml\" data-doc-anchor-id=\"live_summary\">LIVE_SUMMARY Query Option (Impala 2.3 or higher only)</a> for details.\n              </p></td></tr><tr id=\"unset_cmd\"><td><p><span class=\"hue-doc-codeph\">unset</span></p></td><td><p>\n                Removes any user-specified value for a query option and returns the option to its default value.\n                See <a class=\"hue-doc-internal-link\" href=\"javascript:void(0);\" data-doc-ref=\"topics/impala_query_options.xml\" data-doc-anchor-id=\"query_options\">Query Options for the SET Statement</a> for the available query options.\n              </p><p>\n                In Impala 2.5 and higher, it can also remove user-specified substitution variables\n                using the notation <span class=\"hue-doc-codeph\">UNSET VAR:<span class=\"hue-doc-varname\">variable_name</span></span>.\n              </p></td></tr><tr id=\"use_cmd\"><td><p><span class=\"hue-doc-codeph\">use</span></p></td><td><p>\n                Indicates the database against which to execute subsequent commands. Lets you avoid using fully\n                qualified names when referring to tables in databases other than <span class=\"hue-doc-codeph\">default</span>. See\n                <a class=\"hue-doc-internal-link\" href=\"javascript:void(0);\" data-doc-ref=\"topics/impala_use.xml\" data-doc-anchor-id=\"use\">USE Statement</a> for details. Not effective with the <span class=\"hue-doc-codeph\">-q</span> option,\n                because that option only allows a single statement in the argument.\n              </p></td></tr><tr id=\"version_cmd\"><td><p><span class=\"hue-doc-codeph\">version</span></p></td><td><p>\n                Returns Impala version information.\n              </p></td></tr></tbody></table></div></div></div>","title":"impala-shell Command Reference"}