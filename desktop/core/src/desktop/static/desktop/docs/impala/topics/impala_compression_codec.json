{"body":"<div><div id=\"compression_codec\"><div class=\"hue-doc-title\">COMPRESSION_CODEC Query Option (Impala 2.0 or higher only)</div><div><p>\n      When Impala writes Parquet data files using the <span class=\"hue-doc-codeph\">INSERT</span> statement, the underlying compression\n      is controlled by the <span class=\"hue-doc-codeph\">COMPRESSION_CODEC</span> query option.\n    </p><div class=\"hue-doc-note\">      Prior to Impala 2.0, this option was named <span class=\"hue-doc-codeph\">PARQUET_COMPRESSION_CODEC</span>. In Impala 2.0 and\n      later, the <span class=\"hue-doc-codeph\">PARQUET_COMPRESSION_CODEC</span> name is not recognized. Use the more general name\n      <span class=\"hue-doc-codeph\">COMPRESSION_CODEC</span> for new code.\n    </div><p id=\"syntax_blurb\"><b>Syntax:</b></p><div class=\"hue-doc-codeblock\">SET COMPRESSION_CODEC=<span class=\"hue-doc-varname\">codec_name</span>; // Supported for all codecs.\nSET COMPRESSION_CODEC=<span class=\"hue-doc-varname\">codec_name</span>:<span class=\"hue-doc-varname\">compression_level</span>; // Only supported for ZSTD.\n</div><p>\n      The allowed values for this query option are <span class=\"hue-doc-codeph\">SNAPPY</span> (the default), <span class=\"hue-doc-codeph\">GZIP</span>,\n      <span class=\"hue-doc-codeph\">ZSTD</span>, <span class=\"hue-doc-codeph\">LZ4</span>, and <span class=\"hue-doc-codeph\">NONE</span>.\n    </p><p><span class=\"hue-doc-codeph\">ZSTD</span> also supports setting a compression level. The lower the level, the faster the speed at\n      the cost of compression ratio. Compression levels from 1 up to 22 are supported for <span class=\"hue-doc-codeph\">ZSTD</span>.\n      The default compression level 3 is used, if one is not passed using the <span class=\"hue-doc-codeph\">compression_codec</span>\n      query option.\n    </p><div class=\"hue-doc-note\">      A Parquet file created with <span class=\"hue-doc-codeph\">COMPRESSION_CODEC=NONE</span> is still typically smaller than the\n      original data, due to encoding schemes such as run-length encoding and dictionary encoding that are applied\n      separately from compression.\n    </div><p/><p>\n      The option value is not case-sensitive.\n    </p><p>\n      If the option is set to an unrecognized value, all kinds of queries will fail due to the invalid option\n      setting, not just queries involving Parquet tables. (The value <span class=\"hue-doc-codeph\">BZIP2</span> is also recognized, but\n      is not compatible with Parquet tables.)\n    </p><p><b>Type:</b><span class=\"hue-doc-codeph\">STRING</span></p><p><b>Default:</b><span class=\"hue-doc-codeph\">SNAPPY</span></p><p id=\"example_blurb\"><b>Examples:</b></p><div class=\"hue-doc-codeblock\">set compression_codec=lz4;\ninsert into parquet_table_lz4_compressed select * from t1;\n\nset compression_codec=zstd; // Default compression level 3.\ninsert into parquet_table_zstd_default_compressed select * from t1;\n\nset compression_codec=zstd:12; // Compression level 12.\ninsert into parquet_table_zstd_highly_compressed select * from t1;\n\nset compression_codec=gzip;\ninsert into parquet_table_highly_compressed select * from t1;\n\nset compression_codec=snappy;\ninsert into parquet_table_compression_plus_fast_queries select * from t1;\n\nset compression_codec=none;\ninsert into parquet_table_no_compression select * from t1;\n\nset compression_codec=foo;\nselect * from t1 limit 5;\nERROR: Invalid compression codec: foo\n</div><p id=\"related_info\"><b>Related information:</b></p><p>\n      For information about how compressing Parquet data files affects query performance, see\n      <a class=\"hue-doc-internal-link\" href=\"javascript:void(0);\" data-doc-ref=\"topics/impala_parquet.xml\" data-doc-anchor-id=\"parquet_compression\">Compressions for Parquet Data Files</a>.\n    </p></div></div></div>","title":"COMPRESSION_CODEC Query Option (Impala 2.0 or higher only)"}