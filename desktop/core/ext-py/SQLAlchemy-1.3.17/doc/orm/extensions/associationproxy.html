<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">



<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        
        <title>
            
    
    Association Proxy
 &mdash;
    SQLAlchemy 1.3 Documentation

        </title>

        
            <!-- begin iterate through site-imported + sphinx environment css_files -->
                <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
                <link rel="stylesheet" href="../../_static/docs.css" type="text/css" />
                <link rel="stylesheet" href="../../_static/changelog.css" type="text/css" />
                <link rel="stylesheet" href="../../_static/sphinx_paramlinks.css" type="text/css" />
            <!-- end iterate through site-imported + sphinx environment css_files -->
        

        

    

    <!-- begin layout.mako headers -->

    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
        <link rel="copyright" title="Copyright" href="../../copyright.html" />
    <link rel="top" title="SQLAlchemy 1.3 Documentation" href="../../index.html" />
        <link rel="up" title="ORM Extensions" href="index.html" />
        <link rel="next" title="Automap" href="automap.html" />
        <link rel="prev" title="ORM Extensions" href="index.html" />
    <!-- end layout.mako headers -->


    </head>
    <body>
        
















<div id="docs-container">





<div id="docs-top-navigation-container" class="body-background">
<div id="docs-header">
    <div id="docs-version-header">
        Release: <span class="version-num">1.3.17</span>


        | Release Date: May 13, 2020

    </div>

    <h1>SQLAlchemy 1.3 Documentation</h1>

</div>
</div>

<div id="docs-body-container">

    <div id="fixed-sidebar" class="withsidebar">


        <div id="docs-sidebar-popout">
            <h3><a href="../../index.html">SQLAlchemy 1.3 Documentation</a></h3>
            <p id="sidebar-topnav">
                <a href="../../contents.html">Contents</a> |
                <a href="../../genindex.html">Index</a>
            </p>

            <div id="sidebar-search">
                <form class="search" action="../../search.html" method="get">
                  <label>
                  Search terms:
                  <input type="text" placeholder="search..." name="q" size="12" />
                  </label>
                  <input type="hidden" name="check_keywords" value="yes" />
                  <input type="hidden" name="area" value="default" />
                </form>
            </div>

        </div>

        <div id="docs-sidebar">

        <div id="sidebar-banner">
            
        </div>

        <div id="docs-sidebar-inner">

        
        <h3>
            <a href="../index.html" title="SQLAlchemy ORM">SQLAlchemy ORM</a>
        </h3>

        <ul>
<li><span class="link-container"><a class="reference external" href="../tutorial.html">Object Relational Tutorial</a></span></li>
<li><span class="link-container"><a class="reference external" href="../mapper_config.html">Mapper Configuration</a></span></li>
<li><span class="link-container"><a class="reference external" href="../relationships.html">Relationship Configuration</a></span></li>
<li><span class="link-container"><a class="reference external" href="../loading_objects.html">Loading Objects</a></span></li>
<li><span class="link-container"><a class="reference external" href="../session.html">Using the Session</a></span></li>
<li><span class="link-container"><a class="reference external" href="../extending.html">Events and Internals</a></span></li>
<li><span class="link-container"><a class="reference external" href="index.html">ORM Extensions</a></span><ul>
<li class="selected"><span class="link-container"><strong>Association Proxy</strong><a class="paramlink headerlink reference internal" href="#">¶</a></span><ul>
<li><span class="link-container"><a class="reference external" href="#simplifying-scalar-collections">Simplifying Scalar Collections</a></span></li>
<li><span class="link-container"><a class="reference external" href="#creation-of-new-values">Creation of New Values</a></span></li>
<li><span class="link-container"><a class="reference external" href="#simplifying-association-objects">Simplifying Association Objects</a></span></li>
<li><span class="link-container"><a class="reference external" href="#proxying-to-dictionary-based-collections">Proxying to Dictionary Based Collections</a></span></li>
<li><span class="link-container"><a class="reference external" href="#composite-association-proxies">Composite Association Proxies</a></span></li>
<li><span class="link-container"><a class="reference external" href="#querying-with-association-proxies">Querying with Association Proxies</a></span></li>
<li><span class="link-container"><a class="reference external" href="#cascading-scalar-deletes">Cascading Scalar Deletes</a></span></li>
<li><span class="link-container"><a class="reference external" href="#api-documentation">API Documentation</a></span></li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="automap.html">Automap</a></span></li>
<li><span class="link-container"><a class="reference external" href="baked.html">Baked Queries</a></span></li>
<li><span class="link-container"><a class="reference external" href="declarative/index.html">Declarative</a></span></li>
<li><span class="link-container"><a class="reference external" href="mutable.html">Mutation Tracking</a></span></li>
<li><span class="link-container"><a class="reference external" href="orderinglist.html">Ordering List</a></span></li>
<li><span class="link-container"><a class="reference external" href="horizontal_shard.html">Horizontal Sharding</a></span></li>
<li><span class="link-container"><a class="reference external" href="hybrid.html">Hybrid Attributes</a></span></li>
<li><span class="link-container"><a class="reference external" href="indexable.html">Indexable</a></span></li>
<li><span class="link-container"><a class="reference external" href="instrumentation.html">Alternate Class Instrumentation</a></span></li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="../examples.html">ORM Examples</a></span></li>
</ul>



        </div>

        </div>

    </div>

    

    <div id="docs-body" class="withsidebar" >
        
<div class="section" id="module-sqlalchemy.ext.associationproxy">
<span id="association-proxy"></span><span id="associationproxy-toplevel"></span><h1>Association Proxy<a class="headerlink" href="#module-sqlalchemy.ext.associationproxy" title="Permalink to this headline">¶</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">associationproxy</span></code> is used to create a read/write view of a
target attribute across a relationship.  It essentially conceals
the usage of a “middle” attribute between two endpoints, and
can be used to cherry-pick fields from a collection of
related objects or to reduce the verbosity of using the association
object pattern.   Applied creatively, the association proxy allows
the construction of sophisticated collections and dictionary
views of virtually any geometry, persisted to the database using
standard, transparently configured relational patterns.</p>
<div class="section" id="simplifying-scalar-collections">
<h2>Simplifying Scalar Collections<a class="headerlink" href="#simplifying-scalar-collections" title="Permalink to this headline">¶</a></h2>
<p>Consider a many-to-many mapping between two classes, <code class="docutils literal notranslate"><span class="pre">User</span></code> and <code class="docutils literal notranslate"><span class="pre">Keyword</span></code>.
Each <code class="docutils literal notranslate"><span class="pre">User</span></code> can have any number of <code class="docutils literal notranslate"><span class="pre">Keyword</span></code> objects, and vice-versa
(the many-to-many pattern is described at <a class="reference internal" href="../basic_relationships.html#relationships-many-to-many"><span class="std std-ref">Many To Many</span></a>):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="k">import</span> <span class="n">Column</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span> <span class="n">String</span><span class="p">,</span> <span class="n">ForeignKey</span><span class="p">,</span> <span class="n">Table</span>
<span class="kn">from</span> <span class="nn">sqlalchemy.orm</span> <span class="k">import</span> <span class="n">relationship</span>
<span class="kn">from</span> <span class="nn">sqlalchemy.ext.declarative</span> <span class="k">import</span> <span class="n">declarative_base</span>

<span class="n">Base</span> <span class="o">=</span> <span class="n">declarative_base</span><span class="p">()</span>

<span class="k">class</span> <span class="nc">User</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s1">&#39;user&#39;</span>
    <span class="nb">id</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">String</span><span class="p">(</span><span class="mi">64</span><span class="p">))</span>
    <span class="n">kw</span> <span class="o">=</span> <span class="n">relationship</span><span class="p">(</span><span class="s2">&quot;Keyword&quot;</span><span class="p">,</span> <span class="n">secondary</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="n">userkeywords_table</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>

<span class="k">class</span> <span class="nc">Keyword</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s1">&#39;keyword&#39;</span>
    <span class="nb">id</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">keyword</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;keyword&#39;</span><span class="p">,</span> <span class="n">String</span><span class="p">(</span><span class="mi">64</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">keyword</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">keyword</span> <span class="o">=</span> <span class="n">keyword</span>

<span class="n">userkeywords_table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="s1">&#39;userkeywords&#39;</span><span class="p">,</span> <span class="n">Base</span><span class="o">.</span><span class="n">metadata</span><span class="p">,</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;user_id&#39;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span> <span class="n">ForeignKey</span><span class="p">(</span><span class="s2">&quot;user.id&quot;</span><span class="p">),</span>
           <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;keyword_id&#39;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span> <span class="n">ForeignKey</span><span class="p">(</span><span class="s2">&quot;keyword.id&quot;</span><span class="p">),</span>
           <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="p">)</span></pre></div>
</div>
<p>Reading and manipulating the collection of “keyword” strings associated
with <code class="docutils literal notranslate"><span class="pre">User</span></code> requires traversal from each collection element to the <code class="docutils literal notranslate"><span class="pre">.keyword</span></code>
attribute, which can be awkward:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">user</span> <span class="o">=</span> <span class="n">User</span><span class="p">(</span><span class="s1">&#39;jek&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">user</span><span class="o">.</span><span class="n">kw</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Keyword</span><span class="p">(</span><span class="s1">&#39;cheese inspector&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">user</span><span class="o">.</span><span class="n">kw</span><span class="p">)</span>
<span class="go">[&lt;__main__.Keyword object at 0x12bf830&gt;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">user</span><span class="o">.</span><span class="n">kw</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">keyword</span><span class="p">)</span>
<span class="go">cheese inspector</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">([</span><span class="n">keyword</span><span class="o">.</span><span class="n">keyword</span> <span class="k">for</span> <span class="n">keyword</span> <span class="ow">in</span> <span class="n">user</span><span class="o">.</span><span class="n">kw</span><span class="p">])</span>
<span class="go">[&#39;cheese inspector&#39;]</span></pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">association_proxy</span></code> is applied to the <code class="docutils literal notranslate"><span class="pre">User</span></code> class to produce
a “view” of the <code class="docutils literal notranslate"><span class="pre">kw</span></code> relationship, which only exposes the string
value of <code class="docutils literal notranslate"><span class="pre">.keyword</span></code> associated with each <code class="docutils literal notranslate"><span class="pre">Keyword</span></code> object:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy.ext.associationproxy</span> <span class="k">import</span> <span class="n">association_proxy</span>

<span class="k">class</span> <span class="nc">User</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s1">&#39;user&#39;</span>
    <span class="nb">id</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">String</span><span class="p">(</span><span class="mi">64</span><span class="p">))</span>
    <span class="n">kw</span> <span class="o">=</span> <span class="n">relationship</span><span class="p">(</span><span class="s2">&quot;Keyword&quot;</span><span class="p">,</span> <span class="n">secondary</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="n">userkeywords_table</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>

    <span class="c1"># proxy the &#39;keyword&#39; attribute from the &#39;kw&#39; relationship</span>
    <span class="n">keywords</span> <span class="o">=</span> <span class="n">association_proxy</span><span class="p">(</span><span class="s1">&#39;kw&#39;</span><span class="p">,</span> <span class="s1">&#39;keyword&#39;</span><span class="p">)</span></pre></div>
</div>
<p>We can now reference the <code class="docutils literal notranslate"><span class="pre">.keywords</span></code> collection as a listing of strings,
which is both readable and writable.  New <code class="docutils literal notranslate"><span class="pre">Keyword</span></code> objects are created
for us transparently:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">user</span> <span class="o">=</span> <span class="n">User</span><span class="p">(</span><span class="s1">&#39;jek&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">user</span><span class="o">.</span><span class="n">keywords</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;cheese inspector&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">user</span><span class="o">.</span><span class="n">keywords</span>
<span class="go">[&#39;cheese inspector&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">user</span><span class="o">.</span><span class="n">keywords</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;snack ninja&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">user</span><span class="o">.</span><span class="n">kw</span>
<span class="go">[&lt;__main__.Keyword object at 0x12cdd30&gt;, &lt;__main__.Keyword object at 0x12cde30&gt;]</span></pre></div>
</div>
<p>The <a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxy" title="sqlalchemy.ext.associationproxy.AssociationProxy"><code class="xref py py-class docutils literal notranslate"><span class="pre">AssociationProxy</span></code></a> object produced by the <a class="reference internal" href="#sqlalchemy.ext.associationproxy.association_proxy" title="sqlalchemy.ext.associationproxy.association_proxy"><code class="xref py py-func docutils literal notranslate"><span class="pre">association_proxy()</span></code></a> function
is an instance of a <a class="reference external" href="http://docs.python.org/howto/descriptor.html">Python descriptor</a>.
It is always declared with the user-defined class being mapped, regardless of
whether Declarative or classical mappings via the <a class="reference internal" href="../mapping_api.html#sqlalchemy.orm.mapper" title="sqlalchemy.orm.mapper"><code class="xref py py-func docutils literal notranslate"><span class="pre">mapper()</span></code></a> function are used.</p>
<p>The proxy functions by operating upon the underlying mapped attribute
or collection in response to operations, and changes made via the proxy are immediately
apparent in the mapped attribute, as well as vice versa.   The underlying
attribute remains fully accessible.</p>
<p>When first accessed, the association proxy performs introspection
operations on the target collection so that its behavior corresponds correctly.
Details such as if the locally proxied attribute is a collection (as is typical)
or a scalar reference, as well as if the collection acts like a set, list,
or dictionary is taken into account, so that the proxy should act just like
the underlying collection or attribute does.</p>
</div>
<div class="section" id="creation-of-new-values">
<h2>Creation of New Values<a class="headerlink" href="#creation-of-new-values" title="Permalink to this headline">¶</a></h2>
<p>When a list append() event (or set add(), dictionary __setitem__(), or scalar
assignment event) is intercepted by the association proxy, it instantiates a
new instance of the “intermediary” object using its constructor, passing as a
single argument the given value. In our example above, an operation like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">user</span><span class="o">.</span><span class="n">keywords</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;cheese inspector&#39;</span><span class="p">)</span></pre></div>
</div>
<p>Is translated by the association proxy into the operation:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">user</span><span class="o">.</span><span class="n">kw</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Keyword</span><span class="p">(</span><span class="s1">&#39;cheese inspector&#39;</span><span class="p">))</span></pre></div>
</div>
<p>The example works here because we have designed the constructor for <code class="docutils literal notranslate"><span class="pre">Keyword</span></code>
to accept a single positional argument, <code class="docutils literal notranslate"><span class="pre">keyword</span></code>.   For those cases where a
single-argument constructor isn’t feasible, the association proxy’s creational
behavior can be customized using the <code class="docutils literal notranslate"><span class="pre">creator</span></code> argument, which references a
callable (i.e. Python function) that will produce a new object instance given the
singular argument.  Below we illustrate this using a lambda as is typical:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">User</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
    <span class="c1"># ...</span>

    <span class="c1"># use Keyword(keyword=kw) on append() events</span>
    <span class="n">keywords</span> <span class="o">=</span> <span class="n">association_proxy</span><span class="p">(</span><span class="s1">&#39;kw&#39;</span><span class="p">,</span> <span class="s1">&#39;keyword&#39;</span><span class="p">,</span>
                    <span class="n">creator</span><span class="o">=</span><span class="k">lambda</span> <span class="n">kw</span><span class="p">:</span> <span class="n">Keyword</span><span class="p">(</span><span class="n">keyword</span><span class="o">=</span><span class="n">kw</span><span class="p">))</span></pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">creator</span></code> function accepts a single argument in the case of a list-
or set- based collection, or a scalar attribute.  In the case of a dictionary-based
collection, it accepts two arguments, “key” and “value”.   An example
of this is below in <a class="reference internal" href="#proxying-dictionaries"><span class="std std-ref">Proxying to Dictionary Based Collections</span></a>.</p>
</div>
<div class="section" id="simplifying-association-objects">
<h2>Simplifying Association Objects<a class="headerlink" href="#simplifying-association-objects" title="Permalink to this headline">¶</a></h2>
<p>The “association object” pattern is an extended form of a many-to-many
relationship, and is described at <a class="reference internal" href="../basic_relationships.html#association-pattern"><span class="std std-ref">Association Object</span></a>. Association
proxies are useful for keeping “association objects” out of the way during
regular use.</p>
<p>Suppose our <code class="docutils literal notranslate"><span class="pre">userkeywords</span></code> table above had additional columns
which we’d like to map explicitly, but in most cases we don’t
require direct access to these attributes.  Below, we illustrate
a new mapping which introduces the <code class="docutils literal notranslate"><span class="pre">UserKeyword</span></code> class, which
is mapped to the <code class="docutils literal notranslate"><span class="pre">userkeywords</span></code> table illustrated earlier.
This class adds an additional column <code class="docutils literal notranslate"><span class="pre">special_key</span></code>, a value which
we occasionally want to access, but not in the usual case.   We
create an association proxy on the <code class="docutils literal notranslate"><span class="pre">User</span></code> class called
<code class="docutils literal notranslate"><span class="pre">keywords</span></code>, which will bridge the gap from the <code class="docutils literal notranslate"><span class="pre">user_keywords</span></code>
collection of <code class="docutils literal notranslate"><span class="pre">User</span></code> to the <code class="docutils literal notranslate"><span class="pre">.keyword</span></code> attribute present on each
<code class="docutils literal notranslate"><span class="pre">UserKeyword</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="k">import</span> <span class="n">Column</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span> <span class="n">String</span><span class="p">,</span> <span class="n">ForeignKey</span>
<span class="kn">from</span> <span class="nn">sqlalchemy.orm</span> <span class="k">import</span> <span class="n">relationship</span><span class="p">,</span> <span class="n">backref</span>

<span class="kn">from</span> <span class="nn">sqlalchemy.ext.associationproxy</span> <span class="k">import</span> <span class="n">association_proxy</span>
<span class="kn">from</span> <span class="nn">sqlalchemy.ext.declarative</span> <span class="k">import</span> <span class="n">declarative_base</span>

<span class="n">Base</span> <span class="o">=</span> <span class="n">declarative_base</span><span class="p">()</span>

<span class="k">class</span> <span class="nc">User</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s1">&#39;user&#39;</span>
    <span class="nb">id</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">String</span><span class="p">(</span><span class="mi">64</span><span class="p">))</span>

    <span class="c1"># association proxy of &quot;user_keywords&quot; collection</span>
    <span class="c1"># to &quot;keyword&quot; attribute</span>
    <span class="n">keywords</span> <span class="o">=</span> <span class="n">association_proxy</span><span class="p">(</span><span class="s1">&#39;user_keywords&#39;</span><span class="p">,</span> <span class="s1">&#39;keyword&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>

<span class="k">class</span> <span class="nc">UserKeyword</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s1">&#39;user_keyword&#39;</span>
    <span class="n">user_id</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">ForeignKey</span><span class="p">(</span><span class="s1">&#39;user.id&#39;</span><span class="p">),</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">keyword_id</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">ForeignKey</span><span class="p">(</span><span class="s1">&#39;keyword.id&#39;</span><span class="p">),</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">special_key</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">String</span><span class="p">(</span><span class="mi">50</span><span class="p">))</span>

    <span class="c1"># bidirectional attribute/collection of &quot;user&quot;/&quot;user_keywords&quot;</span>
    <span class="n">user</span> <span class="o">=</span> <span class="n">relationship</span><span class="p">(</span><span class="n">User</span><span class="p">,</span>
                <span class="n">backref</span><span class="o">=</span><span class="n">backref</span><span class="p">(</span><span class="s2">&quot;user_keywords&quot;</span><span class="p">,</span>
                                <span class="n">cascade</span><span class="o">=</span><span class="s2">&quot;all, delete-orphan&quot;</span><span class="p">)</span>
            <span class="p">)</span>

    <span class="c1"># reference to the &quot;Keyword&quot; object</span>
    <span class="n">keyword</span> <span class="o">=</span> <span class="n">relationship</span><span class="p">(</span><span class="s2">&quot;Keyword&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">keyword</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">user</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">special_key</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">user</span> <span class="o">=</span> <span class="n">user</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">keyword</span> <span class="o">=</span> <span class="n">keyword</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">special_key</span> <span class="o">=</span> <span class="n">special_key</span>

<span class="k">class</span> <span class="nc">Keyword</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s1">&#39;keyword&#39;</span>
    <span class="nb">id</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">keyword</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;keyword&#39;</span><span class="p">,</span> <span class="n">String</span><span class="p">(</span><span class="mi">64</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">keyword</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">keyword</span> <span class="o">=</span> <span class="n">keyword</span>

    <span class="k">def</span> <span class="nf">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s1">&#39;Keyword(</span><span class="si">%s</span><span class="s1">)&#39;</span> <span class="o">%</span> <span class="nb">repr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">keyword</span><span class="p">)</span></pre></div>
</div>
<p>With the above configuration, we can operate upon the <code class="docutils literal notranslate"><span class="pre">.keywords</span></code>
collection of each <code class="docutils literal notranslate"><span class="pre">User</span></code> object, and the usage of <code class="docutils literal notranslate"><span class="pre">UserKeyword</span></code>
is concealed:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">user</span> <span class="o">=</span> <span class="n">User</span><span class="p">(</span><span class="s1">&#39;log&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">kw</span> <span class="ow">in</span> <span class="p">(</span><span class="n">Keyword</span><span class="p">(</span><span class="s1">&#39;new_from_blammo&#39;</span><span class="p">),</span> <span class="n">Keyword</span><span class="p">(</span><span class="s1">&#39;its_big&#39;</span><span class="p">)):</span>
<span class="gp">... </span>    <span class="n">user</span><span class="o">.</span><span class="n">keywords</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">kw</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">user</span><span class="o">.</span><span class="n">keywords</span><span class="p">)</span>
<span class="go">[Keyword(&#39;new_from_blammo&#39;), Keyword(&#39;its_big&#39;)]</span></pre></div>
</div>
<p>Where above, each <code class="docutils literal notranslate"><span class="pre">.keywords.append()</span></code> operation is equivalent to:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">user</span><span class="o">.</span><span class="n">user_keywords</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">UserKeyword</span><span class="p">(</span><span class="n">Keyword</span><span class="p">(</span><span class="s1">&#39;its_heavy&#39;</span><span class="p">)))</span></pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">UserKeyword</span></code> association object has two attributes here which are populated;
the <code class="docutils literal notranslate"><span class="pre">.keyword</span></code> attribute is populated directly as a result of passing
the <code class="docutils literal notranslate"><span class="pre">Keyword</span></code> object as the first argument.   The <code class="docutils literal notranslate"><span class="pre">.user</span></code> argument is then
assigned as the <code class="docutils literal notranslate"><span class="pre">UserKeyword</span></code> object is appended to the <code class="docutils literal notranslate"><span class="pre">User.user_keywords</span></code>
collection, where the bidirectional relationship configured between <code class="docutils literal notranslate"><span class="pre">User.user_keywords</span></code>
and <code class="docutils literal notranslate"><span class="pre">UserKeyword.user</span></code> results in a population of the <code class="docutils literal notranslate"><span class="pre">UserKeyword.user</span></code> attribute.
The <code class="docutils literal notranslate"><span class="pre">special_key</span></code> argument above is left at its default value of <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
<p>For those cases where we do want <code class="docutils literal notranslate"><span class="pre">special_key</span></code> to have a value, we
create the <code class="docutils literal notranslate"><span class="pre">UserKeyword</span></code> object explicitly.  Below we assign all three
attributes, where the assignment of <code class="docutils literal notranslate"><span class="pre">.user</span></code> has the effect of the <code class="docutils literal notranslate"><span class="pre">UserKeyword</span></code>
being appended to the <code class="docutils literal notranslate"><span class="pre">User.user_keywords</span></code> collection:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">UserKeyword</span><span class="p">(</span><span class="n">Keyword</span><span class="p">(</span><span class="s1">&#39;its_wood&#39;</span><span class="p">),</span> <span class="n">user</span><span class="p">,</span> <span class="n">special_key</span><span class="o">=</span><span class="s1">&#39;my special key&#39;</span><span class="p">)</span></pre></div>
</div>
<p>The association proxy returns to us a collection of <code class="docutils literal notranslate"><span class="pre">Keyword</span></code> objects represented
by all these operations:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">user</span><span class="o">.</span><span class="n">keywords</span>
<span class="go">[Keyword(&#39;new_from_blammo&#39;), Keyword(&#39;its_big&#39;), Keyword(&#39;its_heavy&#39;), Keyword(&#39;its_wood&#39;)]</span></pre></div>
</div>
</div>
<div class="section" id="proxying-to-dictionary-based-collections">
<span id="proxying-dictionaries"></span><h2>Proxying to Dictionary Based Collections<a class="headerlink" href="#proxying-to-dictionary-based-collections" title="Permalink to this headline">¶</a></h2>
<p>The association proxy can proxy to dictionary based collections as well.   SQLAlchemy
mappings usually use the <a class="reference internal" href="../collections.html#sqlalchemy.orm.collections.attribute_mapped_collection" title="sqlalchemy.orm.collections.attribute_mapped_collection"><code class="xref py py-func docutils literal notranslate"><span class="pre">attribute_mapped_collection()</span></code></a> collection type to
create dictionary collections, as well as the extended techniques described in
<a class="reference internal" href="../collections.html#id1"><span class="std std-ref">Custom Dictionary-Based Collections</span></a>.</p>
<p>The association proxy adjusts its behavior when it detects the usage of a
dictionary-based collection. When new values are added to the dictionary, the
association proxy instantiates the intermediary object by passing two
arguments to the creation function instead of one, the key and the value. As
always, this creation function defaults to the constructor of the intermediary
class, and can be customized using the <code class="docutils literal notranslate"><span class="pre">creator</span></code> argument.</p>
<p>Below, we modify our <code class="docutils literal notranslate"><span class="pre">UserKeyword</span></code> example such that the <code class="docutils literal notranslate"><span class="pre">User.user_keywords</span></code>
collection will now be mapped using a dictionary, where the <code class="docutils literal notranslate"><span class="pre">UserKeyword.special_key</span></code>
argument will be used as the key for the dictionary.   We then apply a <code class="docutils literal notranslate"><span class="pre">creator</span></code>
argument to the <code class="docutils literal notranslate"><span class="pre">User.keywords</span></code> proxy so that these values are assigned appropriately
when new elements are added to the dictionary:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="k">import</span> <span class="n">Column</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span> <span class="n">String</span><span class="p">,</span> <span class="n">ForeignKey</span>
<span class="kn">from</span> <span class="nn">sqlalchemy.orm</span> <span class="k">import</span> <span class="n">relationship</span><span class="p">,</span> <span class="n">backref</span>
<span class="kn">from</span> <span class="nn">sqlalchemy.ext.associationproxy</span> <span class="k">import</span> <span class="n">association_proxy</span>
<span class="kn">from</span> <span class="nn">sqlalchemy.ext.declarative</span> <span class="k">import</span> <span class="n">declarative_base</span>
<span class="kn">from</span> <span class="nn">sqlalchemy.orm.collections</span> <span class="k">import</span> <span class="n">attribute_mapped_collection</span>

<span class="n">Base</span> <span class="o">=</span> <span class="n">declarative_base</span><span class="p">()</span>

<span class="k">class</span> <span class="nc">User</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s1">&#39;user&#39;</span>
    <span class="nb">id</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">String</span><span class="p">(</span><span class="mi">64</span><span class="p">))</span>

    <span class="c1"># proxy to &#39;user_keywords&#39;, instantiating UserKeyword</span>
    <span class="c1"># assigning the new key to &#39;special_key&#39;, values to</span>
    <span class="c1"># &#39;keyword&#39;.</span>
    <span class="n">keywords</span> <span class="o">=</span> <span class="n">association_proxy</span><span class="p">(</span><span class="s1">&#39;user_keywords&#39;</span><span class="p">,</span> <span class="s1">&#39;keyword&#39;</span><span class="p">,</span>
                    <span class="n">creator</span><span class="o">=</span><span class="k">lambda</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">:</span>
                                <span class="n">UserKeyword</span><span class="p">(</span><span class="n">special_key</span><span class="o">=</span><span class="n">k</span><span class="p">,</span> <span class="n">keyword</span><span class="o">=</span><span class="n">v</span><span class="p">)</span>
                <span class="p">)</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>

<span class="k">class</span> <span class="nc">UserKeyword</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s1">&#39;user_keyword&#39;</span>
    <span class="n">user_id</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">ForeignKey</span><span class="p">(</span><span class="s1">&#39;user.id&#39;</span><span class="p">),</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">keyword_id</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">ForeignKey</span><span class="p">(</span><span class="s1">&#39;keyword.id&#39;</span><span class="p">),</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">special_key</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">String</span><span class="p">)</span>

    <span class="c1"># bidirectional user/user_keywords relationships, mapping</span>
    <span class="c1"># user_keywords with a dictionary against &quot;special_key&quot; as key.</span>
    <span class="n">user</span> <span class="o">=</span> <span class="n">relationship</span><span class="p">(</span><span class="n">User</span><span class="p">,</span> <span class="n">backref</span><span class="o">=</span><span class="n">backref</span><span class="p">(</span>
                    <span class="s2">&quot;user_keywords&quot;</span><span class="p">,</span>
                    <span class="n">collection_class</span><span class="o">=</span><span class="n">attribute_mapped_collection</span><span class="p">(</span><span class="s2">&quot;special_key&quot;</span><span class="p">),</span>
                    <span class="n">cascade</span><span class="o">=</span><span class="s2">&quot;all, delete-orphan&quot;</span>
                    <span class="p">)</span>
                <span class="p">)</span>
    <span class="n">keyword</span> <span class="o">=</span> <span class="n">relationship</span><span class="p">(</span><span class="s2">&quot;Keyword&quot;</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">Keyword</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s1">&#39;keyword&#39;</span>
    <span class="nb">id</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">keyword</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;keyword&#39;</span><span class="p">,</span> <span class="n">String</span><span class="p">(</span><span class="mi">64</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">keyword</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">keyword</span> <span class="o">=</span> <span class="n">keyword</span>

    <span class="k">def</span> <span class="nf">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s1">&#39;Keyword(</span><span class="si">%s</span><span class="s1">)&#39;</span> <span class="o">%</span> <span class="nb">repr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">keyword</span><span class="p">)</span></pre></div>
</div>
<p>We illustrate the <code class="docutils literal notranslate"><span class="pre">.keywords</span></code> collection as a dictionary, mapping the
<code class="docutils literal notranslate"><span class="pre">UserKeyword.special_key</span></code> value to <code class="docutils literal notranslate"><span class="pre">Keyword</span></code> objects:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">user</span> <span class="o">=</span> <span class="n">User</span><span class="p">(</span><span class="s1">&#39;log&#39;</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">user</span><span class="o">.</span><span class="n">keywords</span><span class="p">[</span><span class="s1">&#39;sk1&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Keyword</span><span class="p">(</span><span class="s1">&#39;kw1&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">user</span><span class="o">.</span><span class="n">keywords</span><span class="p">[</span><span class="s1">&#39;sk2&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Keyword</span><span class="p">(</span><span class="s1">&#39;kw2&#39;</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">user</span><span class="o">.</span><span class="n">keywords</span><span class="p">)</span>
<span class="go">{&#39;sk1&#39;: Keyword(&#39;kw1&#39;), &#39;sk2&#39;: Keyword(&#39;kw2&#39;)}</span></pre></div>
</div>
</div>
<div class="section" id="composite-association-proxies">
<span id="composite-association-proxy"></span><h2>Composite Association Proxies<a class="headerlink" href="#composite-association-proxies" title="Permalink to this headline">¶</a></h2>
<p>Given our previous examples of proxying from relationship to scalar
attribute, proxying across an association object, and proxying dictionaries,
we can combine all three techniques together to give <code class="docutils literal notranslate"><span class="pre">User</span></code>
a <code class="docutils literal notranslate"><span class="pre">keywords</span></code> dictionary that deals strictly with the string value
of <code class="docutils literal notranslate"><span class="pre">special_key</span></code> mapped to the string <code class="docutils literal notranslate"><span class="pre">keyword</span></code>.  Both the <code class="docutils literal notranslate"><span class="pre">UserKeyword</span></code>
and <code class="docutils literal notranslate"><span class="pre">Keyword</span></code> classes are entirely concealed.  This is achieved by building
an association proxy on <code class="docutils literal notranslate"><span class="pre">User</span></code> that refers to an association proxy
present on <code class="docutils literal notranslate"><span class="pre">UserKeyword</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="k">import</span> <span class="n">Column</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span> <span class="n">String</span><span class="p">,</span> <span class="n">ForeignKey</span>
<span class="kn">from</span> <span class="nn">sqlalchemy.orm</span> <span class="k">import</span> <span class="n">relationship</span><span class="p">,</span> <span class="n">backref</span>

<span class="kn">from</span> <span class="nn">sqlalchemy.ext.associationproxy</span> <span class="k">import</span> <span class="n">association_proxy</span>
<span class="kn">from</span> <span class="nn">sqlalchemy.ext.declarative</span> <span class="k">import</span> <span class="n">declarative_base</span>
<span class="kn">from</span> <span class="nn">sqlalchemy.orm.collections</span> <span class="k">import</span> <span class="n">attribute_mapped_collection</span>

<span class="n">Base</span> <span class="o">=</span> <span class="n">declarative_base</span><span class="p">()</span>

<span class="k">class</span> <span class="nc">User</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s1">&#39;user&#39;</span>
    <span class="nb">id</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">String</span><span class="p">(</span><span class="mi">64</span><span class="p">))</span>

    <span class="c1"># the same &#39;user_keywords&#39;-&gt;&#39;keyword&#39; proxy as in</span>
    <span class="c1"># the basic dictionary example</span>
    <span class="n">keywords</span> <span class="o">=</span> <span class="n">association_proxy</span><span class="p">(</span>
                <span class="s1">&#39;user_keywords&#39;</span><span class="p">,</span>
                <span class="s1">&#39;keyword&#39;</span><span class="p">,</span>
                <span class="n">creator</span><span class="o">=</span><span class="k">lambda</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">:</span>
                            <span class="n">UserKeyword</span><span class="p">(</span><span class="n">special_key</span><span class="o">=</span><span class="n">k</span><span class="p">,</span> <span class="n">keyword</span><span class="o">=</span><span class="n">v</span><span class="p">)</span>
                <span class="p">)</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>

<span class="k">class</span> <span class="nc">UserKeyword</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s1">&#39;user_keyword&#39;</span>
    <span class="n">user_id</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">ForeignKey</span><span class="p">(</span><span class="s1">&#39;user.id&#39;</span><span class="p">),</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">keyword_id</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">ForeignKey</span><span class="p">(</span><span class="s1">&#39;keyword.id&#39;</span><span class="p">),</span>
                                                    <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">special_key</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">String</span><span class="p">)</span>
    <span class="n">user</span> <span class="o">=</span> <span class="n">relationship</span><span class="p">(</span><span class="n">User</span><span class="p">,</span> <span class="n">backref</span><span class="o">=</span><span class="n">backref</span><span class="p">(</span>
            <span class="s2">&quot;user_keywords&quot;</span><span class="p">,</span>
            <span class="n">collection_class</span><span class="o">=</span><span class="n">attribute_mapped_collection</span><span class="p">(</span><span class="s2">&quot;special_key&quot;</span><span class="p">),</span>
            <span class="n">cascade</span><span class="o">=</span><span class="s2">&quot;all, delete-orphan&quot;</span>
            <span class="p">)</span>
        <span class="p">)</span>

    <span class="c1"># the relationship to Keyword is now called</span>
    <span class="c1"># &#39;kw&#39;</span>
    <span class="n">kw</span> <span class="o">=</span> <span class="n">relationship</span><span class="p">(</span><span class="s2">&quot;Keyword&quot;</span><span class="p">)</span>

    <span class="c1"># &#39;keyword&#39; is changed to be a proxy to the</span>
    <span class="c1"># &#39;keyword&#39; attribute of &#39;Keyword&#39;</span>
    <span class="n">keyword</span> <span class="o">=</span> <span class="n">association_proxy</span><span class="p">(</span><span class="s1">&#39;kw&#39;</span><span class="p">,</span> <span class="s1">&#39;keyword&#39;</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">Keyword</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s1">&#39;keyword&#39;</span>
    <span class="nb">id</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">keyword</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;keyword&#39;</span><span class="p">,</span> <span class="n">String</span><span class="p">(</span><span class="mi">64</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">keyword</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">keyword</span> <span class="o">=</span> <span class="n">keyword</span></pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">User.keywords</span></code> is now a dictionary of string to string, where
<code class="docutils literal notranslate"><span class="pre">UserKeyword</span></code> and <code class="docutils literal notranslate"><span class="pre">Keyword</span></code> objects are created and removed for us
transparently using the association proxy. In the example below, we illustrate
usage of the assignment operator, also appropriately handled by the
association proxy, to apply a dictionary value to the collection at once:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">user</span> <span class="o">=</span> <span class="n">User</span><span class="p">(</span><span class="s1">&#39;log&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">user</span><span class="o">.</span><span class="n">keywords</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>    <span class="s1">&#39;sk1&#39;</span><span class="p">:</span><span class="s1">&#39;kw1&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="s1">&#39;sk2&#39;</span><span class="p">:</span><span class="s1">&#39;kw2&#39;</span>
<span class="gp">... </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">user</span><span class="o">.</span><span class="n">keywords</span><span class="p">)</span>
<span class="go">{&#39;sk1&#39;: &#39;kw1&#39;, &#39;sk2&#39;: &#39;kw2&#39;}</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">user</span><span class="o">.</span><span class="n">keywords</span><span class="p">[</span><span class="s1">&#39;sk3&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;kw3&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">del</span> <span class="n">user</span><span class="o">.</span><span class="n">keywords</span><span class="p">[</span><span class="s1">&#39;sk2&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">user</span><span class="o">.</span><span class="n">keywords</span><span class="p">)</span>
<span class="go">{&#39;sk1&#39;: &#39;kw1&#39;, &#39;sk3&#39;: &#39;kw3&#39;}</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># illustrate un-proxied usage</span>
<span class="gp">... </span><span class="nb">print</span><span class="p">(</span><span class="n">user</span><span class="o">.</span><span class="n">user_keywords</span><span class="p">[</span><span class="s1">&#39;sk3&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">kw</span><span class="p">)</span>
<span class="go">&lt;__main__.Keyword object at 0x12ceb90&gt;</span></pre></div>
</div>
<p>One caveat with our example above is that because <code class="docutils literal notranslate"><span class="pre">Keyword</span></code> objects are created
for each dictionary set operation, the example fails to maintain uniqueness for
the <code class="docutils literal notranslate"><span class="pre">Keyword</span></code> objects on their string name, which is a typical requirement for
a tagging scenario such as this one.  For this use case the recipe
<a class="reference external" href="http://www.sqlalchemy.org/trac/wiki/UsageRecipes/UniqueObject">UniqueObject</a>, or
a comparable creational strategy, is
recommended, which will apply a “lookup first, then create” strategy to the constructor
of the <code class="docutils literal notranslate"><span class="pre">Keyword</span></code> class, so that an already existing <code class="docutils literal notranslate"><span class="pre">Keyword</span></code> is returned if the
given name is already present.</p>
</div>
<div class="section" id="querying-with-association-proxies">
<h2>Querying with Association Proxies<a class="headerlink" href="#querying-with-association-proxies" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxy" title="sqlalchemy.ext.associationproxy.AssociationProxy"><code class="xref py py-class docutils literal notranslate"><span class="pre">AssociationProxy</span></code></a> features simple SQL construction capabilities
which relate down to the underlying <a class="reference internal" href="../relationship_api.html#sqlalchemy.orm.relationship" title="sqlalchemy.orm.relationship"><code class="xref py py-func docutils literal notranslate"><span class="pre">relationship()</span></code></a> in use as well
as the target attribute.  For example, the <a class="reference internal" href="../internals.html#sqlalchemy.orm.RelationshipProperty.Comparator.any" title="sqlalchemy.orm.RelationshipProperty.Comparator.any"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Comparator.any()</span></code></a>
and <a class="reference internal" href="../internals.html#sqlalchemy.orm.RelationshipProperty.Comparator.has" title="sqlalchemy.orm.RelationshipProperty.Comparator.has"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Comparator.has()</span></code></a> operations are available, and will produce
a “nested” EXISTS clause, such as in our basic association object example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">session</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">User</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">User</span><span class="o">.</span><span class="n">keywords</span><span class="o">.</span><span class="n">any</span><span class="p">(</span><span class="n">keyword</span><span class="o">=</span><span class="s1">&#39;jek&#39;</span><span class="p">)))</span>
<span class="go">SELECT user.id AS user_id, user.name AS user_name</span>
<span class="go">FROM user</span>
<span class="go">WHERE EXISTS (SELECT 1</span>
<span class="go">FROM user_keyword</span>
<span class="go">WHERE user.id = user_keyword.user_id AND (EXISTS (SELECT 1</span>
<span class="go">FROM keyword</span>
<span class="go">WHERE keyword.id = user_keyword.keyword_id AND keyword.keyword = :keyword_1)))</span></pre></div>
</div>
<p>For a proxy to a scalar attribute, <code class="docutils literal notranslate"><span class="pre">__eq__()</span></code> is supported:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">session</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">UserKeyword</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">UserKeyword</span><span class="o">.</span><span class="n">keyword</span> <span class="o">==</span> <span class="s1">&#39;jek&#39;</span><span class="p">))</span>
<span class="go">SELECT user_keyword.*</span>
<span class="go">FROM user_keyword</span>
<span class="go">WHERE EXISTS (SELECT 1</span>
<span class="go">    FROM keyword</span>
<span class="go">    WHERE keyword.id = user_keyword.keyword_id AND keyword.keyword = :keyword_1)</span></pre></div>
</div>
<p>and <code class="docutils literal notranslate"><span class="pre">.contains()</span></code> is available for a proxy to a scalar collection:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">session</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">User</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">User</span><span class="o">.</span><span class="n">keywords</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="s1">&#39;jek&#39;</span><span class="p">)))</span>
<span class="go">SELECT user.*</span>
<span class="go">FROM user</span>
<span class="go">WHERE EXISTS (SELECT 1</span>
<span class="go">FROM userkeywords, keyword</span>
<span class="go">WHERE user.id = userkeywords.user_id</span>
<span class="go">    AND keyword.id = userkeywords.keyword_id</span>
<span class="go">    AND keyword.keyword = :keyword_1)</span></pre></div>
</div>
<p><a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxy" title="sqlalchemy.ext.associationproxy.AssociationProxy"><code class="xref py py-class docutils literal notranslate"><span class="pre">AssociationProxy</span></code></a> can be used with <a class="reference internal" href="../query.html#sqlalchemy.orm.query.Query.join" title="sqlalchemy.orm.query.Query.join"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Query.join()</span></code></a> somewhat manually
using the <code class="xref py py-attr docutils literal notranslate"><span class="pre">AssociationProxy.attr</span></code> attribute in a star-args context:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">q</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">User</span><span class="p">)</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="o">*</span><span class="n">User</span><span class="o">.</span><span class="n">keywords</span><span class="o">.</span><span class="n">attr</span><span class="p">)</span></pre></div>
</div>
<p><code class="xref py py-attr docutils literal notranslate"><span class="pre">AssociationProxy.attr</span></code> is composed of <code class="xref py py-attr docutils literal notranslate"><span class="pre">AssociationProxy.local_attr</span></code> and <code class="xref py py-attr docutils literal notranslate"><span class="pre">AssociationProxy.remote_attr</span></code>,
which are just synonyms for the actual proxied attributes, and can also
be used for querying:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">uka</span> <span class="o">=</span> <span class="n">aliased</span><span class="p">(</span><span class="n">UserKeyword</span><span class="p">)</span>
<span class="n">ka</span> <span class="o">=</span> <span class="n">aliased</span><span class="p">(</span><span class="n">Keyword</span><span class="p">)</span>
<span class="n">q</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">User</span><span class="p">)</span><span class="o">.</span>\
        <span class="n">join</span><span class="p">(</span><span class="n">uka</span><span class="p">,</span> <span class="n">User</span><span class="o">.</span><span class="n">keywords</span><span class="o">.</span><span class="n">local_attr</span><span class="p">)</span><span class="o">.</span>\
        <span class="n">join</span><span class="p">(</span><span class="n">ka</span><span class="p">,</span> <span class="n">User</span><span class="o">.</span><span class="n">keywords</span><span class="o">.</span><span class="n">remote_attr</span><span class="p">)</span></pre></div>
</div>
</div>
<div class="section" id="cascading-scalar-deletes">
<span id="cascade-scalar-deletes"></span><h2>Cascading Scalar Deletes<a class="headerlink" href="#cascading-scalar-deletes" title="Permalink to this headline">¶</a></h2>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.3.</span></p>
</div>
<p>Given a mapping as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">A</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s1">&#39;test_a&#39;</span>
    <span class="nb">id</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">ab</span> <span class="o">=</span> <span class="n">relationship</span><span class="p">(</span>
        <span class="s1">&#39;AB&#39;</span><span class="p">,</span> <span class="n">backref</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">uselist</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">b</span> <span class="o">=</span> <span class="n">association_proxy</span><span class="p">(</span>
        <span class="s1">&#39;ab&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="n">creator</span><span class="o">=</span><span class="k">lambda</span> <span class="n">b</span><span class="p">:</span> <span class="n">AB</span><span class="p">(</span><span class="n">b</span><span class="o">=</span><span class="n">b</span><span class="p">),</span>
        <span class="n">cascade_scalar_deletes</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">B</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s1">&#39;test_b&#39;</span>
    <span class="nb">id</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">ab</span> <span class="o">=</span> <span class="n">relationship</span><span class="p">(</span><span class="s1">&#39;AB&#39;</span><span class="p">,</span> <span class="n">backref</span><span class="o">=</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="n">cascade</span><span class="o">=</span><span class="s1">&#39;all, delete-orphan&#39;</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">AB</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s1">&#39;test_ab&#39;</span>
    <span class="n">a_id</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">ForeignKey</span><span class="p">(</span><span class="n">A</span><span class="o">.</span><span class="n">id</span><span class="p">),</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">b_id</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">ForeignKey</span><span class="p">(</span><span class="n">B</span><span class="o">.</span><span class="n">id</span><span class="p">),</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></pre></div>
</div>
<p>An assignment to <code class="docutils literal notranslate"><span class="pre">A.b</span></code> will generate an <code class="docutils literal notranslate"><span class="pre">AB</span></code> object:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">a</span><span class="o">.</span><span class="n">b</span> <span class="o">=</span> <span class="n">B</span><span class="p">()</span></pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">A.b</span></code> association is scalar, and includes use of the flag
<a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxy.params.cascade_scalar_deletes" title="sqlalchemy.ext.associationproxy.AssociationProxy"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">AssociationProxy.cascade_scalar_deletes</span></code></a>.  When set, setting <code class="docutils literal notranslate"><span class="pre">A.b</span></code>
to <code class="docutils literal notranslate"><span class="pre">None</span></code> will remove <code class="docutils literal notranslate"><span class="pre">A.ab</span></code> as well:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">a</span><span class="o">.</span><span class="n">b</span> <span class="o">=</span> <span class="kc">None</span>
<span class="k">assert</span> <span class="n">a</span><span class="o">.</span><span class="n">ab</span> <span class="ow">is</span> <span class="kc">None</span></pre></div>
</div>
<p>When <a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxy.params.cascade_scalar_deletes" title="sqlalchemy.ext.associationproxy.AssociationProxy"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">AssociationProxy.cascade_scalar_deletes</span></code></a> is not set,
the association object <code class="docutils literal notranslate"><span class="pre">a.ab</span></code> above would remain in place.</p>
<p>Note that this is not the behavior for collection-based association proxies;
in that case, the intermediary association object is always removed when
members of the proxied collection are removed.  Whether or not the row is
deleted depends on the relationship cascade setting.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../cascades.html#unitofwork-cascades"><span class="std std-ref">Cascades</span></a></p>
</div>
</div>
<div class="section" id="api-documentation">
<h2>API Documentation<a class="headerlink" href="#api-documentation" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="sqlalchemy.ext.associationproxy.association_proxy">
<em class="property">function </em><code class="sig-prename descclassname">sqlalchemy.ext.associationproxy.</code><code class="sig-name descname">association_proxy</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">target_collection</span></em>, <em class="sig-param"><span class="n">attr</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kw</span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.ext.associationproxy.association_proxy" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a Python property implementing a view of a target
attribute which references an attribute on members of the
target.</p>
<p>The returned value is an instance of <a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxy" title="sqlalchemy.ext.associationproxy.AssociationProxy"><code class="xref py py-class docutils literal notranslate"><span class="pre">AssociationProxy</span></code></a>.</p>
<p>Implements a Python property representing a relationship as a collection
of simpler values, or a scalar value.  The proxied property will mimic
the collection type of the target (list, dict or set), or, in the case of
a one to one relationship, a simple scalar value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.ext.associationproxy.association_proxy.params.target_collection"></span><strong>target_collection</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.ext.associationproxy.association_proxy.params.target_collection">¶</a> – Name of the attribute we’ll proxy to.
This attribute is typically mapped by
<a class="reference internal" href="../relationship_api.html#sqlalchemy.orm.relationship" title="sqlalchemy.orm.relationship"><code class="xref py py-func docutils literal notranslate"><span class="pre">relationship()</span></code></a> to link to a target collection, but
can also be a many-to-one or non-scalar relationship.</p></li>
<li><p><span class="target" id="sqlalchemy.ext.associationproxy.association_proxy.params.attr"></span><strong>attr</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.ext.associationproxy.association_proxy.params.attr">¶</a> – <p>Attribute on the associated instance or instances we’ll
proxy for.</p>
<p>For example, given a target collection of [obj1, obj2], a list created
by this proxy property would look like [getattr(obj1, <em>attr</em>),
getattr(obj2, <em>attr</em>)]</p>
<p>If the relationship is one-to-one or otherwise uselist=False, then
simply: getattr(obj, <em>attr</em>)</p>
</p></li>
<li><p><span class="target" id="sqlalchemy.ext.associationproxy.association_proxy.params.creator"></span><strong>creator</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.ext.associationproxy.association_proxy.params.creator">¶</a> – <p>optional.</p>
<p>When new items are added to this proxied collection, new instances of
the class collected by the target collection will be created.  For list
and set collections, the target class constructor will be called with
the ‘value’ for the new instance.  For dict types, two arguments are
passed: key and value.</p>
<p>If you want to construct instances differently, supply a <em>creator</em>
function that takes arguments as above and returns instances.</p>
<p>For scalar relationships, creator() will be called if the target is None.
If the target is present, set operations are proxied to setattr() on the
associated object.</p>
<p>If you have an associated object with multiple attributes, you may set
up multiple association proxies mapping to different attributes.  See
the unit tests for examples, and for examples of how creator() functions
can be used to construct the scalar relationship on-demand in this
situation.</p>
</p></li>
<li><p><span class="target" id="sqlalchemy.ext.associationproxy.association_proxy.params.**kw"></span><strong>**kw</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.ext.associationproxy.association_proxy.params.**kw">¶</a> – Passes along any other keyword arguments to
<a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxy" title="sqlalchemy.ext.associationproxy.AssociationProxy"><code class="xref py py-class docutils literal notranslate"><span class="pre">AssociationProxy</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt id="sqlalchemy.ext.associationproxy.AssociationProxy">
<em class="property">class </em><code class="sig-prename descclassname">sqlalchemy.ext.associationproxy.</code><code class="sig-name descname">AssociationProxy</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">target_collection</span></em>, <em class="sig-param"><span class="n">attr</span></em>, <em class="sig-param"><span class="n">creator</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">getset_factory</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">proxy_factory</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">proxy_bulk_set</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">info</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">cascade_scalar_deletes</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.ext.associationproxy.AssociationProxy" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="../internals.html#sqlalchemy.orm.base.InspectionAttrInfo" title="sqlalchemy.orm.base.InspectionAttrInfo"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.orm.base.InspectionAttrInfo</span></code></a></p>
<p>A descriptor that presents a read/write view of an object attribute.</p>
<dl class="py method">
<dt id="sqlalchemy.ext.associationproxy.AssociationProxy.__init__">
<em class="property">method </em><a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxy"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.associationproxy.AssociationProxy.</span></code></a><code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">target_collection</span></em>, <em class="sig-param"><span class="n">attr</span></em>, <em class="sig-param"><span class="n">creator</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">getset_factory</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">proxy_factory</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">proxy_bulk_set</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">info</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">cascade_scalar_deletes</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.ext.associationproxy.AssociationProxy.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a new <a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxy" title="sqlalchemy.ext.associationproxy.AssociationProxy"><code class="xref py py-class docutils literal notranslate"><span class="pre">AssociationProxy</span></code></a>.</p>
<p>The <a class="reference internal" href="#sqlalchemy.ext.associationproxy.association_proxy" title="sqlalchemy.ext.associationproxy.association_proxy"><code class="xref py py-func docutils literal notranslate"><span class="pre">association_proxy()</span></code></a> function is provided as the usual
entrypoint here, though <a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxy" title="sqlalchemy.ext.associationproxy.AssociationProxy"><code class="xref py py-class docutils literal notranslate"><span class="pre">AssociationProxy</span></code></a> can be instantiated
and/or subclassed directly.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.ext.associationproxy.AssociationProxy.params.target_collection"></span><strong>target_collection</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxy.params.target_collection">¶</a> – Name of the collection we’ll proxy to,
usually created with <a class="reference internal" href="../relationship_api.html#sqlalchemy.orm.relationship" title="sqlalchemy.orm.relationship"><code class="xref py py-func docutils literal notranslate"><span class="pre">relationship()</span></code></a>.</p></li>
<li><p><span class="target" id="sqlalchemy.ext.associationproxy.AssociationProxy.params.attr"></span><strong>attr</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxy.params.attr">¶</a> – Attribute on the collected instances we’ll proxy
for.  For example, given a target collection of [obj1, obj2], a
list created by this proxy property would look like
[getattr(obj1, attr), getattr(obj2, attr)]</p></li>
<li><p><span class="target" id="sqlalchemy.ext.associationproxy.AssociationProxy.params.creator"></span><strong>creator</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxy.params.creator">¶</a> – <p>Optional. When new items are added to this proxied
collection, new instances of the class collected by the target
collection will be created.  For list and set collections, the
target class constructor will be called with the ‘value’ for the
new instance.  For dict types, two arguments are passed:
key and value.</p>
<p>If you want to construct instances differently, supply a ‘creator’
function that takes arguments as above and returns instances.</p>
</p></li>
<li><p><span class="target" id="sqlalchemy.ext.associationproxy.AssociationProxy.params.cascade_scalar_deletes"></span><strong>cascade_scalar_deletes</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxy.params.cascade_scalar_deletes">¶</a> – <p>when True, indicates that setting
the proxied value to <code class="docutils literal notranslate"><span class="pre">None</span></code>, or deleting it via <code class="docutils literal notranslate"><span class="pre">del</span></code>, should
also remove the source object.  Only applies to scalar attributes.
Normally, removing the proxied target will not remove the proxy
source, as this object may have other state that is still to be
kept.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.3.</span></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#cascade-scalar-deletes"><span class="std std-ref">Cascading Scalar Deletes</span></a> - complete usage example</p>
</div>
</p></li>
<li><p><span class="target" id="sqlalchemy.ext.associationproxy.AssociationProxy.params.getset_factory"></span><strong>getset_factory</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxy.params.getset_factory">¶</a> – <p>Optional.  Proxied attribute access is
automatically handled by routines that get and set values based on
the <cite>attr</cite> argument for this proxy.</p>
<p>If you would like to customize this behavior, you may supply a
<cite>getset_factory</cite> callable that produces a tuple of <cite>getter</cite> and
<cite>setter</cite> functions.  The factory is called with two arguments, the
abstract type of the underlying collection and this proxy instance.</p>
</p></li>
<li><p><span class="target" id="sqlalchemy.ext.associationproxy.AssociationProxy.params.proxy_factory"></span><strong>proxy_factory</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxy.params.proxy_factory">¶</a> – Optional.  The type of collection to emulate is
determined by sniffing the target collection.  If your collection
type can’t be determined by duck typing or you’d like to use a
different collection implementation, you may supply a factory
function to produce those collections.  Only applicable to
non-scalar relationships.</p></li>
<li><p><span class="target" id="sqlalchemy.ext.associationproxy.AssociationProxy.params.proxy_bulk_set"></span><strong>proxy_bulk_set</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxy.params.proxy_bulk_set">¶</a> – Optional, use with proxy_factory.  See
the _set() method for details.</p></li>
<li><p><span class="target" id="sqlalchemy.ext.associationproxy.AssociationProxy.params.info"></span><strong>info</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxy.params.info">¶</a> – <p>optional, will be assigned to
<a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxy.info" title="sqlalchemy.ext.associationproxy.AssociationProxy.info"><code class="xref py py-attr docutils literal notranslate"><span class="pre">AssociationProxy.info</span></code></a> if present.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.0.9.</span></p>
</div>
</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="sqlalchemy.ext.associationproxy.AssociationProxy.extension_type">
<em class="property">attribute </em><a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxy"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.associationproxy.AssociationProxy.</span></code></a><code class="sig-name descname">extension_type</code><em class="property"> = symbol('ASSOCIATION_PROXY')</em><a class="headerlink" href="#sqlalchemy.ext.associationproxy.AssociationProxy.extension_type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="sqlalchemy.ext.associationproxy.AssociationProxy.for_class">
<em class="property">method </em><a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxy"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.associationproxy.AssociationProxy.</span></code></a><code class="sig-name descname">for_class</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">class_</span></em>, <em class="sig-param"><span class="n">obj</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.ext.associationproxy.AssociationProxy.for_class" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the internal state local to a specific mapped class.</p>
<p>E.g., given a class <code class="docutils literal notranslate"><span class="pre">User</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">User</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
    <span class="c1"># ...</span>

    <span class="n">keywords</span> <span class="o">=</span> <span class="n">association_proxy</span><span class="p">(</span><span class="s1">&#39;kws&#39;</span><span class="p">,</span> <span class="s1">&#39;keyword&#39;</span><span class="p">)</span></pre></div>
</div>
<p>If we access this <a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxy" title="sqlalchemy.ext.associationproxy.AssociationProxy"><code class="xref py py-class docutils literal notranslate"><span class="pre">AssociationProxy</span></code></a> from
<a class="reference internal" href="../mapping_api.html#sqlalchemy.orm.Mapper.all_orm_descriptors" title="sqlalchemy.orm.Mapper.all_orm_descriptors"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Mapper.all_orm_descriptors</span></code></a>, and we want to view the
target class for this proxy as mapped by <code class="docutils literal notranslate"><span class="pre">User</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">inspect</span><span class="p">(</span><span class="n">User</span><span class="p">)</span><span class="o">.</span><span class="n">all_orm_descriptors</span><span class="p">[</span><span class="s2">&quot;keywords&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">for_class</span><span class="p">(</span><span class="n">User</span><span class="p">)</span><span class="o">.</span><span class="n">target_class</span></pre></div>
</div>
<p>This returns an instance of <a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxyInstance" title="sqlalchemy.ext.associationproxy.AssociationProxyInstance"><code class="xref py py-class docutils literal notranslate"><span class="pre">AssociationProxyInstance</span></code></a> that
is specific to the <code class="docutils literal notranslate"><span class="pre">User</span></code> class.   The <a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxy" title="sqlalchemy.ext.associationproxy.AssociationProxy"><code class="xref py py-class docutils literal notranslate"><span class="pre">AssociationProxy</span></code></a>
object remains agnostic of its parent class.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.ext.associationproxy.AssociationProxy.for_class.params.class_"></span><strong>class_</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxy.for_class.params.class_">¶</a> – the class that we are returning state for.</p></li>
<li><p><span class="target" id="sqlalchemy.ext.associationproxy.AssociationProxy.for_class.params.obj"></span><strong>obj</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxy.for_class.params.obj">¶</a> – optional, an instance of the class that is required
if the attribute refers to a polymorphic target, e.g. where we have
to look at the type of the actual destination object to get the
complete path.</p></li>
</ul>
</dd>
</dl>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.3: </span>- <a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxy" title="sqlalchemy.ext.associationproxy.AssociationProxy"><code class="xref py py-class docutils literal notranslate"><span class="pre">AssociationProxy</span></code></a> no longer stores
any state specific to a particular parent class; the state is now
stored in per-class <a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxyInstance" title="sqlalchemy.ext.associationproxy.AssociationProxyInstance"><code class="xref py py-class docutils literal notranslate"><span class="pre">AssociationProxyInstance</span></code></a> objects.</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt id="sqlalchemy.ext.associationproxy.AssociationProxy.info">
<em class="property">attribute </em><a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxy"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.associationproxy.AssociationProxy.</span></code></a><code class="sig-name descname">info</code><a class="headerlink" href="#sqlalchemy.ext.associationproxy.AssociationProxy.info" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="../internals.html#sqlalchemy.orm.base.InspectionAttrInfo.info" title="sqlalchemy.orm.base.InspectionAttrInfo.info"><code class="xref py py-attr docutils literal notranslate"><span class="pre">InspectionAttrInfo.info</span></code></a> <em>attribute of</em> <a class="reference internal" href="../internals.html#sqlalchemy.orm.base.InspectionAttrInfo" title="sqlalchemy.orm.base.InspectionAttrInfo"><code class="xref py py-class docutils literal notranslate"><span class="pre">InspectionAttrInfo</span></code></a></p>
</div>
<p>Info dictionary associated with the object, allowing user-defined
data to be associated with this <a class="reference internal" href="../internals.html#sqlalchemy.orm.base.InspectionAttr" title="sqlalchemy.orm.base.InspectionAttr"><code class="xref py py-class docutils literal notranslate"><span class="pre">InspectionAttr</span></code></a>.</p>
<p>The dictionary is generated when first accessed.  Alternatively,
it can be specified as a constructor argument to the
<a class="reference internal" href="../mapping_columns.html#sqlalchemy.orm.column_property" title="sqlalchemy.orm.column_property"><code class="xref py py-func docutils literal notranslate"><span class="pre">column_property()</span></code></a>, <a class="reference internal" href="../relationship_api.html#sqlalchemy.orm.relationship" title="sqlalchemy.orm.relationship"><code class="xref py py-func docutils literal notranslate"><span class="pre">relationship()</span></code></a>, or
<a class="reference internal" href="../composites.html#sqlalchemy.orm.composite" title="sqlalchemy.orm.composite"><code class="xref py py-func docutils literal notranslate"><span class="pre">composite()</span></code></a>
functions.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 1.0.0: </span><a class="reference internal" href="../internals.html#sqlalchemy.orm.interfaces.MapperProperty.info" title="sqlalchemy.orm.interfaces.MapperProperty.info"><code class="xref py py-attr docutils literal notranslate"><span class="pre">MapperProperty.info</span></code></a> is also
available on extension types via the
<a class="reference internal" href="../internals.html#sqlalchemy.orm.base.InspectionAttrInfo.info" title="sqlalchemy.orm.base.InspectionAttrInfo.info"><code class="xref py py-attr docutils literal notranslate"><span class="pre">InspectionAttrInfo.info</span></code></a> attribute, so that it can apply
to a wider variety of ORM and extension constructs.</p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../internals.html#sqlalchemy.orm.attributes.QueryableAttribute.info" title="sqlalchemy.orm.attributes.QueryableAttribute.info"><code class="xref py py-attr docutils literal notranslate"><span class="pre">QueryableAttribute.info</span></code></a></p>
<p><a class="reference internal" href="../../core/metadata.html#sqlalchemy.schema.SchemaItem.info" title="sqlalchemy.schema.SchemaItem.info"><code class="xref py py-attr docutils literal notranslate"><span class="pre">SchemaItem.info</span></code></a></p>
</div>
</dd></dl>

<dl class="py attribute">
<dt id="sqlalchemy.ext.associationproxy.AssociationProxy.is_aliased_class">
<em class="property">attribute </em><a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxy"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.associationproxy.AssociationProxy.</span></code></a><code class="sig-name descname">is_aliased_class</code><em class="property"> = False</em><a class="headerlink" href="#sqlalchemy.ext.associationproxy.AssociationProxy.is_aliased_class" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="sqlalchemy.ext.associationproxy.AssociationProxy.is_attribute">
<em class="property">attribute </em><a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxy"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.associationproxy.AssociationProxy.</span></code></a><code class="sig-name descname">is_attribute</code><em class="property"> = True</em><a class="headerlink" href="#sqlalchemy.ext.associationproxy.AssociationProxy.is_attribute" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="sqlalchemy.ext.associationproxy.AssociationProxy.is_clause_element">
<em class="property">attribute </em><a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxy"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.associationproxy.AssociationProxy.</span></code></a><code class="sig-name descname">is_clause_element</code><em class="property"> = False</em><a class="headerlink" href="#sqlalchemy.ext.associationproxy.AssociationProxy.is_clause_element" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="sqlalchemy.ext.associationproxy.AssociationProxy.is_instance">
<em class="property">attribute </em><a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxy"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.associationproxy.AssociationProxy.</span></code></a><code class="sig-name descname">is_instance</code><em class="property"> = False</em><a class="headerlink" href="#sqlalchemy.ext.associationproxy.AssociationProxy.is_instance" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="sqlalchemy.ext.associationproxy.AssociationProxy.is_mapper">
<em class="property">attribute </em><a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxy"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.associationproxy.AssociationProxy.</span></code></a><code class="sig-name descname">is_mapper</code><em class="property"> = False</em><a class="headerlink" href="#sqlalchemy.ext.associationproxy.AssociationProxy.is_mapper" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="sqlalchemy.ext.associationproxy.AssociationProxy.is_property">
<em class="property">attribute </em><a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxy"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.associationproxy.AssociationProxy.</span></code></a><code class="sig-name descname">is_property</code><em class="property"> = False</em><a class="headerlink" href="#sqlalchemy.ext.associationproxy.AssociationProxy.is_property" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="sqlalchemy.ext.associationproxy.AssociationProxy.is_selectable">
<em class="property">attribute </em><a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxy"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.associationproxy.AssociationProxy.</span></code></a><code class="sig-name descname">is_selectable</code><em class="property"> = False</em><a class="headerlink" href="#sqlalchemy.ext.associationproxy.AssociationProxy.is_selectable" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="sqlalchemy.ext.associationproxy.AssociationProxyInstance">
<em class="property">class </em><code class="sig-prename descclassname">sqlalchemy.ext.associationproxy.</code><code class="sig-name descname">AssociationProxyInstance</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">parent</span></em>, <em class="sig-param"><span class="n">owning_class</span></em>, <em class="sig-param"><span class="n">target_class</span></em>, <em class="sig-param"><span class="n">value_attr</span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.ext.associationproxy.AssociationProxyInstance" title="Permalink to this definition">¶</a></dt>
<dd><p>A per-class object that serves class- and object-specific results.</p>
<p>This is used by <a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxy" title="sqlalchemy.ext.associationproxy.AssociationProxy"><code class="xref py py-class docutils literal notranslate"><span class="pre">AssociationProxy</span></code></a> when it is invoked
in terms of a specific class or instance of a class, i.e. when it is
used as a regular Python descriptor.</p>
<p>When referring to the <a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxy" title="sqlalchemy.ext.associationproxy.AssociationProxy"><code class="xref py py-class docutils literal notranslate"><span class="pre">AssociationProxy</span></code></a> as a normal Python
descriptor, the <a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxyInstance" title="sqlalchemy.ext.associationproxy.AssociationProxyInstance"><code class="xref py py-class docutils literal notranslate"><span class="pre">AssociationProxyInstance</span></code></a> is the object that
actually serves the information.   Under normal circumstances, its presence
is transparent:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">User</span><span class="o">.</span><span class="n">keywords</span><span class="o">.</span><span class="n">scalar</span>
<span class="go">False</span></pre></div>
</div>
<p>In the special case that the <a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxy" title="sqlalchemy.ext.associationproxy.AssociationProxy"><code class="xref py py-class docutils literal notranslate"><span class="pre">AssociationProxy</span></code></a> object is being
accessed directly, in order to get an explicit handle to the
<a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxyInstance" title="sqlalchemy.ext.associationproxy.AssociationProxyInstance"><code class="xref py py-class docutils literal notranslate"><span class="pre">AssociationProxyInstance</span></code></a>, use the
<a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxy.for_class" title="sqlalchemy.ext.associationproxy.AssociationProxy.for_class"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AssociationProxy.for_class()</span></code></a> method:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">proxy_state</span> <span class="o">=</span> <span class="n">inspect</span><span class="p">(</span><span class="n">User</span><span class="p">)</span><span class="o">.</span><span class="n">all_orm_descriptors</span><span class="p">[</span><span class="s2">&quot;keywords&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">for_class</span><span class="p">(</span><span class="n">User</span><span class="p">)</span>

<span class="c1"># view if proxy object is scalar or not</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">proxy_state</span><span class="o">.</span><span class="n">scalar</span>
<span class="kc">False</span></pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.3.</span></p>
</div>
<dl class="py method">
<dt id="sqlalchemy.ext.associationproxy.AssociationProxyInstance.any">
<em class="property">method </em><a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxyInstance"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.associationproxy.AssociationProxyInstance.</span></code></a><code class="sig-name descname">any</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">criterion</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.ext.associationproxy.AssociationProxyInstance.any" title="Permalink to this definition">¶</a></dt>
<dd><p>Produce a proxied ‘any’ expression using EXISTS.</p>
<p>This expression will be a composed product
using the <a class="reference internal" href="../internals.html#sqlalchemy.orm.RelationshipProperty.Comparator.any" title="sqlalchemy.orm.RelationshipProperty.Comparator.any"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Comparator.any()</span></code></a>
and/or <a class="reference internal" href="../internals.html#sqlalchemy.orm.RelationshipProperty.Comparator.has" title="sqlalchemy.orm.RelationshipProperty.Comparator.has"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Comparator.has()</span></code></a>
operators of the underlying proxied attributes.</p>
</dd></dl>

<dl class="py attribute">
<dt id="sqlalchemy.ext.associationproxy.AssociationProxyInstance.attr">
<em class="property">attribute </em><a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxyInstance"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.associationproxy.AssociationProxyInstance.</span></code></a><code class="sig-name descname">attr</code><a class="headerlink" href="#sqlalchemy.ext.associationproxy.AssociationProxyInstance.attr" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a tuple of <code class="docutils literal notranslate"><span class="pre">(local_attr,</span> <span class="pre">remote_attr)</span></code>.</p>
<p>This attribute is convenient when specifying a join
using <a class="reference internal" href="../query.html#sqlalchemy.orm.query.Query.join" title="sqlalchemy.orm.query.Query.join"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Query.join()</span></code></a> across two relationships:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sess</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">Parent</span><span class="p">)</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="o">*</span><span class="n">Parent</span><span class="o">.</span><span class="n">proxied</span><span class="o">.</span><span class="n">attr</span><span class="p">)</span></pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxyInstance.local_attr" title="sqlalchemy.ext.associationproxy.AssociationProxyInstance.local_attr"><code class="xref py py-attr docutils literal notranslate"><span class="pre">AssociationProxyInstance.local_attr</span></code></a></p>
<p><a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxyInstance.remote_attr" title="sqlalchemy.ext.associationproxy.AssociationProxyInstance.remote_attr"><code class="xref py py-attr docutils literal notranslate"><span class="pre">AssociationProxyInstance.remote_attr</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt id="sqlalchemy.ext.associationproxy.AssociationProxyInstance.delete">
<em class="property">method </em><a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxyInstance"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.associationproxy.AssociationProxyInstance.</span></code></a><code class="sig-name descname">delete</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">obj</span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.ext.associationproxy.AssociationProxyInstance.delete" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="sqlalchemy.ext.associationproxy.AssociationProxyInstance.for_proxy">
<em class="property">method </em><a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxyInstance"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.associationproxy.AssociationProxyInstance.</span></code></a><em class="property">classmethod </em><code class="sig-name descname">for_proxy</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">parent</span></em>, <em class="sig-param"><span class="n">owning_class</span></em>, <em class="sig-param"><span class="n">parent_instance</span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.ext.associationproxy.AssociationProxyInstance.for_proxy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="sqlalchemy.ext.associationproxy.AssociationProxyInstance.get">
<em class="property">method </em><a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxyInstance"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.associationproxy.AssociationProxyInstance.</span></code></a><code class="sig-name descname">get</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">obj</span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.ext.associationproxy.AssociationProxyInstance.get" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="sqlalchemy.ext.associationproxy.AssociationProxyInstance.has">
<em class="property">method </em><a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxyInstance"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.associationproxy.AssociationProxyInstance.</span></code></a><code class="sig-name descname">has</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">criterion</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.ext.associationproxy.AssociationProxyInstance.has" title="Permalink to this definition">¶</a></dt>
<dd><p>Produce a proxied ‘has’ expression using EXISTS.</p>
<p>This expression will be a composed product
using the <a class="reference internal" href="../internals.html#sqlalchemy.orm.RelationshipProperty.Comparator.any" title="sqlalchemy.orm.RelationshipProperty.Comparator.any"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Comparator.any()</span></code></a>
and/or <a class="reference internal" href="../internals.html#sqlalchemy.orm.RelationshipProperty.Comparator.has" title="sqlalchemy.orm.RelationshipProperty.Comparator.has"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Comparator.has()</span></code></a>
operators of the underlying proxied attributes.</p>
</dd></dl>

<dl class="py attribute">
<dt id="sqlalchemy.ext.associationproxy.AssociationProxyInstance.info">
<em class="property">attribute </em><a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxyInstance"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.associationproxy.AssociationProxyInstance.</span></code></a><code class="sig-name descname">info</code><a class="headerlink" href="#sqlalchemy.ext.associationproxy.AssociationProxyInstance.info" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="sqlalchemy.ext.associationproxy.AssociationProxyInstance.local_attr">
<em class="property">attribute </em><a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxyInstance"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.associationproxy.AssociationProxyInstance.</span></code></a><code class="sig-name descname">local_attr</code><a class="headerlink" href="#sqlalchemy.ext.associationproxy.AssociationProxyInstance.local_attr" title="Permalink to this definition">¶</a></dt>
<dd><p>The ‘local’ class attribute referenced by this
<a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxyInstance" title="sqlalchemy.ext.associationproxy.AssociationProxyInstance"><code class="xref py py-class docutils literal notranslate"><span class="pre">AssociationProxyInstance</span></code></a>.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxyInstance.attr" title="sqlalchemy.ext.associationproxy.AssociationProxyInstance.attr"><code class="xref py py-attr docutils literal notranslate"><span class="pre">AssociationProxyInstance.attr</span></code></a></p>
<p><a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxyInstance.remote_attr" title="sqlalchemy.ext.associationproxy.AssociationProxyInstance.remote_attr"><code class="xref py py-attr docutils literal notranslate"><span class="pre">AssociationProxyInstance.remote_attr</span></code></a></p>
</div>
</dd></dl>

<dl class="py attribute">
<dt id="sqlalchemy.ext.associationproxy.AssociationProxyInstance.remote_attr">
<em class="property">attribute </em><a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxyInstance"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.associationproxy.AssociationProxyInstance.</span></code></a><code class="sig-name descname">remote_attr</code><a class="headerlink" href="#sqlalchemy.ext.associationproxy.AssociationProxyInstance.remote_attr" title="Permalink to this definition">¶</a></dt>
<dd><p>The ‘remote’ class attribute referenced by this
<a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxyInstance" title="sqlalchemy.ext.associationproxy.AssociationProxyInstance"><code class="xref py py-class docutils literal notranslate"><span class="pre">AssociationProxyInstance</span></code></a>.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxyInstance.attr" title="sqlalchemy.ext.associationproxy.AssociationProxyInstance.attr"><code class="xref py py-attr docutils literal notranslate"><span class="pre">AssociationProxyInstance.attr</span></code></a></p>
<p><a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxyInstance.local_attr" title="sqlalchemy.ext.associationproxy.AssociationProxyInstance.local_attr"><code class="xref py py-attr docutils literal notranslate"><span class="pre">AssociationProxyInstance.local_attr</span></code></a></p>
</div>
</dd></dl>

<dl class="py attribute">
<dt id="sqlalchemy.ext.associationproxy.AssociationProxyInstance.scalar">
<em class="property">attribute </em><a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxyInstance"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.associationproxy.AssociationProxyInstance.</span></code></a><code class="sig-name descname">scalar</code><a class="headerlink" href="#sqlalchemy.ext.associationproxy.AssociationProxyInstance.scalar" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <code class="docutils literal notranslate"><span class="pre">True</span></code> if this <a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxyInstance" title="sqlalchemy.ext.associationproxy.AssociationProxyInstance"><code class="xref py py-class docutils literal notranslate"><span class="pre">AssociationProxyInstance</span></code></a>
proxies a scalar relationship on the local side.</p>
</dd></dl>

<dl class="py method">
<dt id="sqlalchemy.ext.associationproxy.AssociationProxyInstance.set">
<em class="property">method </em><a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxyInstance"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.associationproxy.AssociationProxyInstance.</span></code></a><code class="sig-name descname">set</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">obj</span></em>, <em class="sig-param"><span class="n">values</span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.ext.associationproxy.AssociationProxyInstance.set" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="sqlalchemy.ext.associationproxy.AssociationProxyInstance.target_class">
<em class="property">attribute </em><a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxyInstance"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.associationproxy.AssociationProxyInstance.</span></code></a><code class="sig-name descname">target_class</code><em class="property"> = None</em><a class="headerlink" href="#sqlalchemy.ext.associationproxy.AssociationProxyInstance.target_class" title="Permalink to this definition">¶</a></dt>
<dd><p>The intermediary class handled by this
<a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxyInstance" title="sqlalchemy.ext.associationproxy.AssociationProxyInstance"><code class="xref py py-class docutils literal notranslate"><span class="pre">AssociationProxyInstance</span></code></a>.</p>
<p>Intercepted append/set/assignment events will result
in the generation of new instances of this class.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="sqlalchemy.ext.associationproxy.ObjectAssociationProxyInstance">
<em class="property">class </em><code class="sig-prename descclassname">sqlalchemy.ext.associationproxy.</code><code class="sig-name descname">ObjectAssociationProxyInstance</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">parent</span></em>, <em class="sig-param"><span class="n">owning_class</span></em>, <em class="sig-param"><span class="n">target_class</span></em>, <em class="sig-param"><span class="n">value_attr</span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.ext.associationproxy.ObjectAssociationProxyInstance" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxyInstance" title="sqlalchemy.ext.associationproxy.AssociationProxyInstance"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.ext.associationproxy.AssociationProxyInstance</span></code></a></p>
<p>an <a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxyInstance" title="sqlalchemy.ext.associationproxy.AssociationProxyInstance"><code class="xref py py-class docutils literal notranslate"><span class="pre">AssociationProxyInstance</span></code></a> that has an object as a target.</p>
<dl class="py method">
<dt id="sqlalchemy.ext.associationproxy.ObjectAssociationProxyInstance.any">
<em class="property">method </em><a class="reference internal" href="#sqlalchemy.ext.associationproxy.ObjectAssociationProxyInstance"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.associationproxy.ObjectAssociationProxyInstance.</span></code></a><code class="sig-name descname">any</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">criterion</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.ext.associationproxy.ObjectAssociationProxyInstance.any" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxyInstance.any" title="sqlalchemy.ext.associationproxy.AssociationProxyInstance.any"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AssociationProxyInstance.any()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxyInstance" title="sqlalchemy.ext.associationproxy.AssociationProxyInstance"><code class="xref py py-class docutils literal notranslate"><span class="pre">AssociationProxyInstance</span></code></a></p>
</div>
<p>Produce a proxied ‘any’ expression using EXISTS.</p>
<p>This expression will be a composed product
using the <a class="reference internal" href="../internals.html#sqlalchemy.orm.RelationshipProperty.Comparator.any" title="sqlalchemy.orm.RelationshipProperty.Comparator.any"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Comparator.any()</span></code></a>
and/or <a class="reference internal" href="../internals.html#sqlalchemy.orm.RelationshipProperty.Comparator.has" title="sqlalchemy.orm.RelationshipProperty.Comparator.has"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Comparator.has()</span></code></a>
operators of the underlying proxied attributes.</p>
</dd></dl>

<dl class="py attribute">
<dt id="sqlalchemy.ext.associationproxy.ObjectAssociationProxyInstance.attr">
<em class="property">attribute </em><a class="reference internal" href="#sqlalchemy.ext.associationproxy.ObjectAssociationProxyInstance"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.associationproxy.ObjectAssociationProxyInstance.</span></code></a><code class="sig-name descname">attr</code><a class="headerlink" href="#sqlalchemy.ext.associationproxy.ObjectAssociationProxyInstance.attr" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxyInstance.attr" title="sqlalchemy.ext.associationproxy.AssociationProxyInstance.attr"><code class="xref py py-attr docutils literal notranslate"><span class="pre">AssociationProxyInstance.attr</span></code></a> <em>attribute of</em> <a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxyInstance" title="sqlalchemy.ext.associationproxy.AssociationProxyInstance"><code class="xref py py-class docutils literal notranslate"><span class="pre">AssociationProxyInstance</span></code></a></p>
</div>
<p>Return a tuple of <code class="docutils literal notranslate"><span class="pre">(local_attr,</span> <span class="pre">remote_attr)</span></code>.</p>
<p>This attribute is convenient when specifying a join
using <a class="reference internal" href="../query.html#sqlalchemy.orm.query.Query.join" title="sqlalchemy.orm.query.Query.join"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Query.join()</span></code></a> across two relationships:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sess</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">Parent</span><span class="p">)</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="o">*</span><span class="n">Parent</span><span class="o">.</span><span class="n">proxied</span><span class="o">.</span><span class="n">attr</span><span class="p">)</span></pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxyInstance.local_attr" title="sqlalchemy.ext.associationproxy.AssociationProxyInstance.local_attr"><code class="xref py py-attr docutils literal notranslate"><span class="pre">AssociationProxyInstance.local_attr</span></code></a></p>
<p><a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxyInstance.remote_attr" title="sqlalchemy.ext.associationproxy.AssociationProxyInstance.remote_attr"><code class="xref py py-attr docutils literal notranslate"><span class="pre">AssociationProxyInstance.remote_attr</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt id="sqlalchemy.ext.associationproxy.ObjectAssociationProxyInstance.contains">
<em class="property">method </em><a class="reference internal" href="#sqlalchemy.ext.associationproxy.ObjectAssociationProxyInstance"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.associationproxy.ObjectAssociationProxyInstance.</span></code></a><code class="sig-name descname">contains</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">obj</span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.ext.associationproxy.ObjectAssociationProxyInstance.contains" title="Permalink to this definition">¶</a></dt>
<dd><p>Produce a proxied ‘contains’ expression using EXISTS.</p>
<p>This expression will be a composed product
using the <a class="reference internal" href="../internals.html#sqlalchemy.orm.RelationshipProperty.Comparator.any" title="sqlalchemy.orm.RelationshipProperty.Comparator.any"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Comparator.any()</span></code></a>
, <a class="reference internal" href="../internals.html#sqlalchemy.orm.RelationshipProperty.Comparator.has" title="sqlalchemy.orm.RelationshipProperty.Comparator.has"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Comparator.has()</span></code></a>,
and/or <a class="reference internal" href="../internals.html#sqlalchemy.orm.RelationshipProperty.Comparator.contains" title="sqlalchemy.orm.RelationshipProperty.Comparator.contains"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Comparator.contains()</span></code></a>
operators of the underlying proxied attributes.</p>
</dd></dl>

<dl class="py method">
<dt id="sqlalchemy.ext.associationproxy.ObjectAssociationProxyInstance.has">
<em class="property">method </em><a class="reference internal" href="#sqlalchemy.ext.associationproxy.ObjectAssociationProxyInstance"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.associationproxy.ObjectAssociationProxyInstance.</span></code></a><code class="sig-name descname">has</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">criterion</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.ext.associationproxy.ObjectAssociationProxyInstance.has" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxyInstance.has" title="sqlalchemy.ext.associationproxy.AssociationProxyInstance.has"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AssociationProxyInstance.has()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxyInstance" title="sqlalchemy.ext.associationproxy.AssociationProxyInstance"><code class="xref py py-class docutils literal notranslate"><span class="pre">AssociationProxyInstance</span></code></a></p>
</div>
<p>Produce a proxied ‘has’ expression using EXISTS.</p>
<p>This expression will be a composed product
using the <a class="reference internal" href="../internals.html#sqlalchemy.orm.RelationshipProperty.Comparator.any" title="sqlalchemy.orm.RelationshipProperty.Comparator.any"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Comparator.any()</span></code></a>
and/or <a class="reference internal" href="../internals.html#sqlalchemy.orm.RelationshipProperty.Comparator.has" title="sqlalchemy.orm.RelationshipProperty.Comparator.has"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Comparator.has()</span></code></a>
operators of the underlying proxied attributes.</p>
</dd></dl>

<dl class="py attribute">
<dt id="sqlalchemy.ext.associationproxy.ObjectAssociationProxyInstance.local_attr">
<em class="property">attribute </em><a class="reference internal" href="#sqlalchemy.ext.associationproxy.ObjectAssociationProxyInstance"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.associationproxy.ObjectAssociationProxyInstance.</span></code></a><code class="sig-name descname">local_attr</code><a class="headerlink" href="#sqlalchemy.ext.associationproxy.ObjectAssociationProxyInstance.local_attr" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxyInstance.local_attr" title="sqlalchemy.ext.associationproxy.AssociationProxyInstance.local_attr"><code class="xref py py-attr docutils literal notranslate"><span class="pre">AssociationProxyInstance.local_attr</span></code></a> <em>attribute of</em> <a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxyInstance" title="sqlalchemy.ext.associationproxy.AssociationProxyInstance"><code class="xref py py-class docutils literal notranslate"><span class="pre">AssociationProxyInstance</span></code></a></p>
</div>
<p>The ‘local’ class attribute referenced by this
<a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxyInstance" title="sqlalchemy.ext.associationproxy.AssociationProxyInstance"><code class="xref py py-class docutils literal notranslate"><span class="pre">AssociationProxyInstance</span></code></a>.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxyInstance.attr" title="sqlalchemy.ext.associationproxy.AssociationProxyInstance.attr"><code class="xref py py-attr docutils literal notranslate"><span class="pre">AssociationProxyInstance.attr</span></code></a></p>
<p><a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxyInstance.remote_attr" title="sqlalchemy.ext.associationproxy.AssociationProxyInstance.remote_attr"><code class="xref py py-attr docutils literal notranslate"><span class="pre">AssociationProxyInstance.remote_attr</span></code></a></p>
</div>
</dd></dl>

<dl class="py attribute">
<dt id="sqlalchemy.ext.associationproxy.ObjectAssociationProxyInstance.remote_attr">
<em class="property">attribute </em><a class="reference internal" href="#sqlalchemy.ext.associationproxy.ObjectAssociationProxyInstance"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.associationproxy.ObjectAssociationProxyInstance.</span></code></a><code class="sig-name descname">remote_attr</code><a class="headerlink" href="#sqlalchemy.ext.associationproxy.ObjectAssociationProxyInstance.remote_attr" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxyInstance.remote_attr" title="sqlalchemy.ext.associationproxy.AssociationProxyInstance.remote_attr"><code class="xref py py-attr docutils literal notranslate"><span class="pre">AssociationProxyInstance.remote_attr</span></code></a> <em>attribute of</em> <a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxyInstance" title="sqlalchemy.ext.associationproxy.AssociationProxyInstance"><code class="xref py py-class docutils literal notranslate"><span class="pre">AssociationProxyInstance</span></code></a></p>
</div>
<p>The ‘remote’ class attribute referenced by this
<a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxyInstance" title="sqlalchemy.ext.associationproxy.AssociationProxyInstance"><code class="xref py py-class docutils literal notranslate"><span class="pre">AssociationProxyInstance</span></code></a>.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxyInstance.attr" title="sqlalchemy.ext.associationproxy.AssociationProxyInstance.attr"><code class="xref py py-attr docutils literal notranslate"><span class="pre">AssociationProxyInstance.attr</span></code></a></p>
<p><a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxyInstance.local_attr" title="sqlalchemy.ext.associationproxy.AssociationProxyInstance.local_attr"><code class="xref py py-attr docutils literal notranslate"><span class="pre">AssociationProxyInstance.local_attr</span></code></a></p>
</div>
</dd></dl>

<dl class="py attribute">
<dt id="sqlalchemy.ext.associationproxy.ObjectAssociationProxyInstance.scalar">
<em class="property">attribute </em><a class="reference internal" href="#sqlalchemy.ext.associationproxy.ObjectAssociationProxyInstance"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.associationproxy.ObjectAssociationProxyInstance.</span></code></a><code class="sig-name descname">scalar</code><a class="headerlink" href="#sqlalchemy.ext.associationproxy.ObjectAssociationProxyInstance.scalar" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxyInstance.scalar" title="sqlalchemy.ext.associationproxy.AssociationProxyInstance.scalar"><code class="xref py py-attr docutils literal notranslate"><span class="pre">AssociationProxyInstance.scalar</span></code></a> <em>attribute of</em> <a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxyInstance" title="sqlalchemy.ext.associationproxy.AssociationProxyInstance"><code class="xref py py-class docutils literal notranslate"><span class="pre">AssociationProxyInstance</span></code></a></p>
</div>
<p>Return <code class="docutils literal notranslate"><span class="pre">True</span></code> if this <a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxyInstance" title="sqlalchemy.ext.associationproxy.AssociationProxyInstance"><code class="xref py py-class docutils literal notranslate"><span class="pre">AssociationProxyInstance</span></code></a>
proxies a scalar relationship on the local side.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance">
<em class="property">class </em><code class="sig-prename descclassname">sqlalchemy.ext.associationproxy.</code><code class="sig-name descname">ColumnAssociationProxyInstance</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">parent</span></em>, <em class="sig-param"><span class="n">owning_class</span></em>, <em class="sig-param"><span class="n">target_class</span></em>, <em class="sig-param"><span class="n">value_attr</span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators" title="sqlalchemy.sql.operators.ColumnOperators"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.operators.ColumnOperators</span></code></a>, <a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxyInstance" title="sqlalchemy.ext.associationproxy.AssociationProxyInstance"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.ext.associationproxy.AssociationProxyInstance</span></code></a></p>
<p>an <a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxyInstance" title="sqlalchemy.ext.associationproxy.AssociationProxyInstance"><code class="xref py py-class docutils literal notranslate"><span class="pre">AssociationProxyInstance</span></code></a> that has a database column as a
target.</p>
<dl class="py method">
<dt id="sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.__le__">
<em class="property">method </em><a class="reference internal" href="#sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.</span></code></a><code class="sig-name descname">__le__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">other</span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.__le__" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.operators.ColumnOperators.__le__</span></code> <em>method of</em> <a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators" title="sqlalchemy.sql.operators.ColumnOperators"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnOperators</span></code></a></p>
</div>
<p>Implement the <code class="docutils literal notranslate"><span class="pre">&lt;=</span></code> operator.</p>
<p>In a column context, produces the clause <code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">&lt;=</span> <span class="pre">b</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt id="sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.__lt__">
<em class="property">method </em><a class="reference internal" href="#sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.</span></code></a><code class="sig-name descname">__lt__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">other</span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.__lt__" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.operators.ColumnOperators.__lt__</span></code> <em>method of</em> <a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators" title="sqlalchemy.sql.operators.ColumnOperators"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnOperators</span></code></a></p>
</div>
<p>Implement the <code class="docutils literal notranslate"><span class="pre">&lt;</span></code> operator.</p>
<p>In a column context, produces the clause <code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">&lt;</span> <span class="pre">b</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt id="sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.__ne__">
<em class="property">method </em><a class="reference internal" href="#sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.</span></code></a><code class="sig-name descname">__ne__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">other</span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.__ne__" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.operators.ColumnOperators.__ne__</span></code> <em>method of</em> <a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators" title="sqlalchemy.sql.operators.ColumnOperators"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnOperators</span></code></a></p>
</div>
<p>Implement the <code class="docutils literal notranslate"><span class="pre">!=</span></code> operator.</p>
<p>In a column context, produces the clause <code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">!=</span> <span class="pre">b</span></code>.
If the target is <code class="docutils literal notranslate"><span class="pre">None</span></code>, produces <code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">IS</span> <span class="pre">NOT</span> <span class="pre">NULL</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt id="sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.all_">
<em class="property">method </em><a class="reference internal" href="#sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.</span></code></a><code class="sig-name descname">all_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.all_" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators.all_" title="sqlalchemy.sql.operators.ColumnOperators.all_"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ColumnOperators.all_()</span></code></a> <em>method of</em> <a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators" title="sqlalchemy.sql.operators.ColumnOperators"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnOperators</span></code></a></p>
</div>
<p>Produce a <a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.expression.all_" title="sqlalchemy.sql.expression.all_"><code class="xref py py-func docutils literal notranslate"><span class="pre">all_()</span></code></a> clause against the
parent object.</p>
<p>This operator is only appropriate against a scalar subquery
object, or for some backends an column expression that is
against the ARRAY type, e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># postgresql &#39;5 = ALL (somearray)&#39;</span>
<span class="n">expr</span> <span class="o">=</span> <span class="mi">5</span> <span class="o">==</span> <span class="n">mytable</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">somearray</span><span class="o">.</span><span class="n">all_</span><span class="p">()</span>

<span class="c1"># mysql &#39;5 = ALL (SELECT value FROM table)&#39;</span>
<span class="n">expr</span> <span class="o">=</span> <span class="mi">5</span> <span class="o">==</span> <span class="n">select</span><span class="p">([</span><span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">value</span><span class="p">])</span><span class="o">.</span><span class="n">as_scalar</span><span class="p">()</span><span class="o">.</span><span class="n">all_</span><span class="p">()</span></pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.expression.all_" title="sqlalchemy.sql.expression.all_"><code class="xref py py-func docutils literal notranslate"><span class="pre">all_()</span></code></a> - standalone version</p>
<p><a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.expression.any_" title="sqlalchemy.sql.expression.any_"><code class="xref py py-func docutils literal notranslate"><span class="pre">any_()</span></code></a> - ANY operator</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.1.</span></p>
</div>
</dd></dl>

<dl class="py method">
<dt id="sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.any">
<em class="property">method </em><a class="reference internal" href="#sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.</span></code></a><code class="sig-name descname">any</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">criterion</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.any" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxyInstance.any" title="sqlalchemy.ext.associationproxy.AssociationProxyInstance.any"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AssociationProxyInstance.any()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxyInstance" title="sqlalchemy.ext.associationproxy.AssociationProxyInstance"><code class="xref py py-class docutils literal notranslate"><span class="pre">AssociationProxyInstance</span></code></a></p>
</div>
<p>Produce a proxied ‘any’ expression using EXISTS.</p>
<p>This expression will be a composed product
using the <a class="reference internal" href="../internals.html#sqlalchemy.orm.RelationshipProperty.Comparator.any" title="sqlalchemy.orm.RelationshipProperty.Comparator.any"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Comparator.any()</span></code></a>
and/or <a class="reference internal" href="../internals.html#sqlalchemy.orm.RelationshipProperty.Comparator.has" title="sqlalchemy.orm.RelationshipProperty.Comparator.has"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Comparator.has()</span></code></a>
operators of the underlying proxied attributes.</p>
</dd></dl>

<dl class="py method">
<dt id="sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.any_">
<em class="property">method </em><a class="reference internal" href="#sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.</span></code></a><code class="sig-name descname">any_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.any_" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators.any_" title="sqlalchemy.sql.operators.ColumnOperators.any_"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ColumnOperators.any_()</span></code></a> <em>method of</em> <a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators" title="sqlalchemy.sql.operators.ColumnOperators"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnOperators</span></code></a></p>
</div>
<p>Produce a <a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.expression.any_" title="sqlalchemy.sql.expression.any_"><code class="xref py py-func docutils literal notranslate"><span class="pre">any_()</span></code></a> clause against the
parent object.</p>
<p>This operator is only appropriate against a scalar subquery
object, or for some backends an column expression that is
against the ARRAY type, e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># postgresql &#39;5 = ANY (somearray)&#39;</span>
<span class="n">expr</span> <span class="o">=</span> <span class="mi">5</span> <span class="o">==</span> <span class="n">mytable</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">somearray</span><span class="o">.</span><span class="n">any_</span><span class="p">()</span>

<span class="c1"># mysql &#39;5 = ANY (SELECT value FROM table)&#39;</span>
<span class="n">expr</span> <span class="o">=</span> <span class="mi">5</span> <span class="o">==</span> <span class="n">select</span><span class="p">([</span><span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">value</span><span class="p">])</span><span class="o">.</span><span class="n">as_scalar</span><span class="p">()</span><span class="o">.</span><span class="n">any_</span><span class="p">()</span></pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.expression.any_" title="sqlalchemy.sql.expression.any_"><code class="xref py py-func docutils literal notranslate"><span class="pre">any_()</span></code></a> - standalone version</p>
<p><a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.expression.all_" title="sqlalchemy.sql.expression.all_"><code class="xref py py-func docutils literal notranslate"><span class="pre">all_()</span></code></a> - ALL operator</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.1.</span></p>
</div>
</dd></dl>

<dl class="py method">
<dt id="sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.asc">
<em class="property">method </em><a class="reference internal" href="#sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.</span></code></a><code class="sig-name descname">asc</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.asc" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators.asc" title="sqlalchemy.sql.operators.ColumnOperators.asc"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ColumnOperators.asc()</span></code></a> <em>method of</em> <a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators" title="sqlalchemy.sql.operators.ColumnOperators"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnOperators</span></code></a></p>
</div>
<p>Produce a <a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.expression.asc" title="sqlalchemy.sql.expression.asc"><code class="xref py py-func docutils literal notranslate"><span class="pre">asc()</span></code></a> clause against the
parent object.</p>
</dd></dl>

<dl class="py attribute">
<dt id="sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.attr">
<em class="property">attribute </em><a class="reference internal" href="#sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.</span></code></a><code class="sig-name descname">attr</code><a class="headerlink" href="#sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.attr" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxyInstance.attr" title="sqlalchemy.ext.associationproxy.AssociationProxyInstance.attr"><code class="xref py py-attr docutils literal notranslate"><span class="pre">AssociationProxyInstance.attr</span></code></a> <em>attribute of</em> <a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxyInstance" title="sqlalchemy.ext.associationproxy.AssociationProxyInstance"><code class="xref py py-class docutils literal notranslate"><span class="pre">AssociationProxyInstance</span></code></a></p>
</div>
<p>Return a tuple of <code class="docutils literal notranslate"><span class="pre">(local_attr,</span> <span class="pre">remote_attr)</span></code>.</p>
<p>This attribute is convenient when specifying a join
using <a class="reference internal" href="../query.html#sqlalchemy.orm.query.Query.join" title="sqlalchemy.orm.query.Query.join"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Query.join()</span></code></a> across two relationships:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sess</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">Parent</span><span class="p">)</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="o">*</span><span class="n">Parent</span><span class="o">.</span><span class="n">proxied</span><span class="o">.</span><span class="n">attr</span><span class="p">)</span></pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxyInstance.local_attr" title="sqlalchemy.ext.associationproxy.AssociationProxyInstance.local_attr"><code class="xref py py-attr docutils literal notranslate"><span class="pre">AssociationProxyInstance.local_attr</span></code></a></p>
<p><a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxyInstance.remote_attr" title="sqlalchemy.ext.associationproxy.AssociationProxyInstance.remote_attr"><code class="xref py py-attr docutils literal notranslate"><span class="pre">AssociationProxyInstance.remote_attr</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt id="sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.between">
<em class="property">method </em><a class="reference internal" href="#sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.</span></code></a><code class="sig-name descname">between</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cleft</span></em>, <em class="sig-param"><span class="n">cright</span></em>, <em class="sig-param"><span class="n">symmetric</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.between" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators.between" title="sqlalchemy.sql.operators.ColumnOperators.between"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ColumnOperators.between()</span></code></a> <em>method of</em> <a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators" title="sqlalchemy.sql.operators.ColumnOperators"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnOperators</span></code></a></p>
</div>
<p>Produce a <a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.expression.between" title="sqlalchemy.sql.expression.between"><code class="xref py py-func docutils literal notranslate"><span class="pre">between()</span></code></a> clause against
the parent object, given the lower and upper range.</p>
</dd></dl>

<dl class="py method">
<dt id="sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.bool_op">
<em class="property">method </em><a class="reference internal" href="#sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.</span></code></a><code class="sig-name descname">bool_op</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">opstring</span></em>, <em class="sig-param"><span class="n">precedence</span><span class="o">=</span><span class="default_value">0</span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.bool_op" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.Operators.bool_op" title="sqlalchemy.sql.operators.Operators.bool_op"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Operators.bool_op()</span></code></a> <em>method of</em> <a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.Operators" title="sqlalchemy.sql.operators.Operators"><code class="xref py py-class docutils literal notranslate"><span class="pre">Operators</span></code></a></p>
</div>
<p>Return a custom boolean operator.</p>
<p>This method is shorthand for calling
<a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.Operators.op" title="sqlalchemy.sql.operators.Operators.op"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Operators.op()</span></code></a> and passing the
<a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.Operators.op.params.is_comparison" title="sqlalchemy.sql.operators.Operators.op"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">Operators.op.is_comparison</span></code></a>
flag with True.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.2.0b3.</span></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.Operators.op" title="sqlalchemy.sql.operators.Operators.op"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Operators.op()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt id="sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.collate">
<em class="property">method </em><a class="reference internal" href="#sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.</span></code></a><code class="sig-name descname">collate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">collation</span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.collate" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators.collate" title="sqlalchemy.sql.operators.ColumnOperators.collate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ColumnOperators.collate()</span></code></a> <em>method of</em> <a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators" title="sqlalchemy.sql.operators.ColumnOperators"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnOperators</span></code></a></p>
</div>
<p>Produce a <a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.expression.collate" title="sqlalchemy.sql.expression.collate"><code class="xref py py-func docutils literal notranslate"><span class="pre">collate()</span></code></a> clause against
the parent object, given the collation string.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.expression.collate" title="sqlalchemy.sql.expression.collate"><code class="xref py py-func docutils literal notranslate"><span class="pre">collate()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt id="sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.concat">
<em class="property">method </em><a class="reference internal" href="#sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.</span></code></a><code class="sig-name descname">concat</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">other</span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.concat" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators.concat" title="sqlalchemy.sql.operators.ColumnOperators.concat"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ColumnOperators.concat()</span></code></a> <em>method of</em> <a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators" title="sqlalchemy.sql.operators.ColumnOperators"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnOperators</span></code></a></p>
</div>
<p>Implement the ‘concat’ operator.</p>
<p>In a column context, produces the clause <code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">||</span> <span class="pre">b</span></code>,
or uses the <code class="docutils literal notranslate"><span class="pre">concat()</span></code> operator on MySQL.</p>
</dd></dl>

<dl class="py method">
<dt id="sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.contains">
<em class="property">method </em><a class="reference internal" href="#sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.</span></code></a><code class="sig-name descname">contains</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">other</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.contains" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators.contains" title="sqlalchemy.sql.operators.ColumnOperators.contains"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ColumnOperators.contains()</span></code></a> <em>method of</em> <a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators" title="sqlalchemy.sql.operators.ColumnOperators"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnOperators</span></code></a></p>
</div>
<p>Implement the ‘contains’ operator.</p>
<p>Produces a LIKE expression that tests against a match for the middle
of a string value:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">column</span> <span class="n">LIKE</span> <span class="s1">&#39;%&#39;</span> <span class="o">||</span> <span class="o">&lt;</span><span class="n">other</span><span class="o">&gt;</span> <span class="o">||</span> <span class="s1">&#39;%&#39;</span></pre></div>
</div>
<p>E.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">stmt</span> <span class="o">=</span> <span class="n">select</span><span class="p">([</span><span class="n">sometable</span><span class="p">])</span><span class="o">.</span>\
    <span class="n">where</span><span class="p">(</span><span class="n">sometable</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">column</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="s2">&quot;foobar&quot;</span><span class="p">))</span></pre></div>
</div>
<p>Since the operator uses <code class="docutils literal notranslate"><span class="pre">LIKE</span></code>, wildcard characters
<code class="docutils literal notranslate"><span class="pre">&quot;%&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;_&quot;</span></code> that are present inside the &lt;other&gt; expression
will behave like wildcards as well.   For literal string
values, the <a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators.contains.params.autoescape" title="sqlalchemy.sql.operators.ColumnOperators.contains"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">ColumnOperators.contains.autoescape</span></code></a> flag
may be set to <code class="docutils literal notranslate"><span class="pre">True</span></code> to apply escaping to occurrences of these
characters within the string value so that they match as themselves
and not as wildcard characters.  Alternatively, the
<a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators.contains.params.escape" title="sqlalchemy.sql.operators.ColumnOperators.contains"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">ColumnOperators.contains.escape</span></code></a> parameter will establish
a given character as an escape character which can be of use when
the target expression is not a literal string.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.contains.params.other"></span><strong>other</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.contains.params.other">¶</a> – expression to be compared.   This is usually a plain
string value, but can also be an arbitrary SQL expression.  LIKE
wildcard characters <code class="docutils literal notranslate"><span class="pre">%</span></code> and <code class="docutils literal notranslate"><span class="pre">_</span></code> are not escaped by default unless
the <a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators.contains.params.autoescape" title="sqlalchemy.sql.operators.ColumnOperators.contains"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">ColumnOperators.contains.autoescape</span></code></a> flag is
set to True.</p></li>
<li><p><span class="target" id="sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.contains.params.autoescape"></span><strong>autoescape</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.contains.params.autoescape">¶</a> – <p>boolean; when True, establishes an escape character
within the LIKE expression, then applies it to all occurrences of
<code class="docutils literal notranslate"><span class="pre">&quot;%&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;_&quot;</span></code> and the escape character itself within the
comparison value, which is assumed to be a literal string and not a
SQL expression.</p>
<p>An expression such as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">somecolumn</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="s2">&quot;foo%bar&quot;</span><span class="p">,</span> <span class="n">autoescape</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></pre></div>
</div>
<p>Will render as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">somecolumn</span> <span class="n">LIKE</span> <span class="s1">&#39;%&#39;</span> <span class="o">||</span> <span class="p">:</span><span class="n">param</span> <span class="o">||</span> <span class="s1">&#39;%&#39;</span> <span class="n">ESCAPE</span> <span class="s1">&#39;/&#39;</span></pre></div>
</div>
<p>With the value of :param as <code class="docutils literal notranslate"><span class="pre">&quot;foo/%bar&quot;</span></code>.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.2.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 1.2.0: </span>The
<a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators.contains.params.autoescape" title="sqlalchemy.sql.operators.ColumnOperators.contains"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">ColumnOperators.contains.autoescape</span></code></a> parameter is
 now a simple boolean rather than a character; the escape
 character itself is also escaped, and defaults to a forwards
 slash, which itself can be customized using the
 <a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators.contains.params.escape" title="sqlalchemy.sql.operators.ColumnOperators.contains"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">ColumnOperators.contains.escape</span></code></a> parameter.</p>
</div>
</p></li>
<li><p><span class="target" id="sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.contains.params.escape"></span><strong>escape</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.contains.params.escape">¶</a> – <p>a character which when given will render with the
<code class="docutils literal notranslate"><span class="pre">ESCAPE</span></code> keyword to establish that character as the escape
character.  This character can then be placed preceding occurrences
of <code class="docutils literal notranslate"><span class="pre">%</span></code> and <code class="docutils literal notranslate"><span class="pre">_</span></code> to allow them to act as themselves and not
wildcard characters.</p>
<p>An expression such as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">somecolumn</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="s2">&quot;foo/%bar&quot;</span><span class="p">,</span> <span class="n">escape</span><span class="o">=</span><span class="s2">&quot;^&quot;</span><span class="p">)</span></pre></div>
</div>
<p>Will render as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">somecolumn</span> <span class="n">LIKE</span> <span class="s1">&#39;%&#39;</span> <span class="o">||</span> <span class="p">:</span><span class="n">param</span> <span class="o">||</span> <span class="s1">&#39;%&#39;</span> <span class="n">ESCAPE</span> <span class="s1">&#39;^&#39;</span></pre></div>
</div>
<p>The parameter may also be combined with
<a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators.contains.params.autoescape" title="sqlalchemy.sql.operators.ColumnOperators.contains"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">ColumnOperators.contains.autoescape</span></code></a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">somecolumn</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="s2">&quot;foo%bar^bat&quot;</span><span class="p">,</span> <span class="n">escape</span><span class="o">=</span><span class="s2">&quot;^&quot;</span><span class="p">,</span> <span class="n">autoescape</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></pre></div>
</div>
<p>Where above, the given literal parameter will be converted to
<code class="docutils literal notranslate"><span class="pre">&quot;foo^%bar^^bat&quot;</span></code> before being passed to the database.</p>
</p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators.startswith" title="sqlalchemy.sql.operators.ColumnOperators.startswith"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ColumnOperators.startswith()</span></code></a></p>
<p><a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators.endswith" title="sqlalchemy.sql.operators.ColumnOperators.endswith"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ColumnOperators.endswith()</span></code></a></p>
<p><a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators.like" title="sqlalchemy.sql.operators.ColumnOperators.like"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ColumnOperators.like()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt id="sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.desc">
<em class="property">method </em><a class="reference internal" href="#sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.</span></code></a><code class="sig-name descname">desc</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.desc" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators.desc" title="sqlalchemy.sql.operators.ColumnOperators.desc"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ColumnOperators.desc()</span></code></a> <em>method of</em> <a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators" title="sqlalchemy.sql.operators.ColumnOperators"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnOperators</span></code></a></p>
</div>
<p>Produce a <a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.expression.desc" title="sqlalchemy.sql.expression.desc"><code class="xref py py-func docutils literal notranslate"><span class="pre">desc()</span></code></a> clause against the
parent object.</p>
</dd></dl>

<dl class="py method">
<dt id="sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.distinct">
<em class="property">method </em><a class="reference internal" href="#sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.</span></code></a><code class="sig-name descname">distinct</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.distinct" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators.distinct" title="sqlalchemy.sql.operators.ColumnOperators.distinct"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ColumnOperators.distinct()</span></code></a> <em>method of</em> <a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators" title="sqlalchemy.sql.operators.ColumnOperators"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnOperators</span></code></a></p>
</div>
<p>Produce a <a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.expression.distinct" title="sqlalchemy.sql.expression.distinct"><code class="xref py py-func docutils literal notranslate"><span class="pre">distinct()</span></code></a> clause against the
parent object.</p>
</dd></dl>

<dl class="py method">
<dt id="sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.endswith">
<em class="property">method </em><a class="reference internal" href="#sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.</span></code></a><code class="sig-name descname">endswith</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">other</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.endswith" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators.endswith" title="sqlalchemy.sql.operators.ColumnOperators.endswith"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ColumnOperators.endswith()</span></code></a> <em>method of</em> <a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators" title="sqlalchemy.sql.operators.ColumnOperators"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnOperators</span></code></a></p>
</div>
<p>Implement the ‘endswith’ operator.</p>
<p>Produces a LIKE expression that tests against a match for the end
of a string value:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">column</span> <span class="n">LIKE</span> <span class="s1">&#39;%&#39;</span> <span class="o">||</span> <span class="o">&lt;</span><span class="n">other</span><span class="o">&gt;</span></pre></div>
</div>
<p>E.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">stmt</span> <span class="o">=</span> <span class="n">select</span><span class="p">([</span><span class="n">sometable</span><span class="p">])</span><span class="o">.</span>\
    <span class="n">where</span><span class="p">(</span><span class="n">sometable</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">column</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;foobar&quot;</span><span class="p">))</span></pre></div>
</div>
<p>Since the operator uses <code class="docutils literal notranslate"><span class="pre">LIKE</span></code>, wildcard characters
<code class="docutils literal notranslate"><span class="pre">&quot;%&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;_&quot;</span></code> that are present inside the &lt;other&gt; expression
will behave like wildcards as well.   For literal string
values, the <a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators.endswith.params.autoescape" title="sqlalchemy.sql.operators.ColumnOperators.endswith"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">ColumnOperators.endswith.autoescape</span></code></a> flag
may be set to <code class="docutils literal notranslate"><span class="pre">True</span></code> to apply escaping to occurrences of these
characters within the string value so that they match as themselves
and not as wildcard characters.  Alternatively, the
<a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators.endswith.params.escape" title="sqlalchemy.sql.operators.ColumnOperators.endswith"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">ColumnOperators.endswith.escape</span></code></a> parameter will establish
a given character as an escape character which can be of use when
the target expression is not a literal string.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.endswith.params.other"></span><strong>other</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.endswith.params.other">¶</a> – expression to be compared.   This is usually a plain
string value, but can also be an arbitrary SQL expression.  LIKE
wildcard characters <code class="docutils literal notranslate"><span class="pre">%</span></code> and <code class="docutils literal notranslate"><span class="pre">_</span></code> are not escaped by default unless
the <a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators.endswith.params.autoescape" title="sqlalchemy.sql.operators.ColumnOperators.endswith"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">ColumnOperators.endswith.autoescape</span></code></a> flag is
set to True.</p></li>
<li><p><span class="target" id="sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.endswith.params.autoescape"></span><strong>autoescape</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.endswith.params.autoescape">¶</a> – <p>boolean; when True, establishes an escape character
within the LIKE expression, then applies it to all occurrences of
<code class="docutils literal notranslate"><span class="pre">&quot;%&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;_&quot;</span></code> and the escape character itself within the
comparison value, which is assumed to be a literal string and not a
SQL expression.</p>
<p>An expression such as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">somecolumn</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;foo%bar&quot;</span><span class="p">,</span> <span class="n">autoescape</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></pre></div>
</div>
<p>Will render as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">somecolumn</span> <span class="n">LIKE</span> <span class="s1">&#39;%&#39;</span> <span class="o">||</span> <span class="p">:</span><span class="n">param</span> <span class="n">ESCAPE</span> <span class="s1">&#39;/&#39;</span></pre></div>
</div>
<p>With the value of :param as <code class="docutils literal notranslate"><span class="pre">&quot;foo/%bar&quot;</span></code>.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.2.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 1.2.0: </span>The
<a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators.endswith.params.autoescape" title="sqlalchemy.sql.operators.ColumnOperators.endswith"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">ColumnOperators.endswith.autoescape</span></code></a> parameter is
 now a simple boolean rather than a character; the escape
 character itself is also escaped, and defaults to a forwards
 slash, which itself can be customized using the
 <a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators.endswith.params.escape" title="sqlalchemy.sql.operators.ColumnOperators.endswith"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">ColumnOperators.endswith.escape</span></code></a> parameter.</p>
</div>
</p></li>
<li><p><span class="target" id="sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.endswith.params.escape"></span><strong>escape</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.endswith.params.escape">¶</a> – <p>a character which when given will render with the
<code class="docutils literal notranslate"><span class="pre">ESCAPE</span></code> keyword to establish that character as the escape
character.  This character can then be placed preceding occurrences
of <code class="docutils literal notranslate"><span class="pre">%</span></code> and <code class="docutils literal notranslate"><span class="pre">_</span></code> to allow them to act as themselves and not
wildcard characters.</p>
<p>An expression such as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">somecolumn</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;foo/%bar&quot;</span><span class="p">,</span> <span class="n">escape</span><span class="o">=</span><span class="s2">&quot;^&quot;</span><span class="p">)</span></pre></div>
</div>
<p>Will render as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">somecolumn</span> <span class="n">LIKE</span> <span class="s1">&#39;%&#39;</span> <span class="o">||</span> <span class="p">:</span><span class="n">param</span> <span class="n">ESCAPE</span> <span class="s1">&#39;^&#39;</span></pre></div>
</div>
<p>The parameter may also be combined with
<a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators.endswith.params.autoescape" title="sqlalchemy.sql.operators.ColumnOperators.endswith"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">ColumnOperators.endswith.autoescape</span></code></a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">somecolumn</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;foo%bar^bat&quot;</span><span class="p">,</span> <span class="n">escape</span><span class="o">=</span><span class="s2">&quot;^&quot;</span><span class="p">,</span> <span class="n">autoescape</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></pre></div>
</div>
<p>Where above, the given literal parameter will be converted to
<code class="docutils literal notranslate"><span class="pre">&quot;foo^%bar^^bat&quot;</span></code> before being passed to the database.</p>
</p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators.startswith" title="sqlalchemy.sql.operators.ColumnOperators.startswith"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ColumnOperators.startswith()</span></code></a></p>
<p><a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators.contains" title="sqlalchemy.sql.operators.ColumnOperators.contains"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ColumnOperators.contains()</span></code></a></p>
<p><a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators.like" title="sqlalchemy.sql.operators.ColumnOperators.like"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ColumnOperators.like()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt id="sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.has">
<em class="property">method </em><a class="reference internal" href="#sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.</span></code></a><code class="sig-name descname">has</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">criterion</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.has" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxyInstance.has" title="sqlalchemy.ext.associationproxy.AssociationProxyInstance.has"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AssociationProxyInstance.has()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxyInstance" title="sqlalchemy.ext.associationproxy.AssociationProxyInstance"><code class="xref py py-class docutils literal notranslate"><span class="pre">AssociationProxyInstance</span></code></a></p>
</div>
<p>Produce a proxied ‘has’ expression using EXISTS.</p>
<p>This expression will be a composed product
using the <a class="reference internal" href="../internals.html#sqlalchemy.orm.RelationshipProperty.Comparator.any" title="sqlalchemy.orm.RelationshipProperty.Comparator.any"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Comparator.any()</span></code></a>
and/or <a class="reference internal" href="../internals.html#sqlalchemy.orm.RelationshipProperty.Comparator.has" title="sqlalchemy.orm.RelationshipProperty.Comparator.has"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Comparator.has()</span></code></a>
operators of the underlying proxied attributes.</p>
</dd></dl>

<dl class="py method">
<dt id="sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.ilike">
<em class="property">method </em><a class="reference internal" href="#sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.</span></code></a><code class="sig-name descname">ilike</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">other</span></em>, <em class="sig-param"><span class="n">escape</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.ilike" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators.ilike" title="sqlalchemy.sql.operators.ColumnOperators.ilike"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ColumnOperators.ilike()</span></code></a> <em>method of</em> <a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators" title="sqlalchemy.sql.operators.ColumnOperators"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnOperators</span></code></a></p>
</div>
<p>Implement the <code class="docutils literal notranslate"><span class="pre">ilike</span></code> operator, e.g. case insensitive LIKE.</p>
<p>In a column context, produces an expression either of the form:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">lower</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="n">LIKE</span> <span class="n">lower</span><span class="p">(</span><span class="n">other</span><span class="p">)</span></pre></div>
</div>
<p>Or on backends that support the ILIKE operator:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="n">ILIKE</span> <span class="n">other</span></pre></div>
</div>
<p>E.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">stmt</span> <span class="o">=</span> <span class="n">select</span><span class="p">([</span><span class="n">sometable</span><span class="p">])</span><span class="o">.</span>\
    <span class="n">where</span><span class="p">(</span><span class="n">sometable</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">column</span><span class="o">.</span><span class="n">ilike</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%f</span><span class="s2">oobar%&quot;</span><span class="p">))</span></pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.ilike.params.other"></span><strong>other</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.ilike.params.other">¶</a> – expression to be compared</p></li>
<li><p><span class="target" id="sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.ilike.params.escape"></span><strong>escape</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.ilike.params.escape">¶</a> – <p>optional escape character, renders the <code class="docutils literal notranslate"><span class="pre">ESCAPE</span></code>
keyword, e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">somecolumn</span><span class="o">.</span><span class="n">ilike</span><span class="p">(</span><span class="s2">&quot;foo/%bar&quot;</span><span class="p">,</span> <span class="n">escape</span><span class="o">=</span><span class="s2">&quot;/&quot;</span><span class="p">)</span></pre></div>
</div>
</p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators.like" title="sqlalchemy.sql.operators.ColumnOperators.like"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ColumnOperators.like()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt id="sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.in_">
<em class="property">method </em><a class="reference internal" href="#sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.</span></code></a><code class="sig-name descname">in_</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">other</span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.in_" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators.in_" title="sqlalchemy.sql.operators.ColumnOperators.in_"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ColumnOperators.in_()</span></code></a> <em>method of</em> <a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators" title="sqlalchemy.sql.operators.ColumnOperators"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnOperators</span></code></a></p>
</div>
<p>Implement the <code class="docutils literal notranslate"><span class="pre">in</span></code> operator.</p>
<p>In a column context, produces the clause <code class="docutils literal notranslate"><span class="pre">column</span> <span class="pre">IN</span> <span class="pre">&lt;other&gt;</span></code>.</p>
<p>The given parameter <code class="docutils literal notranslate"><span class="pre">other</span></code> may be:</p>
<ul>
<li><p>A list of literal values, e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">stmt</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">column</span><span class="o">.</span><span class="n">in_</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]))</span></pre></div>
</div>
<p>In this calling form, the list of items is converted to a set of
bound parameters the same length as the list given:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>WHERE COL IN (?, ?, ?)</pre></div>
</div>
</li>
<li><p>A list of tuples may be provided if the comparison is against a
<a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.expression.tuple_" title="sqlalchemy.sql.expression.tuple_"><code class="xref py py-func docutils literal notranslate"><span class="pre">tuple_()</span></code></a> containing multiple expressions:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="k">import</span> <span class="n">tuple_</span>
<span class="n">stmt</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">tuple_</span><span class="p">(</span><span class="n">col1</span><span class="p">,</span> <span class="n">col2</span><span class="p">)</span><span class="o">.</span><span class="n">in_</span><span class="p">([(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">20</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">30</span><span class="p">)]))</span></pre></div>
</div>
</li>
<li><p>An empty list, e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">stmt</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">column</span><span class="o">.</span><span class="n">in_</span><span class="p">([]))</span></pre></div>
</div>
<p>In this calling form, the expression renders a “false” expression,
e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">WHERE</span> <span class="mi">1</span> <span class="o">!=</span> <span class="mi">1</span></pre></div>
</div>
<p>This “false” expression has historically had different behaviors
in older SQLAlchemy versions, see
<a class="reference internal" href="../../core/engines.html#sqlalchemy.create_engine.params.empty_in_strategy" title="sqlalchemy.create_engine"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">create_engine.empty_in_strategy</span></code></a>
for behavioral options.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 1.2: </span>simplified the behavior of “empty in”
expressions</p>
</div>
</li>
<li><p>A bound parameter, e.g. <a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.expression.bindparam" title="sqlalchemy.sql.expression.bindparam"><code class="xref py py-func docutils literal notranslate"><span class="pre">bindparam()</span></code></a>, may be used if it
includes the <a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.expression.bindparam.params.expanding" title="sqlalchemy.sql.expression.bindparam"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">bindparam.expanding</span></code></a> flag:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">stmt</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">column</span><span class="o">.</span><span class="n">in_</span><span class="p">(</span><span class="n">bindparam</span><span class="p">(</span><span class="s1">&#39;value&#39;</span><span class="p">,</span> <span class="n">expanding</span><span class="o">=</span><span class="kc">True</span><span class="p">)))</span></pre></div>
</div>
<p>In this calling form, the expression renders a special non-SQL
placeholder expression that looks like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">WHERE</span> <span class="n">COL</span> <span class="n">IN</span> <span class="p">([</span><span class="n">EXPANDING_value</span><span class="p">])</span></pre></div>
</div>
<p>This placeholder expression is intercepted at statement execution
time to be converted into the variable number of bound parameter
form illustrated earlier.   If the statement were executed as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">connection</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">stmt</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]})</span></pre></div>
</div>
<p>The database would be passed a bound parameter for each value:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>WHERE COL IN (?, ?, ?)</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.2: </span>added “expanding” bound parameters</p>
</div>
<p>If an empty list is passed, a special “empty list” expression,
which is specific to the database in use, is rendered.  On
SQLite this would be:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">WHERE</span> <span class="n">COL</span> <span class="n">IN</span> <span class="p">(</span><span class="n">SELECT</span> <span class="mi">1</span> <span class="n">FROM</span> <span class="p">(</span><span class="n">SELECT</span> <span class="mi">1</span><span class="p">)</span> <span class="n">WHERE</span> <span class="mi">1</span><span class="o">!=</span><span class="mi">1</span><span class="p">)</span></pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.3: </span>“expanding” bound parameters now support
empty lists</p>
</div>
</li>
<li><p>a <a class="reference internal" href="../../core/selectable.html#sqlalchemy.sql.expression.select" title="sqlalchemy.sql.expression.select"><code class="xref py py-func docutils literal notranslate"><span class="pre">select()</span></code></a> construct,
which is usually a correlated
scalar select:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">stmt</span><span class="o">.</span><span class="n">where</span><span class="p">(</span>
    <span class="n">column</span><span class="o">.</span><span class="n">in_</span><span class="p">(</span>
        <span class="n">select</span><span class="p">([</span><span class="n">othertable</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">y</span><span class="p">])</span><span class="o">.</span>
        <span class="n">where</span><span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">x</span> <span class="o">==</span> <span class="n">othertable</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">x</span><span class="p">)</span>
    <span class="p">)</span>
<span class="p">)</span></pre></div>
</div>
<p>In this calling form, <a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators.in_" title="sqlalchemy.sql.operators.ColumnOperators.in_"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ColumnOperators.in_()</span></code></a> renders as given:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">WHERE</span> <span class="n">COL</span> <span class="n">IN</span> <span class="p">(</span><span class="n">SELECT</span> <span class="n">othertable</span><span class="o">.</span><span class="n">y</span>
<span class="n">FROM</span> <span class="n">othertable</span> <span class="n">WHERE</span> <span class="n">othertable</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">x</span><span class="p">)</span></pre></div>
</div>
</li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><span class="target" id="sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.in_.params.other"></span><strong>other</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.in_.params.other">¶</a> – a list of literals, a <a class="reference internal" href="../../core/selectable.html#sqlalchemy.sql.expression.select" title="sqlalchemy.sql.expression.select"><code class="xref py py-func docutils literal notranslate"><span class="pre">select()</span></code></a>
construct,
or a <a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.expression.bindparam" title="sqlalchemy.sql.expression.bindparam"><code class="xref py py-func docutils literal notranslate"><span class="pre">bindparam()</span></code></a> construct that includes the
<a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.expression.bindparam.params.expanding" title="sqlalchemy.sql.expression.bindparam"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">bindparam.expanding</span></code></a> flag set to True.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.is_">
<em class="property">method </em><a class="reference internal" href="#sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.</span></code></a><code class="sig-name descname">is_</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">other</span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.is_" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators.is_" title="sqlalchemy.sql.operators.ColumnOperators.is_"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ColumnOperators.is_()</span></code></a> <em>method of</em> <a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators" title="sqlalchemy.sql.operators.ColumnOperators"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnOperators</span></code></a></p>
</div>
<p>Implement the <code class="docutils literal notranslate"><span class="pre">IS</span></code> operator.</p>
<p>Normally, <code class="docutils literal notranslate"><span class="pre">IS</span></code> is generated automatically when comparing to a
value of <code class="docutils literal notranslate"><span class="pre">None</span></code>, which resolves to <code class="docutils literal notranslate"><span class="pre">NULL</span></code>.  However, explicit
usage of <code class="docutils literal notranslate"><span class="pre">IS</span></code> may be desirable if comparing to boolean values
on certain platforms.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators.isnot" title="sqlalchemy.sql.operators.ColumnOperators.isnot"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ColumnOperators.isnot()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt id="sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.is_distinct_from">
<em class="property">method </em><a class="reference internal" href="#sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.</span></code></a><code class="sig-name descname">is_distinct_from</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">other</span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.is_distinct_from" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators.is_distinct_from" title="sqlalchemy.sql.operators.ColumnOperators.is_distinct_from"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ColumnOperators.is_distinct_from()</span></code></a> <em>method of</em> <a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators" title="sqlalchemy.sql.operators.ColumnOperators"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnOperators</span></code></a></p>
</div>
<p>Implement the <code class="docutils literal notranslate"><span class="pre">IS</span> <span class="pre">DISTINCT</span> <span class="pre">FROM</span></code> operator.</p>
<p>Renders “a IS DISTINCT FROM b” on most platforms;
on some such as SQLite may render “a IS NOT b”.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.1.</span></p>
</div>
</dd></dl>

<dl class="py method">
<dt id="sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.isnot">
<em class="property">method </em><a class="reference internal" href="#sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.</span></code></a><code class="sig-name descname">isnot</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">other</span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.isnot" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators.isnot" title="sqlalchemy.sql.operators.ColumnOperators.isnot"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ColumnOperators.isnot()</span></code></a> <em>method of</em> <a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators" title="sqlalchemy.sql.operators.ColumnOperators"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnOperators</span></code></a></p>
</div>
<p>Implement the <code class="docutils literal notranslate"><span class="pre">IS</span> <span class="pre">NOT</span></code> operator.</p>
<p>Normally, <code class="docutils literal notranslate"><span class="pre">IS</span> <span class="pre">NOT</span></code> is generated automatically when comparing to a
value of <code class="docutils literal notranslate"><span class="pre">None</span></code>, which resolves to <code class="docutils literal notranslate"><span class="pre">NULL</span></code>.  However, explicit
usage of <code class="docutils literal notranslate"><span class="pre">IS</span> <span class="pre">NOT</span></code> may be desirable if comparing to boolean values
on certain platforms.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators.is_" title="sqlalchemy.sql.operators.ColumnOperators.is_"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ColumnOperators.is_()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt id="sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.isnot_distinct_from">
<em class="property">method </em><a class="reference internal" href="#sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.</span></code></a><code class="sig-name descname">isnot_distinct_from</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">other</span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.isnot_distinct_from" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators.isnot_distinct_from" title="sqlalchemy.sql.operators.ColumnOperators.isnot_distinct_from"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ColumnOperators.isnot_distinct_from()</span></code></a> <em>method of</em> <a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators" title="sqlalchemy.sql.operators.ColumnOperators"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnOperators</span></code></a></p>
</div>
<p>Implement the <code class="docutils literal notranslate"><span class="pre">IS</span> <span class="pre">NOT</span> <span class="pre">DISTINCT</span> <span class="pre">FROM</span></code> operator.</p>
<p>Renders “a IS NOT DISTINCT FROM b” on most platforms;
on some such as SQLite may render “a IS b”.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.1.</span></p>
</div>
</dd></dl>

<dl class="py method">
<dt id="sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.like">
<em class="property">method </em><a class="reference internal" href="#sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.</span></code></a><code class="sig-name descname">like</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">other</span></em>, <em class="sig-param"><span class="n">escape</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.like" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators.like" title="sqlalchemy.sql.operators.ColumnOperators.like"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ColumnOperators.like()</span></code></a> <em>method of</em> <a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators" title="sqlalchemy.sql.operators.ColumnOperators"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnOperators</span></code></a></p>
</div>
<p>Implement the <code class="docutils literal notranslate"><span class="pre">like</span></code> operator.</p>
<p>In a column context, produces the expression:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="n">LIKE</span> <span class="n">other</span></pre></div>
</div>
<p>E.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">stmt</span> <span class="o">=</span> <span class="n">select</span><span class="p">([</span><span class="n">sometable</span><span class="p">])</span><span class="o">.</span>\
    <span class="n">where</span><span class="p">(</span><span class="n">sometable</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">column</span><span class="o">.</span><span class="n">like</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%f</span><span class="s2">oobar%&quot;</span><span class="p">))</span></pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.like.params.other"></span><strong>other</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.like.params.other">¶</a> – expression to be compared</p></li>
<li><p><span class="target" id="sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.like.params.escape"></span><strong>escape</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.like.params.escape">¶</a> – <p>optional escape character, renders the <code class="docutils literal notranslate"><span class="pre">ESCAPE</span></code>
keyword, e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">somecolumn</span><span class="o">.</span><span class="n">like</span><span class="p">(</span><span class="s2">&quot;foo/%bar&quot;</span><span class="p">,</span> <span class="n">escape</span><span class="o">=</span><span class="s2">&quot;/&quot;</span><span class="p">)</span></pre></div>
</div>
</p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators.ilike" title="sqlalchemy.sql.operators.ColumnOperators.ilike"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ColumnOperators.ilike()</span></code></a></p>
</div>
</dd></dl>

<dl class="py attribute">
<dt id="sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.local_attr">
<em class="property">attribute </em><a class="reference internal" href="#sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.</span></code></a><code class="sig-name descname">local_attr</code><a class="headerlink" href="#sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.local_attr" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxyInstance.local_attr" title="sqlalchemy.ext.associationproxy.AssociationProxyInstance.local_attr"><code class="xref py py-attr docutils literal notranslate"><span class="pre">AssociationProxyInstance.local_attr</span></code></a> <em>attribute of</em> <a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxyInstance" title="sqlalchemy.ext.associationproxy.AssociationProxyInstance"><code class="xref py py-class docutils literal notranslate"><span class="pre">AssociationProxyInstance</span></code></a></p>
</div>
<p>The ‘local’ class attribute referenced by this
<a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxyInstance" title="sqlalchemy.ext.associationproxy.AssociationProxyInstance"><code class="xref py py-class docutils literal notranslate"><span class="pre">AssociationProxyInstance</span></code></a>.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxyInstance.attr" title="sqlalchemy.ext.associationproxy.AssociationProxyInstance.attr"><code class="xref py py-attr docutils literal notranslate"><span class="pre">AssociationProxyInstance.attr</span></code></a></p>
<p><a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxyInstance.remote_attr" title="sqlalchemy.ext.associationproxy.AssociationProxyInstance.remote_attr"><code class="xref py py-attr docutils literal notranslate"><span class="pre">AssociationProxyInstance.remote_attr</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt id="sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.match">
<em class="property">method </em><a class="reference internal" href="#sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.</span></code></a><code class="sig-name descname">match</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">other</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.match" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators.match" title="sqlalchemy.sql.operators.ColumnOperators.match"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ColumnOperators.match()</span></code></a> <em>method of</em> <a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators" title="sqlalchemy.sql.operators.ColumnOperators"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnOperators</span></code></a></p>
</div>
<p>Implements a database-specific ‘match’ operator.</p>
<p><a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators.match" title="sqlalchemy.sql.operators.ColumnOperators.match"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ColumnOperators.match()</span></code></a> attempts to resolve to
a MATCH-like function or operator provided by the backend.
Examples include:</p>
<ul class="simple">
<li><p>PostgreSQL - renders <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">&#64;&#64;</span> <span class="pre">to_tsquery(y)</span></code></p></li>
<li><p>MySQL - renders <code class="docutils literal notranslate"><span class="pre">MATCH</span> <span class="pre">(x)</span> <span class="pre">AGAINST</span> <span class="pre">(y</span> <span class="pre">IN</span> <span class="pre">BOOLEAN</span> <span class="pre">MODE)</span></code></p></li>
<li><p>Oracle - renders <code class="docutils literal notranslate"><span class="pre">CONTAINS(x,</span> <span class="pre">y)</span></code></p></li>
<li><p>other backends may provide special implementations.</p></li>
<li><p>Backends without any special implementation will emit
the operator as “MATCH”.  This is compatible with SQLite, for
example.</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.notilike">
<em class="property">method </em><a class="reference internal" href="#sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.</span></code></a><code class="sig-name descname">notilike</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">other</span></em>, <em class="sig-param"><span class="n">escape</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.notilike" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators.notilike" title="sqlalchemy.sql.operators.ColumnOperators.notilike"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ColumnOperators.notilike()</span></code></a> <em>method of</em> <a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators" title="sqlalchemy.sql.operators.ColumnOperators"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnOperators</span></code></a></p>
</div>
<p>implement the <code class="docutils literal notranslate"><span class="pre">NOT</span> <span class="pre">ILIKE</span></code> operator.</p>
<p>This is equivalent to using negation with
<a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators.ilike" title="sqlalchemy.sql.operators.ColumnOperators.ilike"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ColumnOperators.ilike()</span></code></a>, i.e. <code class="docutils literal notranslate"><span class="pre">~x.ilike(y)</span></code>.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators.ilike" title="sqlalchemy.sql.operators.ColumnOperators.ilike"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ColumnOperators.ilike()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt id="sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.notin_">
<em class="property">method </em><a class="reference internal" href="#sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.</span></code></a><code class="sig-name descname">notin_</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">other</span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.notin_" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators.notin_" title="sqlalchemy.sql.operators.ColumnOperators.notin_"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ColumnOperators.notin_()</span></code></a> <em>method of</em> <a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators" title="sqlalchemy.sql.operators.ColumnOperators"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnOperators</span></code></a></p>
</div>
<p>implement the <code class="docutils literal notranslate"><span class="pre">NOT</span> <span class="pre">IN</span></code> operator.</p>
<p>This is equivalent to using negation with
<a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators.in_" title="sqlalchemy.sql.operators.ColumnOperators.in_"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ColumnOperators.in_()</span></code></a>, i.e. <code class="docutils literal notranslate"><span class="pre">~x.in_(y)</span></code>.</p>
<p>In the case that <code class="docutils literal notranslate"><span class="pre">other</span></code> is an empty sequence, the compiler
produces an “empty not in” expression.   This defaults to the
expression “1 = 1” to produce true in all cases.  The
<a class="reference internal" href="../../core/engines.html#sqlalchemy.create_engine.params.empty_in_strategy" title="sqlalchemy.create_engine"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">create_engine.empty_in_strategy</span></code></a> may be used to
alter this behavior.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 1.2: </span>The <a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators.in_" title="sqlalchemy.sql.operators.ColumnOperators.in_"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ColumnOperators.in_()</span></code></a> and
<a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators.notin_" title="sqlalchemy.sql.operators.ColumnOperators.notin_"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ColumnOperators.notin_()</span></code></a> operators
now produce a “static” expression for an empty IN sequence
by default.</p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators.in_" title="sqlalchemy.sql.operators.ColumnOperators.in_"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ColumnOperators.in_()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt id="sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.notlike">
<em class="property">method </em><a class="reference internal" href="#sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.</span></code></a><code class="sig-name descname">notlike</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">other</span></em>, <em class="sig-param"><span class="n">escape</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.notlike" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators.notlike" title="sqlalchemy.sql.operators.ColumnOperators.notlike"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ColumnOperators.notlike()</span></code></a> <em>method of</em> <a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators" title="sqlalchemy.sql.operators.ColumnOperators"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnOperators</span></code></a></p>
</div>
<p>implement the <code class="docutils literal notranslate"><span class="pre">NOT</span> <span class="pre">LIKE</span></code> operator.</p>
<p>This is equivalent to using negation with
<a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators.like" title="sqlalchemy.sql.operators.ColumnOperators.like"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ColumnOperators.like()</span></code></a>, i.e. <code class="docutils literal notranslate"><span class="pre">~x.like(y)</span></code>.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators.like" title="sqlalchemy.sql.operators.ColumnOperators.like"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ColumnOperators.like()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt id="sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.nullsfirst">
<em class="property">method </em><a class="reference internal" href="#sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.</span></code></a><code class="sig-name descname">nullsfirst</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.nullsfirst" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators.nullsfirst" title="sqlalchemy.sql.operators.ColumnOperators.nullsfirst"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ColumnOperators.nullsfirst()</span></code></a> <em>method of</em> <a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators" title="sqlalchemy.sql.operators.ColumnOperators"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnOperators</span></code></a></p>
</div>
<p>Produce a <a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.expression.nullsfirst" title="sqlalchemy.sql.expression.nullsfirst"><code class="xref py py-func docutils literal notranslate"><span class="pre">nullsfirst()</span></code></a> clause against the
parent object.</p>
</dd></dl>

<dl class="py method">
<dt id="sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.nullslast">
<em class="property">method </em><a class="reference internal" href="#sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.</span></code></a><code class="sig-name descname">nullslast</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.nullslast" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators.nullslast" title="sqlalchemy.sql.operators.ColumnOperators.nullslast"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ColumnOperators.nullslast()</span></code></a> <em>method of</em> <a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators" title="sqlalchemy.sql.operators.ColumnOperators"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnOperators</span></code></a></p>
</div>
<p>Produce a <a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.expression.nullslast" title="sqlalchemy.sql.expression.nullslast"><code class="xref py py-func docutils literal notranslate"><span class="pre">nullslast()</span></code></a> clause against the
parent object.</p>
</dd></dl>

<dl class="py method">
<dt id="sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.op">
<em class="property">method </em><a class="reference internal" href="#sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.</span></code></a><code class="sig-name descname">op</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">opstring</span></em>, <em class="sig-param"><span class="n">precedence</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">is_comparison</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">return_type</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.op" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.Operators.op" title="sqlalchemy.sql.operators.Operators.op"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Operators.op()</span></code></a> <em>method of</em> <a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.Operators" title="sqlalchemy.sql.operators.Operators"><code class="xref py py-class docutils literal notranslate"><span class="pre">Operators</span></code></a></p>
</div>
<p>produce a generic operator function.</p>
<p>e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">somecolumn</span><span class="o">.</span><span class="n">op</span><span class="p">(</span><span class="s2">&quot;*&quot;</span><span class="p">)(</span><span class="mi">5</span><span class="p">)</span></pre></div>
</div>
<p>produces:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">somecolumn</span> <span class="o">*</span> <span class="mi">5</span></pre></div>
</div>
<p>This function can also be used to make bitwise operators explicit. For
example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">somecolumn</span><span class="o">.</span><span class="n">op</span><span class="p">(</span><span class="s1">&#39;&amp;&#39;</span><span class="p">)(</span><span class="mh">0xff</span><span class="p">)</span></pre></div>
</div>
<p>is a bitwise AND of the value in <code class="docutils literal notranslate"><span class="pre">somecolumn</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.op.params.operator"></span><strong>operator</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.op.params.operator">¶</a> – a string which will be output as the infix operator
between this element and the expression passed to the
generated function.</p></li>
<li><p><span class="target" id="sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.op.params.precedence"></span><strong>precedence</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.op.params.precedence">¶</a> – precedence to apply to the operator, when
parenthesizing expressions.  A lower number will cause the expression
to be parenthesized when applied against another operator with
higher precedence.  The default value of <code class="docutils literal notranslate"><span class="pre">0</span></code> is lower than all
operators except for the comma (<code class="docutils literal notranslate"><span class="pre">,</span></code>) and <code class="docutils literal notranslate"><span class="pre">AS</span></code> operators.
A value of 100 will be higher or equal to all operators, and -100
will be lower than or equal to all operators.</p></li>
<li><p><span class="target" id="sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.op.params.is_comparison"></span><strong>is_comparison</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.op.params.is_comparison">¶</a> – <p>if True, the operator will be considered as a
“comparison” operator, that is which evaluates to a boolean
true/false value, like <code class="docutils literal notranslate"><span class="pre">==</span></code>, <code class="docutils literal notranslate"><span class="pre">&gt;</span></code>, etc.  This flag should be set
so that ORM relationships can establish that the operator is a
comparison operator when used in a custom join condition.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 0.9.2: </span>- added the
<a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.Operators.op.params.is_comparison" title="sqlalchemy.sql.operators.Operators.op"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">Operators.op.is_comparison</span></code></a> flag.</p>
</div>
</p></li>
<li><p><span class="target" id="sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.op.params.return_type"></span><strong>return_type</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.op.params.return_type">¶</a> – <p>a <a class="reference internal" href="../../core/type_api.html#sqlalchemy.types.TypeEngine" title="sqlalchemy.types.TypeEngine"><code class="xref py py-class docutils literal notranslate"><span class="pre">TypeEngine</span></code></a> class or object that will
force the return type of an expression produced by this operator
to be of that type.   By default, operators that specify
<a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.Operators.op.params.is_comparison" title="sqlalchemy.sql.operators.Operators.op"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">Operators.op.is_comparison</span></code></a> will resolve to
<a class="reference internal" href="../../core/type_basics.html#sqlalchemy.types.Boolean" title="sqlalchemy.types.Boolean"><code class="xref py py-class docutils literal notranslate"><span class="pre">Boolean</span></code></a>, and those that do not will be of the same
type as the left-hand operand.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.2.0b3: </span>- added the
<a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.Operators.op.params.return_type" title="sqlalchemy.sql.operators.Operators.op"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">Operators.op.return_type</span></code></a> argument.</p>
</div>
</p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../../core/custom_types.html#types-operators"><span class="std std-ref">Redefining and Creating New Operators</span></a></p>
<p><a class="reference internal" href="../join_conditions.html#relationship-custom-operator"><span class="std std-ref">Using custom operators in join conditions</span></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt id="sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.operate">
<em class="property">method </em><a class="reference internal" href="#sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.</span></code></a><code class="sig-name descname">operate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">op</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">other</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.operate" title="Permalink to this definition">¶</a></dt>
<dd><p>Operate on an argument.</p>
<p>This is the lowest level of operation, raises
<code class="xref py py-class docutils literal notranslate"><span class="pre">NotImplementedError</span></code> by default.</p>
<p>Overriding this on a subclass can allow common
behavior to be applied to all operations.
For example, overriding <a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators" title="sqlalchemy.sql.operators.ColumnOperators"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnOperators</span></code></a>
to apply <code class="docutils literal notranslate"><span class="pre">func.lower()</span></code> to the left and right
side:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyComparator</span><span class="p">(</span><span class="n">ColumnOperators</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">operate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">op</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">op</span><span class="p">(</span><span class="n">func</span><span class="o">.</span><span class="n">lower</span><span class="p">(</span><span class="bp">self</span><span class="p">),</span> <span class="n">func</span><span class="o">.</span><span class="n">lower</span><span class="p">(</span><span class="n">other</span><span class="p">))</span></pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.operate.params.op"></span><strong>op</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.operate.params.op">¶</a> – Operator callable.</p></li>
<li><p><span class="target" id="sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.operate.params.*other"></span><strong>*other</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.operate.params.*other">¶</a> – the ‘other’ side of the operation. Will
be a single scalar for most operations.</p></li>
<li><p><span class="target" id="sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.operate.params.**kwargs"></span><strong>**kwargs</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.operate.params.**kwargs">¶</a> – modifiers.  These may be passed by special
operators such as <code class="xref py py-meth docutils literal notranslate"><span class="pre">ColumnOperators.contains()</span></code>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.remote_attr">
<em class="property">attribute </em><a class="reference internal" href="#sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.</span></code></a><code class="sig-name descname">remote_attr</code><a class="headerlink" href="#sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.remote_attr" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxyInstance.remote_attr" title="sqlalchemy.ext.associationproxy.AssociationProxyInstance.remote_attr"><code class="xref py py-attr docutils literal notranslate"><span class="pre">AssociationProxyInstance.remote_attr</span></code></a> <em>attribute of</em> <a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxyInstance" title="sqlalchemy.ext.associationproxy.AssociationProxyInstance"><code class="xref py py-class docutils literal notranslate"><span class="pre">AssociationProxyInstance</span></code></a></p>
</div>
<p>The ‘remote’ class attribute referenced by this
<a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxyInstance" title="sqlalchemy.ext.associationproxy.AssociationProxyInstance"><code class="xref py py-class docutils literal notranslate"><span class="pre">AssociationProxyInstance</span></code></a>.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxyInstance.attr" title="sqlalchemy.ext.associationproxy.AssociationProxyInstance.attr"><code class="xref py py-attr docutils literal notranslate"><span class="pre">AssociationProxyInstance.attr</span></code></a></p>
<p><a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxyInstance.local_attr" title="sqlalchemy.ext.associationproxy.AssociationProxyInstance.local_attr"><code class="xref py py-attr docutils literal notranslate"><span class="pre">AssociationProxyInstance.local_attr</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt id="sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.reverse_operate">
<em class="property">method </em><a class="reference internal" href="#sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.</span></code></a><code class="sig-name descname">reverse_operate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">op</span></em>, <em class="sig-param"><span class="n">other</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.reverse_operate" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.Operators.reverse_operate" title="sqlalchemy.sql.operators.Operators.reverse_operate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Operators.reverse_operate()</span></code></a> <em>method of</em> <a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.Operators" title="sqlalchemy.sql.operators.Operators"><code class="xref py py-class docutils literal notranslate"><span class="pre">Operators</span></code></a></p>
</div>
<p>Reverse operate on an argument.</p>
<p>Usage is the same as <a class="reference internal" href="#sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.operate" title="sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.operate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">operate()</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt id="sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.scalar">
<em class="property">attribute </em><a class="reference internal" href="#sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.</span></code></a><code class="sig-name descname">scalar</code><a class="headerlink" href="#sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.scalar" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxyInstance.scalar" title="sqlalchemy.ext.associationproxy.AssociationProxyInstance.scalar"><code class="xref py py-attr docutils literal notranslate"><span class="pre">AssociationProxyInstance.scalar</span></code></a> <em>attribute of</em> <a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxyInstance" title="sqlalchemy.ext.associationproxy.AssociationProxyInstance"><code class="xref py py-class docutils literal notranslate"><span class="pre">AssociationProxyInstance</span></code></a></p>
</div>
<p>Return <code class="docutils literal notranslate"><span class="pre">True</span></code> if this <a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxyInstance" title="sqlalchemy.ext.associationproxy.AssociationProxyInstance"><code class="xref py py-class docutils literal notranslate"><span class="pre">AssociationProxyInstance</span></code></a>
proxies a scalar relationship on the local side.</p>
</dd></dl>

<dl class="py method">
<dt id="sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.startswith">
<em class="property">method </em><a class="reference internal" href="#sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.</span></code></a><code class="sig-name descname">startswith</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">other</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.startswith" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators.startswith" title="sqlalchemy.sql.operators.ColumnOperators.startswith"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ColumnOperators.startswith()</span></code></a> <em>method of</em> <a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators" title="sqlalchemy.sql.operators.ColumnOperators"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnOperators</span></code></a></p>
</div>
<p>Implement the <code class="docutils literal notranslate"><span class="pre">startswith</span></code> operator.</p>
<p>Produces a LIKE expression that tests against a match for the start
of a string value:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">column</span> <span class="n">LIKE</span> <span class="o">&lt;</span><span class="n">other</span><span class="o">&gt;</span> <span class="o">||</span> <span class="s1">&#39;%&#39;</span></pre></div>
</div>
<p>E.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">stmt</span> <span class="o">=</span> <span class="n">select</span><span class="p">([</span><span class="n">sometable</span><span class="p">])</span><span class="o">.</span>\
    <span class="n">where</span><span class="p">(</span><span class="n">sometable</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">column</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;foobar&quot;</span><span class="p">))</span></pre></div>
</div>
<p>Since the operator uses <code class="docutils literal notranslate"><span class="pre">LIKE</span></code>, wildcard characters
<code class="docutils literal notranslate"><span class="pre">&quot;%&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;_&quot;</span></code> that are present inside the &lt;other&gt; expression
will behave like wildcards as well.   For literal string
values, the <a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators.startswith.params.autoescape" title="sqlalchemy.sql.operators.ColumnOperators.startswith"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">ColumnOperators.startswith.autoescape</span></code></a> flag
may be set to <code class="docutils literal notranslate"><span class="pre">True</span></code> to apply escaping to occurrences of these
characters within the string value so that they match as themselves
and not as wildcard characters.  Alternatively, the
<a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators.startswith.params.escape" title="sqlalchemy.sql.operators.ColumnOperators.startswith"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">ColumnOperators.startswith.escape</span></code></a> parameter will establish
a given character as an escape character which can be of use when
the target expression is not a literal string.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.startswith.params.other"></span><strong>other</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.startswith.params.other">¶</a> – expression to be compared.   This is usually a plain
string value, but can also be an arbitrary SQL expression.  LIKE
wildcard characters <code class="docutils literal notranslate"><span class="pre">%</span></code> and <code class="docutils literal notranslate"><span class="pre">_</span></code> are not escaped by default unless
the <a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators.startswith.params.autoescape" title="sqlalchemy.sql.operators.ColumnOperators.startswith"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">ColumnOperators.startswith.autoescape</span></code></a> flag is
set to True.</p></li>
<li><p><span class="target" id="sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.startswith.params.autoescape"></span><strong>autoescape</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.startswith.params.autoescape">¶</a> – <p>boolean; when True, establishes an escape character
within the LIKE expression, then applies it to all occurrences of
<code class="docutils literal notranslate"><span class="pre">&quot;%&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;_&quot;</span></code> and the escape character itself within the
comparison value, which is assumed to be a literal string and not a
SQL expression.</p>
<p>An expression such as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">somecolumn</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;foo%bar&quot;</span><span class="p">,</span> <span class="n">autoescape</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></pre></div>
</div>
<p>Will render as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">somecolumn</span> <span class="n">LIKE</span> <span class="p">:</span><span class="n">param</span> <span class="o">||</span> <span class="s1">&#39;%&#39;</span> <span class="n">ESCAPE</span> <span class="s1">&#39;/&#39;</span></pre></div>
</div>
<p>With the value of :param as <code class="docutils literal notranslate"><span class="pre">&quot;foo/%bar&quot;</span></code>.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.2.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 1.2.0: </span>The
<a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators.startswith.params.autoescape" title="sqlalchemy.sql.operators.ColumnOperators.startswith"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">ColumnOperators.startswith.autoescape</span></code></a> parameter is
 now a simple boolean rather than a character; the escape
 character itself is also escaped, and defaults to a forwards
 slash, which itself can be customized using the
 <a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators.startswith.params.escape" title="sqlalchemy.sql.operators.ColumnOperators.startswith"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">ColumnOperators.startswith.escape</span></code></a> parameter.</p>
</div>
</p></li>
<li><p><span class="target" id="sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.startswith.params.escape"></span><strong>escape</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.ext.associationproxy.ColumnAssociationProxyInstance.startswith.params.escape">¶</a> – <p>a character which when given will render with the
<code class="docutils literal notranslate"><span class="pre">ESCAPE</span></code> keyword to establish that character as the escape
character.  This character can then be placed preceding occurrences
of <code class="docutils literal notranslate"><span class="pre">%</span></code> and <code class="docutils literal notranslate"><span class="pre">_</span></code> to allow them to act as themselves and not
wildcard characters.</p>
<p>An expression such as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">somecolumn</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;foo/%bar&quot;</span><span class="p">,</span> <span class="n">escape</span><span class="o">=</span><span class="s2">&quot;^&quot;</span><span class="p">)</span></pre></div>
</div>
<p>Will render as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">somecolumn</span> <span class="n">LIKE</span> <span class="p">:</span><span class="n">param</span> <span class="o">||</span> <span class="s1">&#39;%&#39;</span> <span class="n">ESCAPE</span> <span class="s1">&#39;^&#39;</span></pre></div>
</div>
<p>The parameter may also be combined with
<a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators.startswith.params.autoescape" title="sqlalchemy.sql.operators.ColumnOperators.startswith"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">ColumnOperators.startswith.autoescape</span></code></a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">somecolumn</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;foo%bar^bat&quot;</span><span class="p">,</span> <span class="n">escape</span><span class="o">=</span><span class="s2">&quot;^&quot;</span><span class="p">,</span> <span class="n">autoescape</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></pre></div>
</div>
<p>Where above, the given literal parameter will be converted to
<code class="docutils literal notranslate"><span class="pre">&quot;foo^%bar^^bat&quot;</span></code> before being passed to the database.</p>
</p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators.endswith" title="sqlalchemy.sql.operators.ColumnOperators.endswith"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ColumnOperators.endswith()</span></code></a></p>
<p><a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators.contains" title="sqlalchemy.sql.operators.ColumnOperators.contains"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ColumnOperators.contains()</span></code></a></p>
<p><a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators.like" title="sqlalchemy.sql.operators.ColumnOperators.like"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ColumnOperators.like()</span></code></a></p>
</div>
</dd></dl>

</dd></dl>

<dl class="py data">
<dt id="sqlalchemy.ext.associationproxy.ASSOCIATION_PROXY">
<code class="sig-prename descclassname">sqlalchemy.ext.associationproxy.</code><code class="sig-name descname">ASSOCIATION_PROXY</code><em class="property"> = symbol('ASSOCIATION_PROXY')</em><a class="headerlink" href="#sqlalchemy.ext.associationproxy.ASSOCIATION_PROXY" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Symbol indicating an <a class="reference internal" href="../internals.html#sqlalchemy.orm.base.InspectionAttr" title="sqlalchemy.orm.base.InspectionAttr"><code class="xref py py-class docutils literal notranslate"><span class="pre">InspectionAttr</span></code></a> that’s</dt><dd><p>of type <a class="reference internal" href="#sqlalchemy.ext.associationproxy.AssociationProxy" title="sqlalchemy.ext.associationproxy.AssociationProxy"><code class="xref py py-class docutils literal notranslate"><span class="pre">AssociationProxy</span></code></a>.</p>
</dd>
</dl>
<p>Is assigned to the <a class="reference internal" href="../internals.html#sqlalchemy.orm.base.InspectionAttr.extension_type" title="sqlalchemy.orm.base.InspectionAttr.extension_type"><code class="xref py py-attr docutils literal notranslate"><span class="pre">InspectionAttr.extension_type</span></code></a>
attribute.</p>
</dd></dl>

</div>
</div>

    </div>

</div>

<div id="docs-bottom-navigation" class="docs-navigation-links, withsidebar">
        Previous:
        <a href="index.html" title="previous chapter">ORM Extensions</a>
        Next:
        <a href="automap.html" title="next chapter">Automap</a>

    <div id="docs-copyright">
        &copy; <a href="../../copyright.html">Copyright</a> 2007-2020, the SQLAlchemy authors and contributors.
        Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 3.0.3.
    </div>
</div>

</div>



        
        

    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
          URL_ROOT:    '../../',
          VERSION:     '1.3.17',
          COLLAPSE_MODINDEX: false,
          FILE_SUFFIX: '.html'
      };
    </script>

    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>

    <!-- begin iterate through sphinx environment script_files -->
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
    <!-- end iterate through sphinx environment script_files -->

    <script type="text/javascript" src="../../_static/detectmobile.js"></script>
    <script type="text/javascript" src="../../_static/init.js"></script>


    </body>
</html>


