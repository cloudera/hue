<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">



<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        
        <title>
            
    
    1.1 Changelog
 &mdash;
    SQLAlchemy 1.3 Documentation

        </title>

        
            <!-- begin iterate through site-imported + sphinx environment css_files -->
                <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
                <link rel="stylesheet" href="../_static/docs.css" type="text/css" />
                <link rel="stylesheet" href="../_static/changelog.css" type="text/css" />
                <link rel="stylesheet" href="../_static/sphinx_paramlinks.css" type="text/css" />
            <!-- end iterate through site-imported + sphinx environment css_files -->
        

        

    

    <!-- begin layout.mako headers -->

    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
        <link rel="copyright" title="Copyright" href="../copyright.html" />
    <link rel="top" title="SQLAlchemy 1.3 Documentation" href="../index.html" />
        <link rel="up" title="Changes and Migration" href="index.html" />
        <link rel="next" title="1.0 Changelog" href="changelog_10.html" />
        <link rel="prev" title="1.2 Changelog" href="changelog_12.html" />
    <!-- end layout.mako headers -->


    </head>
    <body>
        
















<div id="docs-container">





<div id="docs-top-navigation-container" class="body-background">
<div id="docs-header">
    <div id="docs-version-header">
        Release: <span class="version-num">1.3.17</span>


        | Release Date: May 13, 2020

    </div>

    <h1>SQLAlchemy 1.3 Documentation</h1>

</div>
</div>

<div id="docs-body-container">

    <div id="fixed-sidebar" class="withsidebar">


        <div id="docs-sidebar-popout">
            <h3><a href="../index.html">SQLAlchemy 1.3 Documentation</a></h3>
            <p id="sidebar-topnav">
                <a href="../contents.html">Contents</a> |
                <a href="../genindex.html">Index</a>
            </p>

            <div id="sidebar-search">
                <form class="search" action="../search.html" method="get">
                  <label>
                  Search terms:
                  <input type="text" placeholder="search..." name="q" size="12" />
                  </label>
                  <input type="hidden" name="check_keywords" value="yes" />
                  <input type="hidden" name="area" value="default" />
                </form>
            </div>

        </div>

        <div id="docs-sidebar">

        <div id="sidebar-banner">
            
        </div>

        <div id="docs-sidebar-inner">

        
        <h3>
            <a href="index.html" title="Changes and Migration">Changes and Migration</a>
        </h3>

        <ul>
<li><span class="link-container"><a class="reference external" href="migration_13.html">What’s New in SQLAlchemy 1.3?</a></span></li>
<li><span class="link-container"><a class="reference external" href="changelog_13.html">1.3 Changelog</a></span></li>
<li><span class="link-container"><a class="reference external" href="changelog_12.html">1.2 Changelog</a></span></li>
<li class="selected"><span class="link-container"><strong>1.1 Changelog</strong><a class="paramlink headerlink reference internal" href="#">¶</a></span><ul>
<li><span class="link-container"><a class="reference external" href="#change-1.1.18">1.1.18</a></span><ul>
<li><span class="link-container"><a class="reference external" href="#change-1.1.18-postgresql">postgresql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-1.1.18-mysql">mysql</a></span></li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="#change-1.1.17">1.1.17</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-1.1.16">1.1.16</a></span><ul>
<li><span class="link-container"><a class="reference external" href="#change-1.1.16-orm">orm</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-1.1.16-sql">sql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-1.1.16-postgresql">postgresql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-1.1.16-mysql">mysql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-1.1.16-misc">misc</a></span></li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="#change-1.1.15">1.1.15</a></span><ul>
<li><span class="link-container"><a class="reference external" href="#change-1.1.15-orm">orm</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-1.1.15-orm-declarative">orm declarative</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-1.1.15-sql">sql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-1.1.15-postgresql">postgresql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-1.1.15-mysql">mysql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-1.1.15-mssql">mssql</a></span></li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="#change-1.1.14">1.1.14</a></span><ul>
<li><span class="link-container"><a class="reference external" href="#change-1.1.14-orm">orm</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-1.1.14-sql">sql</a></span></li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="#change-1.1.13">1.1.13</a></span><ul>
<li><span class="link-container"><a class="reference external" href="#change-1.1.13-oracle">oracle</a></span></li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="#change-1.1.12">1.1.12</a></span><ul>
<li><span class="link-container"><a class="reference external" href="#change-1.1.12-orm">orm</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-1.1.12-oracle">oracle</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-1.1.12-misc">misc</a></span></li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="#change-1.1.11">1.1.11</a></span><ul>
<li><span class="link-container"><a class="reference external" href="#change-1.1.11-orm">orm</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-1.1.11-sql">sql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-1.1.11-postgresql">postgresql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-1.1.11-mysql">mysql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-1.1.11-mssql">mssql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-1.1.11-oracle">oracle</a></span></li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="#change-1.1.10">1.1.10</a></span><ul>
<li><span class="link-container"><a class="reference external" href="#change-1.1.10-orm">orm</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-1.1.10-schema">schema</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-1.1.10-postgresql">postgresql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-1.1.10-mysql">mysql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-1.1.10-oracle">oracle</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-1.1.10-misc">misc</a></span></li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="#change-1.1.9">1.1.9</a></span><ul>
<li><span class="link-container"><a class="reference external" href="#change-1.1.9-sql">sql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-1.1.9-misc">misc</a></span></li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="#change-1.1.8">1.1.8</a></span><ul>
<li><span class="link-container"><a class="reference external" href="#change-1.1.8-postgresql">postgresql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-1.1.8-misc">misc</a></span></li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="#change-1.1.7">1.1.7</a></span><ul>
<li><span class="link-container"><a class="reference external" href="#change-1.1.7-orm">orm</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-1.1.7-engine">engine</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-1.1.7-sql">sql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-1.1.7-oracle">oracle</a></span></li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="#change-1.1.6">1.1.6</a></span><ul>
<li><span class="link-container"><a class="reference external" href="#change-1.1.6-orm">orm</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-1.1.6-orm-declarative">orm declarative</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-1.1.6-sql">sql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-1.1.6-postgresql">postgresql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-1.1.6-mysql">mysql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-1.1.6-mssql">mssql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-1.1.6-misc">misc</a></span></li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="#change-1.1.5">1.1.5</a></span><ul>
<li><span class="link-container"><a class="reference external" href="#change-1.1.5-orm">orm</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-1.1.5-engine">engine</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-1.1.5-sql">sql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-1.1.5-postgresql">postgresql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-1.1.5-mysql">mysql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-1.1.5-mssql">mssql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-1.1.5-oracle">oracle</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-1.1.5-firebird">firebird</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-1.1.5-misc">misc</a></span></li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="#change-1.1.4">1.1.4</a></span><ul>
<li><span class="link-container"><a class="reference external" href="#change-1.1.4-orm">orm</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-1.1.4-engine">engine</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-1.1.4-sql">sql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-1.1.4-postgresql">postgresql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-1.1.4-mysql">mysql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-1.1.4-sqlite">sqlite</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-1.1.4-mssql">mssql</a></span></li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="#change-1.1.3">1.1.3</a></span><ul>
<li><span class="link-container"><a class="reference external" href="#change-1.1.3-orm">orm</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-1.1.3-sql">sql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-1.1.3-postgresql">postgresql</a></span></li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="#change-1.1.2">1.1.2</a></span><ul>
<li><span class="link-container"><a class="reference external" href="#change-1.1.2-orm">orm</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-1.1.2-sql">sql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-1.1.2-postgresql">postgresql</a></span></li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="#change-1.1.1">1.1.1</a></span><ul>
<li><span class="link-container"><a class="reference external" href="#change-1.1.1-mssql">mssql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-1.1.1-misc">misc</a></span></li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="#change-1.1.0">1.1.0</a></span><ul>
<li><span class="link-container"><a class="reference external" href="#change-1.1.0-orm">orm</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-1.1.0-orm-declarative">orm declarative</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-1.1.0-sql">sql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-1.1.0-postgresql">postgresql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-1.1.0-mysql">mysql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-1.1.0-mssql">mssql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-1.1.0-misc">misc</a></span></li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="#change-1.1.0b3">1.1.0b3</a></span><ul>
<li><span class="link-container"><a class="reference external" href="#change-1.1.0b3-orm">orm</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-1.1.0b3-sql">sql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-1.1.0b3-postgresql">postgresql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-1.1.0b3-oracle">oracle</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-1.1.0b3-misc">misc</a></span></li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="#change-1.1.0b2">1.1.0b2</a></span><ul>
<li><span class="link-container"><a class="reference external" href="#change-1.1.0b2-sql">sql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-1.1.0b2-postgresql">postgresql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-1.1.0b2-mysql">mysql</a></span></li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="#change-1.1.0b1">1.1.0b1</a></span><ul>
<li><span class="link-container"><a class="reference external" href="#change-1.1.0b1-orm">orm</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-1.1.0b1-engine">engine</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-1.1.0b1-sql">sql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-1.1.0b1-schema">schema</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-1.1.0b1-postgresql">postgresql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-1.1.0b1-mysql">mysql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-1.1.0b1-sqlite">sqlite</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-1.1.0b1-mssql">mssql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-1.1.0b1-misc">misc</a></span></li>
</ul>
</li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="changelog_10.html">1.0 Changelog</a></span></li>
<li><span class="link-container"><a class="reference external" href="changelog_09.html">0.9 Changelog</a></span></li>
<li><span class="link-container"><a class="reference external" href="changelog_08.html">0.8 Changelog</a></span></li>
<li><span class="link-container"><a class="reference external" href="changelog_07.html">0.7 Changelog</a></span></li>
<li><span class="link-container"><a class="reference external" href="changelog_06.html">0.6 Changelog</a></span></li>
<li><span class="link-container"><a class="reference external" href="changelog_05.html">0.5 Changelog</a></span></li>
<li><span class="link-container"><a class="reference external" href="changelog_04.html">0.4 Changelog</a></span></li>
<li><span class="link-container"><a class="reference external" href="changelog_03.html">0.3 Changelog</a></span></li>
<li><span class="link-container"><a class="reference external" href="changelog_02.html">0.2 Changelog</a></span></li>
<li><span class="link-container"><a class="reference external" href="changelog_01.html">0.1 Changelog</a></span></li>
<li><span class="link-container"><a class="reference external" href="migration_12.html">What’s New in SQLAlchemy 1.2?</a></span></li>
<li><span class="link-container"><a class="reference external" href="migration_11.html">What’s New in SQLAlchemy 1.1?</a></span></li>
<li><span class="link-container"><a class="reference external" href="migration_10.html">What’s New in SQLAlchemy 1.0?</a></span></li>
<li><span class="link-container"><a class="reference external" href="migration_09.html">What’s New in SQLAlchemy 0.9?</a></span></li>
<li><span class="link-container"><a class="reference external" href="migration_08.html">What’s New in SQLAlchemy 0.8?</a></span></li>
<li><span class="link-container"><a class="reference external" href="migration_07.html">What’s New in SQLAlchemy 0.7?</a></span></li>
<li><span class="link-container"><a class="reference external" href="migration_06.html">What’s New in SQLAlchemy 0.6?</a></span></li>
<li><span class="link-container"><a class="reference external" href="migration_05.html">What’s new in SQLAlchemy 0.5?</a></span></li>
<li><span class="link-container"><a class="reference external" href="migration_04.html">What’s new in SQLAlchemy 0.4?</a></span></li>
</ul>



        </div>

        </div>

    </div>

    

    <div id="docs-body" class="withsidebar" >
        
<div class="section" id="changelog">
<h1>1.1 Changelog<a class="headerlink" href="#changelog" title="Permalink to this headline">¶</a></h1>
<div class="section" id="change-1.1.18">
<h2 class="release-version">1.1.18<a class="headerlink" href="#change-1.1.18" title="Permalink to this headline">¶</a></h2>
Released: March 6, 2018<div class="section" id="change-1.1.18-postgresql">
<h3>postgresql<a class="headerlink" href="#change-1.1.18-postgresql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.18-0"><span class="target" id="change-e3c575ffa34034cfbcfa17a8da64d3d8"><strong>[postgresql] [bug] [py3k]</strong> </span><p>Fixed bug in PostgreSQL COLLATE / ARRAY adjustment first introduced
in <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/4006">#4006</a> where new behaviors in Python 3.7 regular expressions
caused the fix to fail.</p>
<a class="changelog-reference headerlink reference internal" href="#change-e3c575ffa34034cfbcfa17a8da64d3d8">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/4208">#4208</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-1.1.18-mysql">
<h3>mysql<a class="headerlink" href="#change-1.1.18-mysql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.18-1"><span class="target" id="change-b415e3cdafcba66b5399f0819f341b31"><strong>[mysql] [bug]</strong> </span><p>MySQL dialects now query the server version using <code class="docutils literal notranslate"><span class="pre">SELECT</span> <span class="pre">&#64;&#64;version</span></code>
explicitly to the server to ensure we are getting the correct version
information back.   Proxy servers like MaxScale interfere with the value
that is passed to the DBAPI’s connection.server_version value so this
is no longer reliable.</p>
<a class="changelog-reference headerlink reference internal" href="#change-b415e3cdafcba66b5399f0819f341b31">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/4205">#4205</a></p>
</p>
</li>
</ul>
</div>
</div>
<div class="section" id="change-1.1.17">
<h2 class="release-version">1.1.17<a class="headerlink" href="#change-1.1.17" title="Permalink to this headline">¶</a></h2>
Released: February 22, 2018<ul class="simple">
<li><p id="change-1.1.17-0"><span class="target" id="change-ef633273eaab9096e2fe4e660a5c71ba"><strong>[bug] [ext]</strong> </span><p>Repaired regression caused in 1.2.3 and 1.1.16 regarding association proxy
objects, revising the approach to <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/4185">#4185</a> when calculating the
“owning class” of an association proxy to default to choosing the current
class if the proxy object is not directly associated with a mapped class,
such as a mixin.</p>
<a class="changelog-reference headerlink reference internal" href="#change-ef633273eaab9096e2fe4e660a5c71ba">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/4185">#4185</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-1.1.16">
<h2 class="release-version">1.1.16<a class="headerlink" href="#change-1.1.16" title="Permalink to this headline">¶</a></h2>
Released: February 16, 2018<div class="section" id="change-1.1.16-orm">
<h3>orm<a class="headerlink" href="#change-1.1.16-orm" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.16-0"><span class="target" id="change-a8ab14b85cc627533f3278aebe80dc16"><strong>[orm] [bug]</strong> </span><p>Fixed issue in post_update feature where an UPDATE is emitted
when the parent object has been deleted but the dependent object
is not.   This issue has existed for a long time however
since 1.2 now asserts rows matched for post_update, this
was raising an error.</p>
<a class="changelog-reference headerlink reference internal" href="#change-a8ab14b85cc627533f3278aebe80dc16">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/4187">#4187</a></p>
</p>
</li>
<li><p id="change-1.1.16-1"><span class="target" id="change-5900a6cf7115d59d9c4b21e6a07d8089"><strong>[orm] [bug]</strong> </span><p>Fixed regression caused by fix for issue <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/4116">#4116</a> affecting versions
1.2.2 as well as 1.1.15, which had the effect of mis-calculation of the
“owning class” of an <a class="reference internal" href="../orm/extensions/associationproxy.html#sqlalchemy.ext.associationproxy.AssociationProxy" title="sqlalchemy.ext.associationproxy.AssociationProxy"><code class="xref py py-class docutils literal notranslate"><span class="pre">AssociationProxy</span></code></a> as the <code class="docutils literal notranslate"><span class="pre">NoneType</span></code> class
in some declarative mixin/inheritance situations as well as if the
association proxy were accessed off of an un-mapped class.  The “figure out
the owner” logic has been replaced by an in-depth routine that searches
through the complete mapper hierarchy assigned to the class or subclass to
determine the correct (we hope) match; will not assign the owner if no
match is found.  An exception is now raised if the proxy is used
against an un-mapped instance.</p>
<a class="changelog-reference headerlink reference internal" href="#change-5900a6cf7115d59d9c4b21e6a07d8089">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/4185">#4185</a></p>
</p>
</li>
<li><p id="change-1.1.16-2"><span class="target" id="change-147255cf397c4d2ea2a5a8db48fe550a"><strong>[orm] [bug]</strong> </span><p>Fixed bug where an object that is expunged during a rollback of
a nested or subtransaction which also had its primary key mutated
would not be correctly removed from the session, causing subsequent
issues in using the session.</p>
<a class="changelog-reference headerlink reference internal" href="#change-147255cf397c4d2ea2a5a8db48fe550a">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/4151">#4151</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-1.1.16-sql">
<h3>sql<a class="headerlink" href="#change-1.1.16-sql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.16-3"><span class="target" id="change-359b78fdb4f4e6aed7a4e6c868c0905b"><strong>[sql] [bug]</strong> </span><p>Added <a class="reference internal" href="../core/sqlelement.html#sqlalchemy.sql.expression.nullsfirst" title="sqlalchemy.sql.expression.nullsfirst"><code class="xref py py-func docutils literal notranslate"><span class="pre">nullsfirst()</span></code></a> and <a class="reference internal" href="../core/sqlelement.html#sqlalchemy.sql.expression.nullslast" title="sqlalchemy.sql.expression.nullslast"><code class="xref py py-func docutils literal notranslate"><span class="pre">nullslast()</span></code></a> as top level imports
in the <code class="docutils literal notranslate"><span class="pre">sqlalchemy.</span></code> and <code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.</span></code> namespace.  Pull request
courtesy Lele Gaifax.</p>
<a class="changelog-reference headerlink reference internal" href="#change-359b78fdb4f4e6aed7a4e6c868c0905b">¶</a><p></p>
</p>
</li>
<li><p id="change-1.1.16-4"><span class="target" id="change-016c3aee4488496f43022b0050f97b37"><strong>[sql] [bug]</strong> </span><p>Fixed bug in <a class="reference internal" href="../core/dml.html#sqlalchemy.sql.expression.Insert.values" title="sqlalchemy.sql.expression.Insert.values"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Insert.values()</span></code></a> where using the “multi-values”
format in combination with <a class="reference internal" href="../core/metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a> objects as keys rather
than strings would fail.   Pull request courtesy Aubrey Stark-Toller.</p>
<a class="changelog-reference headerlink reference internal" href="#change-016c3aee4488496f43022b0050f97b37">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/4162">#4162</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-1.1.16-postgresql">
<h3>postgresql<a class="headerlink" href="#change-1.1.16-postgresql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.16-5"><span class="target" id="change-5dc1c15ae5fbb625ce4dc4f9f92da5ff"><strong>[postgresql] [bug]</strong> </span><p>Added “SSL SYSCALL error: Operation timed out” to the list
of messages that trigger a “disconnect” scenario for the
psycopg2 driver.  Pull request courtesy André Cruz.</p>
<a class="changelog-reference headerlink reference internal" href="#change-5dc1c15ae5fbb625ce4dc4f9f92da5ff">¶</a><p></p>
</p>
</li>
<li><p id="change-1.1.16-6"><span class="target" id="change-4a7ca70beeaf271566ddffdb0bf7a8e7"><strong>[postgresql] [bug]</strong> </span><p>Added “TRUNCATE” to the list of keywords accepted by the
PostgreSQL dialect as an “autocommit”-triggering keyword.
Pull request courtesy Jacob Hayes.</p>
<a class="changelog-reference headerlink reference internal" href="#change-4a7ca70beeaf271566ddffdb0bf7a8e7">¶</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-1.1.16-mysql">
<h3>mysql<a class="headerlink" href="#change-1.1.16-mysql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.16-7"><span class="target" id="change-88b278afb3eda40c1ba82cbf5c486841"><strong>[mysql] [bug]</strong> </span><p>Fixed bug where the MySQL “concat” and “match” operators failed to
propagate kwargs to the left and right expressions, causing compiler
options such as “literal_binds” to fail.</p>
<a class="changelog-reference headerlink reference internal" href="#change-88b278afb3eda40c1ba82cbf5c486841">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/4136">#4136</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-1.1.16-misc">
<h3>misc<a class="headerlink" href="#change-1.1.16-misc" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.16-8"><span class="target" id="change-4c55bae8f6e5f037c9d55019d12b54a6"><strong>[bug] [pool]</strong> </span><p>Fixed a fairly serious connection pool bug where a connection that is
acquired after being refreshed as a result of a user-defined
<a class="reference internal" href="../core/exceptions.html#sqlalchemy.exc.DisconnectionError" title="sqlalchemy.exc.DisconnectionError"><code class="xref py py-class docutils literal notranslate"><span class="pre">DisconnectionError</span></code></a> or due to the 1.2-released “pre_ping” feature
would not be correctly reset if the connection were returned to the pool by
weakref cleanup (e.g. the front-facing object is garbage collected); the
weakref would still refer to the previously invalidated DBAPI connection
which would have the reset operation erroneously called upon it instead.
This would lead to stack traces in the logs and a connection being checked
into the pool without being reset, which can cause locking issues.</p>
<a class="changelog-reference headerlink reference internal" href="#change-4c55bae8f6e5f037c9d55019d12b54a6">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/4184">#4184</a></p>
</p>
</li>
</ul>
</div>
</div>
<div class="section" id="change-1.1.15">
<h2 class="release-version">1.1.15<a class="headerlink" href="#change-1.1.15" title="Permalink to this headline">¶</a></h2>
Released: November 3, 2017<p></p>
<div class="section" id="change-1.1.15-orm">
<h3>orm<a class="headerlink" href="#change-1.1.15-orm" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.15-0"><span class="target" id="change-78a6fcc148194d1329ab6045ec209359"><strong>[orm] [bug] [ext]</strong> </span><p>Fixed bug where the association proxy would inadvertently link itself
to an <a class="reference internal" href="../orm/query.html#sqlalchemy.orm.util.AliasedClass" title="sqlalchemy.orm.util.AliasedClass"><code class="xref py py-class docutils literal notranslate"><span class="pre">AliasedClass</span></code></a> object if it were called first with
the <a class="reference internal" href="../orm/query.html#sqlalchemy.orm.util.AliasedClass" title="sqlalchemy.orm.util.AliasedClass"><code class="xref py py-class docutils literal notranslate"><span class="pre">AliasedClass</span></code></a> as a parent, causing errors upon subsequent
usage.</p>
<a class="changelog-reference headerlink reference internal" href="#change-78a6fcc148194d1329ab6045ec209359">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/4116">#4116</a></p>
</p>
</li>
<li><p id="change-1.1.15-1"><span class="target" id="change-f341ab5d28a761099205b2b0e21943ac"><strong>[orm] [bug]</strong> </span><p>Fixed bug where ORM relationship would warn against conflicting sync
targets (e.g. two relationships would both write to the same column) for
sibling classes in an inheritance hierarchy, where the two relationships
would never actually conflict during writes.</p>
<a class="changelog-reference headerlink reference internal" href="#change-f341ab5d28a761099205b2b0e21943ac">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/4078">#4078</a></p>
</p>
</li>
<li><p id="change-1.1.15-2"><span class="target" id="change-6f645eb6fa34c0520325ac72a8dd0b90"><strong>[orm] [bug]</strong> </span><p>Fixed bug where correlated select used against single-table inheritance
entity would fail to render correctly in the outer query, due to adjustment
for single inheritance discriminator criteria inappropriately re-applying
the criteria to the outer query.</p>
<a class="changelog-reference headerlink reference internal" href="#change-6f645eb6fa34c0520325ac72a8dd0b90">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/4103">#4103</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-1.1.15-orm-declarative">
<h3>orm declarative<a class="headerlink" href="#change-1.1.15-orm-declarative" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.15-3"><span class="target" id="change-8f3e04733fc59f1d14379283645a81cb"><strong>[bug] [declarative] [orm]</strong> </span><p>Fixed bug where a descriptor that is elsewhere a mapped column
or relationship within a hierarchy based on <a class="reference internal" href="../orm/extensions/declarative/api.html#sqlalchemy.ext.declarative.AbstractConcreteBase" title="sqlalchemy.ext.declarative.AbstractConcreteBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">AbstractConcreteBase</span></code></a>
would be referred towards during a refresh operation, causing an error
as the attribute is not mapped as a mapper property.
A similar issue can arise for other attributes like the “type” column
added by <a class="reference internal" href="../orm/extensions/declarative/api.html#sqlalchemy.ext.declarative.AbstractConcreteBase" title="sqlalchemy.ext.declarative.AbstractConcreteBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">AbstractConcreteBase</span></code></a> if the class fails to include
“concrete=True” in its mapper, however the check here should also
prevent that scenario from causing a problem.</p>
<a class="changelog-reference headerlink reference internal" href="#change-8f3e04733fc59f1d14379283645a81cb">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/4124">#4124</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-1.1.15-sql">
<h3>sql<a class="headerlink" href="#change-1.1.15-sql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.15-4"><span class="target" id="change-ea04a3203b2bdff3cfe2b9dcb66e304b"><strong>[sql] [bug]</strong> </span><p>Fixed bug where <code class="docutils literal notranslate"><span class="pre">__repr__</span></code> of <a class="reference internal" href="../core/defaults.html#sqlalchemy.schema.ColumnDefault" title="sqlalchemy.schema.ColumnDefault"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnDefault</span></code></a> would fail
if the argument were a tuple.  Pull request courtesy Nicolas Caniart.</p>
<a class="changelog-reference headerlink reference internal" href="#change-ea04a3203b2bdff3cfe2b9dcb66e304b">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/4126">#4126</a></p>
</p>
</li>
<li><p id="change-1.1.15-5"><span class="target" id="change-8ec0a82fd68c55652f80deb108257d02"><strong>[sql] [bug]</strong> </span><p>Fixed bug where the recently added <a class="reference internal" href="../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators.any_" title="sqlalchemy.sql.operators.ColumnOperators.any_"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ColumnOperators.any_()</span></code></a>
and <a class="reference internal" href="../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators.all_" title="sqlalchemy.sql.operators.ColumnOperators.all_"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ColumnOperators.all_()</span></code></a> methods didn’t work when called
as methods, as opposed to using the standalone functions
<a class="reference internal" href="../core/sqlelement.html#sqlalchemy.sql.expression.any_" title="sqlalchemy.sql.expression.any_"><code class="xref py py-func docutils literal notranslate"><span class="pre">any_()</span></code></a> and <a class="reference internal" href="../core/sqlelement.html#sqlalchemy.sql.expression.all_" title="sqlalchemy.sql.expression.all_"><code class="xref py py-func docutils literal notranslate"><span class="pre">all_()</span></code></a>.  Also
added documentation examples for these relatively unintuitive
SQL operators.</p>
<a class="changelog-reference headerlink reference internal" href="#change-8ec0a82fd68c55652f80deb108257d02">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/4093">#4093</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-1.1.15-postgresql">
<h3>postgresql<a class="headerlink" href="#change-1.1.15-postgresql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.15-6"><span class="target" id="change-06650cb5fc0315042283ca8fe3ebb6ab"><strong>[postgresql] [bug]</strong> </span><p>Made further fixes to the <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.ARRAY" title="sqlalchemy.types.ARRAY"><code class="xref py py-class docutils literal notranslate"><span class="pre">ARRAY</span></code></a> class in conjunction with
COLLATE, as the fix made in <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/4006">#4006</a> failed to accommodate
for a multidimensional array.</p>
<a class="changelog-reference headerlink reference internal" href="#change-06650cb5fc0315042283ca8fe3ebb6ab">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/4006">#4006</a></p>
</p>
</li>
<li><p id="change-1.1.15-7"><span class="target" id="change-2f4f3ee6a2b9ba1d9882a77eed858310"><strong>[postgresql] [bug]</strong> </span><p>Fixed bug in <a class="reference internal" href="../core/functions.html#sqlalchemy.sql.functions.array_agg" title="sqlalchemy.sql.functions.array_agg"><code class="xref py py-obj docutils literal notranslate"><span class="pre">array_agg</span></code></a> function where passing an argument
that is already of type <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.ARRAY" title="sqlalchemy.types.ARRAY"><code class="xref py py-class docutils literal notranslate"><span class="pre">ARRAY</span></code></a>, such as a PostgreSQL
<a class="reference internal" href="../dialects/postgresql.html#sqlalchemy.dialects.postgresql.array" title="sqlalchemy.dialects.postgresql.array"><code class="xref py py-obj docutils literal notranslate"><span class="pre">array</span></code></a> construct, would produce a <code class="docutils literal notranslate"><span class="pre">ValueError</span></code>, due
to the function attempting to nest the arrays.</p>
<a class="changelog-reference headerlink reference internal" href="#change-2f4f3ee6a2b9ba1d9882a77eed858310">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/4107">#4107</a></p>
</p>
</li>
<li><p id="change-1.1.15-8"><span class="target" id="change-7b1ff1c5593213a5714b4635ab92498d"><strong>[postgresql] [bug]</strong> </span><p>Fixed bug in PostgreSQL <code class="xref py py-meth docutils literal notranslate"><span class="pre">Insert.on_conflict_do_update()</span></code>
which would prevent the insert statement from being used as a CTE,
e.g. via <code class="xref py py-meth docutils literal notranslate"><span class="pre">Insert.cte()</span></code>, within another statement.</p>
<a class="changelog-reference headerlink reference internal" href="#change-7b1ff1c5593213a5714b4635ab92498d">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/4074">#4074</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-1.1.15-mysql">
<h3>mysql<a class="headerlink" href="#change-1.1.15-mysql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.15-9"><span class="target" id="change-2b00f0540625dcb0b65ad6593eaf3930"><strong>[mysql] [bug]</strong> </span><p>Warning emitted when MariaDB 10.2.8 or earlier in the 10.2
series is detected as there are major issues with CHECK
constraints within these versions that were resolved as of
10.2.9.</p>
<p>Note that this changelog message was NOT released with
SQLAlchemy 1.2.0b3 and was added retroactively.</p>
<a class="changelog-reference headerlink reference internal" href="#change-2b00f0540625dcb0b65ad6593eaf3930">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/4097">#4097</a></p>
</p>
</li>
<li><p id="change-1.1.15-10"><span class="target" id="change-364804fd47128c29140cfd2c6f8b8063"><strong>[mysql] [bug]</strong> </span><p>MySQL 5.7.20 now warns for use of the &#64;tx_isolation variable; a version
check is now performed and uses &#64;transaction_isolation instead
to prevent this warning.</p>
<a class="changelog-reference headerlink reference internal" href="#change-364804fd47128c29140cfd2c6f8b8063">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/4120">#4120</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-1.1.15-mssql">
<h3>mssql<a class="headerlink" href="#change-1.1.15-mssql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.15-11"><span class="target" id="change-7ba452e3c976060ee0963ee68d0495d8"><strong>[mssql] [bug]</strong> </span><p>Added a full range of “connection closed” exception codes to the
PyODBC dialect for SQL Server, including ‘08S01’, ‘01002’, ‘08003’,
‘08007’, ‘08S02’, ‘08001’, ‘HYT00’, ‘HY010’.  Previously, only ‘08S01’
was covered.</p>
<a class="changelog-reference headerlink reference internal" href="#change-7ba452e3c976060ee0963ee68d0495d8">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/4095">#4095</a></p>
</p>
</li>
</ul>
</div>
</div>
<div class="section" id="change-1.1.14">
<h2 class="release-version">1.1.14<a class="headerlink" href="#change-1.1.14" title="Permalink to this headline">¶</a></h2>
Released: September 5, 2017<div class="section" id="change-1.1.14-orm">
<h3>orm<a class="headerlink" href="#change-1.1.14-orm" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.14-0"><span class="target" id="change-510822b5516ecf50fb5eb6f976a01f7d"><strong>[orm] [bug]</strong> </span><p>Fixed bug in <a class="reference internal" href="../orm/session_api.html#sqlalchemy.orm.session.Session.merge" title="sqlalchemy.orm.session.Session.merge"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.merge()</span></code></a> following along similar lines as that
of <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/4030">#4030</a>, where an internal check for a target object in
the identity map could lead to an error if it were to be garbage collected
immediately before the merge routine actually retrieves the object.</p>
<a class="changelog-reference headerlink reference internal" href="#change-510822b5516ecf50fb5eb6f976a01f7d">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/4069">#4069</a></p>
</p>
</li>
<li><p id="change-1.1.14-1"><span class="target" id="change-6595f74e0d247a6dd1d1adec80b9f9b6"><strong>[orm] [bug]</strong> </span><p>Fixed bug where an <a class="reference internal" href="../orm/loading_columns.html#sqlalchemy.orm.undefer_group" title="sqlalchemy.orm.undefer_group"><code class="xref py py-func docutils literal notranslate"><span class="pre">undefer_group()</span></code></a> option would not be recognized
if it extended from a relationship that was loading using joined eager
loading.  Additionally, as the bug led to excess work being performed,
Python function call counts are also improved by 20% within the initial
calculation of result set columns, complementing the joined eager load
improvements of <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3915">#3915</a>.</p>
<a class="changelog-reference headerlink reference internal" href="#change-6595f74e0d247a6dd1d1adec80b9f9b6">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/4048">#4048</a></p>
</p>
</li>
<li><p id="change-1.1.14-2"><span class="target" id="change-84eff3d20b56d96e4952720f3fa5c923"><strong>[orm] [bug]</strong> </span><p>Fixed race condition in ORM identity map which would cause objects
to be inappropriately removed during a load operation, causing
duplicate object identities to occur, particularly under joined eager
loading which involves deduplication of objects.  The issue is specific
to garbage collection of weak references and is observed only under the
PyPy interpreter.</p>
<a class="changelog-reference headerlink reference internal" href="#change-84eff3d20b56d96e4952720f3fa5c923">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/4068">#4068</a></p>
</p>
</li>
<li><p id="change-1.1.14-3"><span class="target" id="change-6489663f52a381542e009cb8596da6c8"><strong>[orm] [bug]</strong> </span><p>Fixed bug in <a class="reference internal" href="../orm/session_api.html#sqlalchemy.orm.session.Session.merge" title="sqlalchemy.orm.session.Session.merge"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.merge()</span></code></a> where objects in a collection that had
the primary key attribute set to <code class="docutils literal notranslate"><span class="pre">None</span></code> for a key that is  typically
autoincrementing would be considered to be a database-persisted key for
part of the internal deduplication process, causing only one object to
actually be inserted in the database.</p>
<a class="changelog-reference headerlink reference internal" href="#change-6489663f52a381542e009cb8596da6c8">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/4056">#4056</a></p>
</p>
</li>
<li><p id="change-1.1.14-4"><span class="target" id="change-03ccde57f044ca376334a49421ee6c87"><strong>[orm] [bug]</strong> </span><p>An <a class="reference internal" href="../core/exceptions.html#sqlalchemy.exc.InvalidRequestError" title="sqlalchemy.exc.InvalidRequestError"><code class="xref py py-class docutils literal notranslate"><span class="pre">InvalidRequestError</span></code></a> is raised when a <a class="reference internal" href="../orm/mapped_attributes.html#sqlalchemy.orm.synonym" title="sqlalchemy.orm.synonym"><code class="xref py py-func docutils literal notranslate"><span class="pre">synonym()</span></code></a>
is used against an attribute that is not against a <a class="reference internal" href="../orm/internals.html#sqlalchemy.orm.interfaces.MapperProperty" title="sqlalchemy.orm.interfaces.MapperProperty"><code class="xref py py-class docutils literal notranslate"><span class="pre">MapperProperty</span></code></a>,
such as an association proxy.  Previously, a recursion overflow would
occur trying to locate non-existent attributes.</p>
<a class="changelog-reference headerlink reference internal" href="#change-03ccde57f044ca376334a49421ee6c87">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/4067">#4067</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-1.1.14-sql">
<h3>sql<a class="headerlink" href="#change-1.1.14-sql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.14-5"><span class="target" id="change-cc0c66bb074c40affd0e6f3f3a396deb"><strong>[sql] [bug]</strong> </span><p>Altered the range specification for window functions to allow
for two of the same PRECEDING or FOLLOWING keywords in a range
by allowing for the left side of the range to be positive
and for the right to be negative, e.g. (1, 3) is
“1 FOLLOWING AND 3 FOLLOWING”.</p>
<a class="changelog-reference headerlink reference internal" href="#change-cc0c66bb074c40affd0e6f3f3a396deb">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/4053">#4053</a></p>
</p>
</li>
</ul>
</div>
</div>
<div class="section" id="change-1.1.13">
<h2 class="release-version">1.1.13<a class="headerlink" href="#change-1.1.13" title="Permalink to this headline">¶</a></h2>
Released: August 3, 2017<div class="section" id="change-1.1.13-oracle">
<h3>oracle<a class="headerlink" href="#change-1.1.13-oracle" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.13-0"><span class="target" id="change-91e9180bc7f72ab73ee81944ee6c0b5b"><strong>[oracle] [bug] [performance] [py2k]</strong> </span><p>Fixed performance regression caused by the fix for <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3937">#3937</a> where
cx_Oracle as of version 5.3 dropped the <code class="docutils literal notranslate"><span class="pre">.UNICODE</span></code> symbol from its
namespace,  which was interpreted as cx_Oracle’s “WITH_UNICODE” mode being
turned on unconditionally, which invokes functions on the SQLAlchemy
side which convert all strings to unicode unconditionally and causing
a performance impact.  In fact, per cx_Oracle’s author the
“WITH_UNICODE” mode has been removed entirely as of 5.1, so the expensive unicode
conversion functions are no longer necessary and are disabled if
cx_Oracle 5.1 or greater is detected under Python 2.  The warning against
“WITH_UNICODE” mode that was removed under <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3937">#3937</a> is also restored.</p>
<a class="changelog-reference headerlink reference internal" href="#change-91e9180bc7f72ab73ee81944ee6c0b5b">¶</a><p>This change is also <strong>backported</strong> to: 1.0.19</p>
<p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/4035">#4035</a></p>
</p>
</li>
</ul>
</div>
</div>
<div class="section" id="change-1.1.12">
<h2 class="release-version">1.1.12<a class="headerlink" href="#change-1.1.12" title="Permalink to this headline">¶</a></h2>
Released: July 24, 2017<div class="section" id="change-1.1.12-orm">
<h3>orm<a class="headerlink" href="#change-1.1.12-orm" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.12-0"><span class="target" id="change-55fb6ce41c441e05c26f3ed9bc872aea"><strong>[orm] [bug]</strong> </span><p>Fixed regression from 1.1.11 where adding additional non-entity
columns to a query that includes an entity with subqueryload
relationships would fail, due to an inspection added in 1.1.11 as a
result of <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/4011">#4011</a>.</p>
<a class="changelog-reference headerlink reference internal" href="#change-55fb6ce41c441e05c26f3ed9bc872aea">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/4033">#4033</a></p>
</p>
</li>
<li><p id="change-1.1.12-1"><span class="target" id="change-7071f2cd140cd46300b30cf79b997b57"><strong>[orm] [bug]</strong> </span><p>Fixed bug involving JSON NULL evaluation logic added in 1.1 as part
of <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3514">#3514</a> where the logic would not accommodate ORM
mapped attributes named differently from the <a class="reference internal" href="../core/metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a>
that was mapped.</p>
<a class="changelog-reference headerlink reference internal" href="#change-7071f2cd140cd46300b30cf79b997b57">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/4031">#4031</a></p>
</p>
</li>
<li><p id="change-1.1.12-2"><span class="target" id="change-66787cdd06adfcf76b24e01e83632d43"><strong>[orm] [bug]</strong> </span><p>Added <code class="docutils literal notranslate"><span class="pre">KeyError</span></code> checks to all methods within
<code class="xref py py-class docutils literal notranslate"><span class="pre">WeakInstanceDict</span></code> where a check for <code class="docutils literal notranslate"><span class="pre">key</span> <span class="pre">in</span> <span class="pre">dict</span></code> is
followed by indexed access to that key, to guard against a race against
garbage collection that under load can remove the key from the dict
after the code assumes its present, leading to very infrequent
<code class="docutils literal notranslate"><span class="pre">KeyError</span></code> raises.</p>
<a class="changelog-reference headerlink reference internal" href="#change-66787cdd06adfcf76b24e01e83632d43">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/4030">#4030</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-1.1.12-oracle">
<h3>oracle<a class="headerlink" href="#change-1.1.12-oracle" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.12-3"><span class="target" id="change-7c6387f5e1b830353a3fe42c7c82d2d0"><strong>[oracle] [feature] [postgresql]</strong> </span><p>Added new keywords <a class="reference internal" href="../core/defaults.html#sqlalchemy.schema.Sequence.params.cache" title="sqlalchemy.schema.Sequence"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">Sequence.cache</span></code></a> and
<a class="reference internal" href="../core/defaults.html#sqlalchemy.schema.Sequence.params.order" title="sqlalchemy.schema.Sequence"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">Sequence.order</span></code></a> to <a class="reference internal" href="../core/defaults.html#sqlalchemy.schema.Sequence" title="sqlalchemy.schema.Sequence"><code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code></a>, to allow rendering
of the CACHE parameter understood by Oracle and PostgreSQL, and the
ORDER parameter understood by Oracle.  Pull request
courtesy David Moore.</p>
<a class="changelog-reference headerlink reference internal" href="#change-7c6387f5e1b830353a3fe42c7c82d2d0">¶</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-1.1.12-misc">
<h3>misc<a class="headerlink" href="#change-1.1.12-misc" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.12-4"><span class="target" id="change-8d46cdc9f6215ef21a27882d98dd2ede"><strong>[bug] [py3k] [tests]</strong> </span><p>Fixed issue in testing fixtures which was incompatible with a change
made as of Python 3.6.2 involving context managers.</p>
<a class="changelog-reference headerlink reference internal" href="#change-8d46cdc9f6215ef21a27882d98dd2ede">¶</a><p>This change is also <strong>backported</strong> to: 1.0.18</p>
<p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/4034">#4034</a></p>
</p>
</li>
</ul>
</div>
</div>
<div class="section" id="change-1.1.11">
<h2 class="release-version">1.1.11<a class="headerlink" href="#change-1.1.11" title="Permalink to this headline">¶</a></h2>
Released: Monday, June 19, 2017<div class="section" id="change-1.1.11-orm">
<h3>orm<a class="headerlink" href="#change-1.1.11-orm" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.11-0"><span class="target" id="change-0e5f021ce5e4f0ddafec05c6d4f90b37"><strong>[orm] [bug]</strong> </span><p>Fixed issue with subquery eagerloading which continues on from
the series of issues fixed in <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2699">#2699</a>, <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3106">#3106</a>,
<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3893">#3893</a> involving that the “subquery” contains the correct
FROM clause when beginning from a joined inheritance subclass
and then subquery eager loading onto a relationship from
the base class, while the query also includes criteria against
the subclass. The fix in the previous tickets did not accommodate
for additional subqueryload operations loading more deeply from
the first level, so the fix has been further generalized.</p>
<a class="changelog-reference headerlink reference internal" href="#change-0e5f021ce5e4f0ddafec05c6d4f90b37">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/4011">#4011</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-1.1.11-sql">
<h3>sql<a class="headerlink" href="#change-1.1.11-sql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.11-1"><span class="target" id="change-19a26f1b6d5db943b77fdc51cb13f077"><strong>[sql] [bug]</strong> </span><p>Fixed AttributeError which would occur in <a class="reference internal" href="../core/sqlelement.html#sqlalchemy.sql.expression.WithinGroup" title="sqlalchemy.sql.expression.WithinGroup"><code class="xref py py-class docutils literal notranslate"><span class="pre">WithinGroup</span></code></a>
construct during an iteration of the structure.</p>
<a class="changelog-reference headerlink reference internal" href="#change-19a26f1b6d5db943b77fdc51cb13f077">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/4012">#4012</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-1.1.11-postgresql">
<h3>postgresql<a class="headerlink" href="#change-1.1.11-postgresql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.11-2"><span class="target" id="change-2593d10f3891f932f887bc92cad0df4b"><strong>[postgresql] [bug]</strong> </span><p>Continuing with the fix that correctly handles PostgreSQL
version string “10devel” released in 1.1.8, an additional regexp
bump to handle version strings of the form “10beta1”.   While
PostgreSQL now offers better ways to get this information, we
are sticking w/ the regexp at least through 1.1.x for the least
amount of risk to compatibility w/ older or alternate PostgreSQL
databases.</p>
<a class="changelog-reference headerlink reference internal" href="#change-2593d10f3891f932f887bc92cad0df4b">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/4005">#4005</a></p>
</p>
</li>
<li><p id="change-1.1.11-3"><span class="target" id="change-f47d343c71e8b2db5fd207739cfd4eed"><strong>[postgresql] [bug]</strong> </span><p>Fixed bug where using <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.ARRAY" title="sqlalchemy.types.ARRAY"><code class="xref py py-class docutils literal notranslate"><span class="pre">ARRAY</span></code></a> with a string type that
features a collation would fail to produce the correct syntax
within CREATE TABLE.</p>
<a class="changelog-reference headerlink reference internal" href="#change-f47d343c71e8b2db5fd207739cfd4eed">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/4006">#4006</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-1.1.11-mysql">
<h3>mysql<a class="headerlink" href="#change-1.1.11-mysql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.11-4"><span class="target" id="change-1bd510b97968d88562591249bb4d91e9"><strong>[mysql] [bug]</strong> </span><p>MySQL 5.7 has introduced permission limiting for the “SHOW VARIABLES”
command; the MySQL dialect will now handle when SHOW returns no
row, in particular for the initial fetch of SQL_MODE, and will
emit a warning that user permissions should be modified to allow the
row to be present.</p>
<a class="changelog-reference headerlink reference internal" href="#change-1bd510b97968d88562591249bb4d91e9">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/4007">#4007</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-1.1.11-mssql">
<h3>mssql<a class="headerlink" href="#change-1.1.11-mssql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.11-5"><span class="target" id="change-faf0457ad4d2f3cde79af1f69287bdcb"><strong>[mssql] [bug]</strong> </span><p>Fixed bug where SQL Server transaction isolation must be fetched
from a different view when using Azure data warehouse, the query
is now attempted against both views and then a NotImplemented
is raised unconditionally if failure continues to provide the
best resiliency against future arbitrary API changes in new
SQL Server versions.</p>
<a class="changelog-reference headerlink reference internal" href="#change-faf0457ad4d2f3cde79af1f69287bdcb">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3994">#3994</a></p>
</p>
</li>
<li><p id="change-1.1.11-6"><span class="target" id="change-61e540325b4ff824378c6d78e79b00aa"><strong>[mssql] [bug]</strong> </span><p>Added a placeholder type <a class="reference internal" href="../dialects/mssql.html#sqlalchemy.dialects.mssql.XML" title="sqlalchemy.dialects.mssql.XML"><code class="xref py py-class docutils literal notranslate"><span class="pre">XML</span></code></a> to the SQL Server
dialect, so that a reflected table which includes this type can
be re-rendered as a CREATE TABLE.  The type has no special round-trip
behavior nor does it currently support additional qualifying
arguments.</p>
<a class="changelog-reference headerlink reference internal" href="#change-61e540325b4ff824378c6d78e79b00aa">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3973">#3973</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-1.1.11-oracle">
<h3>oracle<a class="headerlink" href="#change-1.1.11-oracle" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.11-7"><span class="target" id="change-b7bbffe0843f3cccc99d6be5f4f454d4"><strong>[oracle] [bug]</strong> </span><p>Support for two-phase transactions has been removed entirely for
cx_Oracle when version 6.0b1 or later of the DBAPI is in use.  The two-
phase feature historically has never been usable under cx_Oracle 5.x in
any case, and cx_Oracle 6.x has removed the connection-level “twophase”
flag upon which this feature relied.</p>
<a class="changelog-reference headerlink reference internal" href="#change-b7bbffe0843f3cccc99d6be5f4f454d4">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3997">#3997</a></p>
</p>
</li>
</ul>
</div>
</div>
<div class="section" id="change-1.1.10">
<h2 class="release-version">1.1.10<a class="headerlink" href="#change-1.1.10" title="Permalink to this headline">¶</a></h2>
Released: Friday, May 19, 2017<div class="section" id="change-1.1.10-orm">
<h3>orm<a class="headerlink" href="#change-1.1.10-orm" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.10-0"><span class="target" id="change-811a21d4758667d8eb0659e9a323e5a1"><strong>[orm] [bug]</strong> </span><p>Fixed bug where a cascade such as “delete-orphan” (but others as well)
would fail to locate an object linked to a relationship that itself
is local to a subclass in an inheritance relationship, thus causing
the operation to not take place.</p>
<a class="changelog-reference headerlink reference internal" href="#change-811a21d4758667d8eb0659e9a323e5a1">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3986">#3986</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-1.1.10-schema">
<h3>schema<a class="headerlink" href="#change-1.1.10-schema" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.10-1"><span class="target" id="change-fc603364504677674909dbb791f51578"><strong>[schema] [bug]</strong> </span><p>An <a class="reference internal" href="../core/exceptions.html#sqlalchemy.exc.ArgumentError" title="sqlalchemy.exc.ArgumentError"><code class="xref py py-class docutils literal notranslate"><span class="pre">ArgumentError</span></code></a> is now raised if a
<a class="reference internal" href="../core/constraints.html#sqlalchemy.schema.ForeignKeyConstraint" title="sqlalchemy.schema.ForeignKeyConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForeignKeyConstraint</span></code></a> object is created with a mismatched
number of “local” and “remote” columns, which otherwise causes the
internal state of the constraint to be incorrect.   Note that this
also impacts the condition where a dialect’s reflection process
produces a mismatched set of columns for a foreign key constraint.</p>
<a class="changelog-reference headerlink reference internal" href="#change-fc603364504677674909dbb791f51578">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3949">#3949</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-1.1.10-postgresql">
<h3>postgresql<a class="headerlink" href="#change-1.1.10-postgresql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.10-2"><span class="target" id="change-390f65506001c9149b35255e257a57c0"><strong>[postgresql] [bug]</strong> </span><p>Added “autocommit” support for GRANT, REVOKE keywords.  Pull request
courtesy Jacob Hayes.</p>
<a class="changelog-reference headerlink reference internal" href="#change-390f65506001c9149b35255e257a57c0">¶</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-1.1.10-mysql">
<h3>mysql<a class="headerlink" href="#change-1.1.10-mysql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.10-3"><span class="target" id="change-9c4aa41a9d7591138784f77d988c39be"><strong>[mysql] [bug]</strong> </span><p>Removed an ancient and unnecessary intercept of the UTC_TIMESTAMP
MySQL function, which was getting in the way of using it with a
parameter.</p>
<a class="changelog-reference headerlink reference internal" href="#change-9c4aa41a9d7591138784f77d988c39be">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3966">#3966</a></p>
</p>
</li>
<li><p id="change-1.1.10-4"><span class="target" id="change-fb65ace3fa2cc1ddf318fa1be869f558"><strong>[mysql] [bug]</strong> </span><p>Fixed bug in MySQL dialect regarding rendering of table options in
conjunction with PARTITION options when rendering CREATE TABLE.
The PARTITION related options need to follow the table options,
whereas previously this ordering was not enforced.</p>
<a class="changelog-reference headerlink reference internal" href="#change-fb65ace3fa2cc1ddf318fa1be869f558">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3961">#3961</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-1.1.10-oracle">
<h3>oracle<a class="headerlink" href="#change-1.1.10-oracle" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.10-5"><span class="target" id="change-0313f208735d8172643464bd58bb4019"><strong>[oracle] [bug]</strong> </span><p>Fixed bug in cx_Oracle dialect where version string parsing would
fail for cx_Oracle version 6.0b1 due to the “b” character.  Version
string parsing is now via a regexp rather than a simple split.</p>
<a class="changelog-reference headerlink reference internal" href="#change-0313f208735d8172643464bd58bb4019">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3975">#3975</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-1.1.10-misc">
<h3>misc<a class="headerlink" href="#change-1.1.10-misc" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.10-6"><span class="target" id="change-1cf46f3862dbc063dd520b334d9bdbab"><strong>[bug] [ext]</strong> </span><p>Protected against testing “None” as a class in the case where
declarative classes are being garbage collected and new
automap prepare() operations are taking place concurrently, very
infrequently hitting a weakref that has not been fully acted upon
after gc.</p>
<a class="changelog-reference headerlink reference internal" href="#change-1cf46f3862dbc063dd520b334d9bdbab">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3980">#3980</a></p>
</p>
</li>
</ul>
</div>
</div>
<div class="section" id="change-1.1.9">
<h2 class="release-version">1.1.9<a class="headerlink" href="#change-1.1.9" title="Permalink to this headline">¶</a></h2>
Released: April 4, 2017<div class="section" id="change-1.1.9-sql">
<h3>sql<a class="headerlink" href="#change-1.1.9-sql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.9-0"><span class="target" id="change-5d66c6df2d98f9dc37156a29e0e74d9b"><strong>[sql] [bug]</strong> </span><p>Fixed regression released in 1.1.5 due to <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3859">#3859</a> where
adjustments to the “right-hand-side” evaluation of an expression
based on <a class="reference internal" href="../core/type_api.html#sqlalchemy.types.Variant" title="sqlalchemy.types.Variant"><code class="xref py py-class docutils literal notranslate"><span class="pre">Variant</span></code></a> to honor the underlying type’s
“right-hand-side” rules caused the <a class="reference internal" href="../core/type_api.html#sqlalchemy.types.Variant" title="sqlalchemy.types.Variant"><code class="xref py py-class docutils literal notranslate"><span class="pre">Variant</span></code></a> type
to be inappropriately lost, in those cases when we <em>do</em> want the
left-hand side type to be transferred directly to the right hand side
so that bind-level rules can be applied to the expression’s argument.</p>
<a class="changelog-reference headerlink reference internal" href="#change-5d66c6df2d98f9dc37156a29e0e74d9b">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3952">#3952</a></p>
</p>
</li>
<li><p id="change-1.1.9-1"><span class="target" id="change-83f63c68195eb23dcbd616770a441e80"><strong>[sql] [bug] [postgresql]</strong> </span><p>Changed the mechanics of <a class="reference internal" href="../core/connections.html#sqlalchemy.engine.ResultProxy" title="sqlalchemy.engine.ResultProxy"><code class="xref py py-class docutils literal notranslate"><span class="pre">ResultProxy</span></code></a> to unconditionally
delay the “autoclose” step until the <a class="reference internal" href="../core/connections.html#sqlalchemy.engine.Connection" title="sqlalchemy.engine.Connection"><code class="xref py py-class docutils literal notranslate"><span class="pre">Connection</span></code></a> is done
with the object; in the case where PostgreSQL ON CONFLICT with
RETURNING returns no rows, autoclose was occurring in this previously
non-existent use case, causing the usual autocommit behavior that
occurs unconditionally upon INSERT/UPDATE/DELETE to fail.</p>
<a class="changelog-reference headerlink reference internal" href="#change-83f63c68195eb23dcbd616770a441e80">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3955">#3955</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-1.1.9-misc">
<h3>misc<a class="headerlink" href="#change-1.1.9-misc" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.9-2"><span class="target" id="change-68f347d3c7e80907ff8b2228e5fafaf2"><strong>[bug] [ext]</strong> </span><p>Fixed regression released in 1.1.8 due to <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3950">#3950</a> where the
deeper search for information about column types in the case of a
“schema type” or a <a class="reference internal" href="../core/custom_types.html#sqlalchemy.types.TypeDecorator" title="sqlalchemy.types.TypeDecorator"><code class="xref py py-class docutils literal notranslate"><span class="pre">TypeDecorator</span></code></a> would produce an attribute
error if the mapping also contained a <a class="reference internal" href="../orm/mapping_columns.html#sqlalchemy.orm.column_property" title="sqlalchemy.orm.column_property"><code class="xref py py-obj docutils literal notranslate"><span class="pre">column_property</span></code></a>.</p>
<a class="changelog-reference headerlink reference internal" href="#change-68f347d3c7e80907ff8b2228e5fafaf2">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3956">#3956</a></p>
</p>
</li>
</ul>
</div>
</div>
<div class="section" id="change-1.1.8">
<h2 class="release-version">1.1.8<a class="headerlink" href="#change-1.1.8" title="Permalink to this headline">¶</a></h2>
Released: March 31, 2017<div class="section" id="change-1.1.8-postgresql">
<h3>postgresql<a class="headerlink" href="#change-1.1.8-postgresql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.8-0"><span class="target" id="change-5e700c39ec08051bafabb0d1c4c3f32e"><strong>[postgresql] [bug]</strong> </span><p>Added support for parsing the PostgreSQL version string for
a development version like “PostgreSQL 10devel”.  Pull request
courtesy Sean McCully.</p>
<a class="changelog-reference headerlink reference internal" href="#change-5e700c39ec08051bafabb0d1c4c3f32e">¶</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-1.1.8-misc">
<h3>misc<a class="headerlink" href="#change-1.1.8-misc" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.8-1"><span class="target" id="change-adb5e82a1ca0bc723e61ea71a1da34b1"><strong>[bug] [ext]</strong> </span><p>Fixed bug in <a class="reference internal" href="../orm/extensions/mutable.html#module-sqlalchemy.ext.mutable" title="sqlalchemy.ext.mutable"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sqlalchemy.ext.mutable</span></code></a> where the
<a class="reference internal" href="../orm/extensions/mutable.html#sqlalchemy.ext.mutable.Mutable.as_mutable" title="sqlalchemy.ext.mutable.Mutable.as_mutable"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Mutable.as_mutable()</span></code></a> method would not track a type that had
been copied using <code class="xref py py-meth docutils literal notranslate"><span class="pre">TypeEngine.copy()</span></code>.  This became more of
a regression in 1.1 compared to 1.0 because the <a class="reference internal" href="../core/custom_types.html#sqlalchemy.types.TypeDecorator" title="sqlalchemy.types.TypeDecorator"><code class="xref py py-class docutils literal notranslate"><span class="pre">TypeDecorator</span></code></a>
class is now a subclass of <a class="reference internal" href="../core/events.html#sqlalchemy.events.SchemaEventTarget" title="sqlalchemy.events.SchemaEventTarget"><code class="xref py py-class docutils literal notranslate"><span class="pre">SchemaEventTarget</span></code></a>, which among
other things indicates to the parent <a class="reference internal" href="../core/metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a> that the type
should be copied when the <a class="reference internal" href="../core/metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a> is.  These copies are
common when using declarative with mixins or abstract classes.</p>
<a class="changelog-reference headerlink reference internal" href="#change-adb5e82a1ca0bc723e61ea71a1da34b1">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3950">#3950</a></p>
</p>
</li>
<li><p id="change-1.1.8-2"><span class="target" id="change-9bcfdee062521c6a403c88ee73caba4f"><strong>[bug] [ext]</strong> </span><p>Added support for bound parameters, e.g. those normally set up
via <a class="reference internal" href="../orm/query.html#sqlalchemy.orm.query.Query.params" title="sqlalchemy.orm.query.Query.params"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Query.params()</span></code></a>, to the <a class="reference internal" href="../orm/extensions/baked.html#sqlalchemy.ext.baked.Result.count" title="sqlalchemy.ext.baked.Result.count"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Result.count()</span></code></a>
method.  Previously, support for parameters were omitted. Pull request
courtesy Pat Deegan.</p>
<a class="changelog-reference headerlink reference internal" href="#change-9bcfdee062521c6a403c88ee73caba4f">¶</a><p></p>
</p>
</li>
</ul>
</div>
</div>
<div class="section" id="change-1.1.7">
<h2 class="release-version">1.1.7<a class="headerlink" href="#change-1.1.7" title="Permalink to this headline">¶</a></h2>
Released: March 27, 2017<div class="section" id="change-1.1.7-orm">
<h3>orm<a class="headerlink" href="#change-1.1.7-orm" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.7-0"><span class="target" id="change-b0bee8e34495bf9ba013e0b55dcd77e6"><strong>[orm] [feature]</strong> </span><p>An <a class="reference internal" href="../orm/query.html#sqlalchemy.orm.aliased" title="sqlalchemy.orm.aliased"><code class="xref py py-func docutils literal notranslate"><span class="pre">aliased()</span></code></a> construct can now be passed to the
<a class="reference internal" href="../orm/query.html#sqlalchemy.orm.query.Query.select_entity_from" title="sqlalchemy.orm.query.Query.select_entity_from"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Query.select_entity_from()</span></code></a> method.   Entities will be pulled
from the selectable represented by the <a class="reference internal" href="../orm/query.html#sqlalchemy.orm.aliased" title="sqlalchemy.orm.aliased"><code class="xref py py-func docutils literal notranslate"><span class="pre">aliased()</span></code></a> construct.
This allows special options for <a class="reference internal" href="../orm/query.html#sqlalchemy.orm.aliased" title="sqlalchemy.orm.aliased"><code class="xref py py-func docutils literal notranslate"><span class="pre">aliased()</span></code></a> such as
<a class="reference internal" href="../orm/query.html#sqlalchemy.orm.aliased.params.adapt_on_names" title="sqlalchemy.orm.aliased"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">aliased.adapt_on_names</span></code></a> to be used in conjunction with
<a class="reference internal" href="../orm/query.html#sqlalchemy.orm.query.Query.select_entity_from" title="sqlalchemy.orm.query.Query.select_entity_from"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Query.select_entity_from()</span></code></a>.</p>
<a class="changelog-reference headerlink reference internal" href="#change-b0bee8e34495bf9ba013e0b55dcd77e6">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3933">#3933</a></p>
</p>
</li>
<li><p id="change-1.1.7-1"><span class="target" id="change-c5b1c2a712b9a9d47e5d7b5505fe2edc"><strong>[orm] [bug]</strong> </span><p>Fixed a race condition which could occur under threaded environments
as a result of the caching added via <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3915">#3915</a>.   An internal
collection of <code class="docutils literal notranslate"><span class="pre">Column</span></code> objects could be regenerated on an alias
object inappropriately, confusing a joined eager loader when it
attempts to render SQL and collect results and resulting in an
attribute error.   The collection is now generated up front before
the alias object is cached and shared among threads.</p>
<a class="changelog-reference headerlink reference internal" href="#change-c5b1c2a712b9a9d47e5d7b5505fe2edc">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3947">#3947</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-1.1.7-engine">
<h3>engine<a class="headerlink" href="#change-1.1.7-engine" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.7-2"><span class="target" id="change-34dc3f48c4597e8b0bb377c94fd6359a"><strong>[engine] [bug]</strong> </span><p>Added an exception handler that will warn for the “cause” exception on
Py2K when the “autorollback” feature of <a class="reference internal" href="../core/connections.html#sqlalchemy.engine.Connection" title="sqlalchemy.engine.Connection"><code class="xref py py-class docutils literal notranslate"><span class="pre">Connection</span></code></a> itself
raises an exception. In Py3K, the two exceptions are naturally reported
by the interpreter as one occurring during the handling of the other.
This is continuing with the series of changes for rollback failure
handling that were last visited as part of <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2696">#2696</a> in 1.0.12.</p>
<a class="changelog-reference headerlink reference internal" href="#change-34dc3f48c4597e8b0bb377c94fd6359a">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3946">#3946</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-1.1.7-sql">
<h3>sql<a class="headerlink" href="#change-1.1.7-sql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.7-3"><span class="target" id="change-d036ad5ceb8e95811fb8d234eef6ba93"><strong>[sql] [bug] [postgresql]</strong> </span><p>Added support for the <a class="reference internal" href="../core/type_api.html#sqlalchemy.types.Variant" title="sqlalchemy.types.Variant"><code class="xref py py-class docutils literal notranslate"><span class="pre">Variant</span></code></a> and the <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.SchemaType" title="sqlalchemy.types.SchemaType"><code class="xref py py-class docutils literal notranslate"><span class="pre">SchemaType</span></code></a>
objects to be compatible with each other.  That is, a variant
can be created against a type like <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.Enum" title="sqlalchemy.types.Enum"><code class="xref py py-class docutils literal notranslate"><span class="pre">Enum</span></code></a>, and the instructions
to create constraints and/or database-specific type objects will
propagate correctly as per the variant’s dialect mapping.</p>
<a class="changelog-reference headerlink reference internal" href="#change-d036ad5ceb8e95811fb8d234eef6ba93">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2892">#2892</a></p>
</p>
</li>
<li><p id="change-1.1.7-4"><span class="target" id="change-7c13c184f77fb29ff50175efb43a10db"><strong>[sql] [bug]</strong> </span><p>Fixed bug in compiler where the string identifier of a savepoint would
be cached in the identifier quoting dictionary; as these identifiers
are arbitrary, a small memory leak could occur if a single
<a class="reference internal" href="../core/connections.html#sqlalchemy.engine.Connection" title="sqlalchemy.engine.Connection"><code class="xref py py-class docutils literal notranslate"><span class="pre">Connection</span></code></a> had an unbounded number of savepoints used,
as well as if the savepoint clause constructs were used directly
with an unbounded umber of savepoint names.   The memory leak does
<strong>not</strong> impact the vast majority of cases as normally the
<a class="reference internal" href="../core/connections.html#sqlalchemy.engine.Connection" title="sqlalchemy.engine.Connection"><code class="xref py py-class docutils literal notranslate"><span class="pre">Connection</span></code></a>, which renders savepoint names with a simple
counter starting at “1”, is used on a per-transaction or
per-fixed-number-of-transactions basis before being discarded.</p>
<a class="changelog-reference headerlink reference internal" href="#change-7c13c184f77fb29ff50175efb43a10db">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3931">#3931</a></p>
</p>
</li>
<li><p id="change-1.1.7-5"><span class="target" id="change-b01af8b095f562e4415c9474e3e061e7"><strong>[sql] [bug]</strong> </span><p>Fixed bug in new “schema translate” feature where the translated schema
name would be invoked in terms of an alias name when rendered along
with a column expression; occurred only when the source translate
name was “None”.   The “schema translate” feature now only takes
effect for <a class="reference internal" href="../core/metadata.html#sqlalchemy.schema.SchemaItem" title="sqlalchemy.schema.SchemaItem"><code class="xref py py-class docutils literal notranslate"><span class="pre">SchemaItem</span></code></a> and <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.SchemaType" title="sqlalchemy.types.SchemaType"><code class="xref py py-class docutils literal notranslate"><span class="pre">SchemaType</span></code></a> subclasses,
that is, objects that correspond to a DDL-creatable structure in
a database.</p>
<a class="changelog-reference headerlink reference internal" href="#change-b01af8b095f562e4415c9474e3e061e7">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3924">#3924</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-1.1.7-oracle">
<h3>oracle<a class="headerlink" href="#change-1.1.7-oracle" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.7-6"><span class="target" id="change-d605ba539a1158e7a5e9a72b5215cbb6"><strong>[oracle] [bug]</strong> </span><p>A fix to cx_Oracle’s WITH_UNICODE mode which was uncovered by the
fact that cx_Oracle 5.3 now seems to hardcode this flag on in
the build; an internal method that uses this mode wasn’t using
the correct signature.</p>
<a class="changelog-reference headerlink reference internal" href="#change-d605ba539a1158e7a5e9a72b5215cbb6">¶</a><p>This change is also <strong>backported</strong> to: 1.0.18</p>
<p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3937">#3937</a></p>
</p>
</li>
</ul>
</div>
</div>
<div class="section" id="change-1.1.6">
<h2 class="release-version">1.1.6<a class="headerlink" href="#change-1.1.6" title="Permalink to this headline">¶</a></h2>
Released: February 28, 2017<div class="section" id="change-1.1.6-orm">
<h3>orm<a class="headerlink" href="#change-1.1.6-orm" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.6-0"><span class="target" id="change-d8500d01f76d9e5bcc075a4415e69ea1"><strong>[orm] [bug]</strong> </span><p>Addressed some long unattended performance concerns within the joined
eager loader query construction system that have accumulated since
earlier versions as a result of increased abstraction. The use of ad-
hoc <a class="reference internal" href="../orm/query.html#sqlalchemy.orm.util.AliasedClass" title="sqlalchemy.orm.util.AliasedClass"><code class="xref py py-class docutils literal notranslate"><span class="pre">AliasedClass</span></code></a> objects per query, which produces lots of
column lookup overhead each time, has been replaced with a cached
approach that makes use of a small pool of <a class="reference internal" href="../orm/query.html#sqlalchemy.orm.util.AliasedClass" title="sqlalchemy.orm.util.AliasedClass"><code class="xref py py-class docutils literal notranslate"><span class="pre">AliasedClass</span></code></a>
objects that are reused between invocations of joined eager loading.
Some mechanics involving eager join path construction have also been
optimized.   Callcounts for an end-to-end query construction + single
row fetch test with a worst-case joined loader scenario have been
reduced by about 60% vs. 1.1.5 and 42% vs. that of 0.8.6.</p>
<a class="changelog-reference headerlink reference internal" href="#change-d8500d01f76d9e5bcc075a4415e69ea1">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3915">#3915</a></p>
</p>
</li>
<li><p id="change-1.1.6-1"><span class="target" id="change-4c9d0c6b21432a71e255fe0159d0dc05"><strong>[orm] [bug]</strong> </span><p>Fixed a major inefficiency in the “eager_defaults” feature whereby
an unnecessary SELECT would be emitted for column values where the
ORM had explicitly inserted NULL, corresponding to attributes that
were unset on the object but did not have any server default
specified, as well as expired attributes on update that nevertheless
had no server onupdate set up.   As these columns are not part of the
RETURNING that eager_defaults tries to use, they should not be
post-SELECTed either.</p>
<a class="changelog-reference headerlink reference internal" href="#change-4c9d0c6b21432a71e255fe0159d0dc05">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3909">#3909</a></p>
</p>
</li>
<li><p id="change-1.1.6-2"><span class="target" id="change-abda3212f9588ec733401527b85ce314"><strong>[orm] [bug]</strong> </span><p>Fixed two closely related bugs involving the mapper eager_defaults
flag in conjunction with single-table inheritance; one where the
eager defaults logic would inadvertently try to access a column
that’s part of the mapper’s “exclude_properties” list (used by
Declarative with single table inheritance) during the eager defaults
fetch, and the other where the full load of the row in order to
fetch the defaults would fail to use the correct inheriting mapper.</p>
<a class="changelog-reference headerlink reference internal" href="#change-abda3212f9588ec733401527b85ce314">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3908">#3908</a></p>
</p>
</li>
<li><p id="change-1.1.6-3"><span class="target" id="change-4ec53f2068f4d02aa50d325d7f3a806b"><strong>[orm] [bug]</strong> </span><p>Fixed bug first introduced in 0.9.7 as a result of <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3106">#3106</a>
which would cause an incorrect query in some forms of multi-level
subqueryload against aliased entities, with an unnecessary extra
FROM entity in the innermost subquery.</p>
<a class="changelog-reference headerlink reference internal" href="#change-4ec53f2068f4d02aa50d325d7f3a806b">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3893">#3893</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-1.1.6-orm-declarative">
<h3>orm declarative<a class="headerlink" href="#change-1.1.6-orm-declarative" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.6-4"><span class="target" id="change-1ee733675e1ce1b2718bde1b13db63fd"><strong>[bug] [declarative] [orm]</strong> </span><p>Fixed bug where the “automatic exclude” feature of declarative that
ensures a column local to a single table inheritance subclass does
not appear as an attribute on other derivations of the base would
not take effect for multiple levels of subclassing from the base.</p>
<a class="changelog-reference headerlink reference internal" href="#change-1ee733675e1ce1b2718bde1b13db63fd">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3895">#3895</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-1.1.6-sql">
<h3>sql<a class="headerlink" href="#change-1.1.6-sql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.6-5"><span class="target" id="change-04b5db2e04a6d5252f6badb9fe3a17b4"><strong>[sql] [bug]</strong> </span><p>Fixed bug whereby the <a class="reference internal" href="../core/events.html#sqlalchemy.events.DDLEvents.column_reflect" title="sqlalchemy.events.DDLEvents.column_reflect"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DDLEvents.column_reflect()</span></code></a> event would not
allow a non-textual expression to be passed as the value of the
“default” for the new column, such as a <a class="reference internal" href="../core/defaults.html#sqlalchemy.schema.FetchedValue" title="sqlalchemy.schema.FetchedValue"><code class="xref py py-class docutils literal notranslate"><span class="pre">FetchedValue</span></code></a>
object to indicate a generic triggered default or a
<a class="reference internal" href="../core/sqlelement.html#sqlalchemy.sql.expression.text" title="sqlalchemy.sql.expression.text"><code class="xref py py-func docutils literal notranslate"><span class="pre">text()</span></code></a> construct.  Clarified the documentation
in this regard as well.</p>
<a class="changelog-reference headerlink reference internal" href="#change-04b5db2e04a6d5252f6badb9fe3a17b4">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3905">#3905</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-1.1.6-postgresql">
<h3>postgresql<a class="headerlink" href="#change-1.1.6-postgresql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.6-6"><span class="target" id="change-1c328da5c9c8add20c531fbb196b8543"><strong>[postgresql] [bug]</strong> </span><p>Added regular expressions for the “IMPORT FOREIGN SCHEMA”,
“REFRESH MATERIALIZED VIEW” PostgreSQL statements so that they
autocommit when invoked via a connection or engine without
an explicit transaction.  Pull requests courtesy Frazer McLean
and Paweł Stiasny.</p>
<a class="changelog-reference headerlink reference internal" href="#change-1c328da5c9c8add20c531fbb196b8543">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3804">#3804</a></p>
</p>
</li>
<li><p id="change-1.1.6-7"><span class="target" id="change-b9562210984407182ca729e50bcc6ea8"><strong>[postgresql] [bug]</strong> </span><p>Fixed bug in PostgreSQL <a class="reference internal" href="../dialects/postgresql.html#sqlalchemy.dialects.postgresql.ExcludeConstraint" title="sqlalchemy.dialects.postgresql.ExcludeConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">ExcludeConstraint</span></code></a> where the
“whereclause” and “using” parameters would not be copied during an
operation like <a class="reference internal" href="../core/metadata.html#sqlalchemy.schema.Table.tometadata" title="sqlalchemy.schema.Table.tometadata"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Table.tometadata()</span></code></a>.</p>
<a class="changelog-reference headerlink reference internal" href="#change-b9562210984407182ca729e50bcc6ea8">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3900">#3900</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-1.1.6-mysql">
<h3>mysql<a class="headerlink" href="#change-1.1.6-mysql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.6-8"><span class="target" id="change-45f8444a2bd57fdc56a594105ad3193d"><strong>[mysql] [bug]</strong> </span><p>Added new MySQL 8.0 reserved words to the MySQL dialect for proper
quoting.  Pull request courtesy Hanno Schlichting.</p>
<a class="changelog-reference headerlink reference internal" href="#change-45f8444a2bd57fdc56a594105ad3193d">¶</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-1.1.6-mssql">
<h3>mssql<a class="headerlink" href="#change-1.1.6-mssql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.6-9"><span class="target" id="change-9e829fa9b6ce26f244a851c2ccc070e3"><strong>[mssql] [bug]</strong> </span><p>Added a version check to the “get_isolation_level” feature, which is
invoked upon first connect, so that it skips for SQL Server version
2000, as the necessary system view is not available prior to SQL Server
2005.</p>
<a class="changelog-reference headerlink reference internal" href="#change-9e829fa9b6ce26f244a851c2ccc070e3">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3898">#3898</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-1.1.6-misc">
<h3>misc<a class="headerlink" href="#change-1.1.6-misc" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.6-10"><span class="target" id="change-3259723b8e663f9fb6b5398da7b34e65"><strong>[feature] [ext]</strong> </span><p>Added <a class="reference internal" href="../orm/extensions/baked.html#sqlalchemy.ext.baked.Result.scalar" title="sqlalchemy.ext.baked.Result.scalar"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Result.scalar()</span></code></a> and <a class="reference internal" href="../orm/extensions/baked.html#sqlalchemy.ext.baked.Result.count" title="sqlalchemy.ext.baked.Result.count"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Result.count()</span></code></a>
to the “baked” query system.</p>
<a class="changelog-reference headerlink reference internal" href="#change-3259723b8e663f9fb6b5398da7b34e65">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3896">#3896</a></p>
</p>
</li>
<li><p id="change-1.1.6-11"><span class="target" id="change-d83115b9814e047770cae100c2b5b8a7"><strong>[bug] [ext]</strong> </span><p>Fixed bug in new <a class="reference internal" href="../orm/extensions/indexable.html#module-sqlalchemy.ext.indexable" title="sqlalchemy.ext.indexable"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sqlalchemy.ext.indexable</span></code></a> extension
where setting of a property that itself refers to another property
would fail.</p>
<a class="changelog-reference headerlink reference internal" href="#change-d83115b9814e047770cae100c2b5b8a7">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3901">#3901</a></p>
</p>
</li>
</ul>
</div>
</div>
<div class="section" id="change-1.1.5">
<h2 class="release-version">1.1.5<a class="headerlink" href="#change-1.1.5" title="Permalink to this headline">¶</a></h2>
Released: January 17, 2017<div class="section" id="change-1.1.5-orm">
<h3>orm<a class="headerlink" href="#change-1.1.5-orm" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.5-0"><span class="target" id="change-4cf504b07844f70ff0ce65e1e8c14582"><strong>[orm] [bug]</strong> </span><p>Fixed bug involving joined eager loading against multiple entities
when polymorphic inheritance is also in use which would throw
“‘NoneType’ object has no attribute ‘isa’”.  The issue was introduced
by the fix for <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3611">#3611</a>.</p>
<a class="changelog-reference headerlink reference internal" href="#change-4cf504b07844f70ff0ce65e1e8c14582">¶</a><p>This change is also <strong>backported</strong> to: 1.0.17</p>
<p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3884">#3884</a></p>
</p>
</li>
<li><p id="change-1.1.5-1"><span class="target" id="change-b4046714513423893d88d93f921385cd"><strong>[orm] [bug]</strong> </span><p>Fixed bug in subquery loading where an object encountered as an
“existing” row, e.g. already loaded from a different path in the
same query, would not invoke subquery loaders for unloaded attributes
that specified this loading.  This issue is in the same area
as that of <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3431">#3431</a>, <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3811">#3811</a> which involved
similar issues with joined loading.</p>
<a class="changelog-reference headerlink reference internal" href="#change-b4046714513423893d88d93f921385cd">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3854">#3854</a></p>
</p>
</li>
<li><p id="change-1.1.5-2"><span class="target" id="change-ac12310a1a3f6d7aac171086c017dae7"><strong>[orm] [bug]</strong> </span><p>The <a class="reference internal" href="../orm/session_api.html#sqlalchemy.orm.session.Session.no_autoflush" title="sqlalchemy.orm.session.Session.no_autoflush"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Session.no_autoflush</span></code></a> context manager now ensures that
the autoflush flag is reset within a “finally” block, so that if
an exception is raised within the block, the state still resets
appropriately.  Pull request courtesy Emin Arakelian.</p>
<a class="changelog-reference headerlink reference internal" href="#change-ac12310a1a3f6d7aac171086c017dae7">¶</a><p></p>
</p>
</li>
<li><p id="change-1.1.5-3"><span class="target" id="change-c53c13879869a92d93f303d25cc9dedd"><strong>[orm] [bug]</strong> </span><p>Fixed bug where the single-table inheritance query criteria would not
be inserted into the query in the case that the <a class="reference internal" href="../orm/query.html#sqlalchemy.orm.query.Bundle" title="sqlalchemy.orm.query.Bundle"><code class="xref py py-class docutils literal notranslate"><span class="pre">Bundle</span></code></a>
construct were used as the selection criteria.</p>
<a class="changelog-reference headerlink reference internal" href="#change-c53c13879869a92d93f303d25cc9dedd">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3874">#3874</a></p>
</p>
</li>
<li><p id="change-1.1.5-4"><span class="target" id="change-52244e09ca8e476b45ab43def377c71e"><strong>[orm] [bug]</strong> </span><p>Fixed bug related to <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3177">#3177</a>, where a UNION or other set operation
emitted by a <a class="reference internal" href="../orm/query.html#sqlalchemy.orm.query.Query" title="sqlalchemy.orm.query.Query"><code class="xref py py-class docutils literal notranslate"><span class="pre">Query</span></code></a> would apply “single-inheritance” criteria
to the outside of the union (also referencing the wrong selectable),
even though this criteria is now expected to
be already present on the inside subqueries.  The single-inheritance
criteria is now omitted once union() or another set operation is
called against <a class="reference internal" href="../orm/query.html#sqlalchemy.orm.query.Query" title="sqlalchemy.orm.query.Query"><code class="xref py py-class docutils literal notranslate"><span class="pre">Query</span></code></a> in the same way as <a class="reference internal" href="../orm/query.html#sqlalchemy.orm.query.Query.from_self" title="sqlalchemy.orm.query.Query.from_self"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Query.from_self()</span></code></a>.</p>
<a class="changelog-reference headerlink reference internal" href="#change-52244e09ca8e476b45ab43def377c71e">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3856">#3856</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-1.1.5-engine">
<h3>engine<a class="headerlink" href="#change-1.1.5-engine" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.5-5"><span class="target" id="change-d80a5320198fe558014ce9adf0b16253"><strong>[engine] [bug]</strong> </span><p>The “extend_existing” option of <a class="reference internal" href="../core/metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a> reflection would
cause indexes and constraints to be doubled up in the case that the parameter
were used with <a class="reference internal" href="../core/metadata.html#sqlalchemy.schema.MetaData.reflect" title="sqlalchemy.schema.MetaData.reflect"><code class="xref py py-meth docutils literal notranslate"><span class="pre">MetaData.reflect()</span></code></a> (as the automap extension does)
due to tables being reflected both within the foreign key path as well
as directly.  A new de-duplicating set is passed through within the
<a class="reference internal" href="../core/metadata.html#sqlalchemy.schema.MetaData.reflect" title="sqlalchemy.schema.MetaData.reflect"><code class="xref py py-meth docutils literal notranslate"><span class="pre">MetaData.reflect()</span></code></a> sequence to prevent double reflection in this
way.</p>
<a class="changelog-reference headerlink reference internal" href="#change-d80a5320198fe558014ce9adf0b16253">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3861">#3861</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-1.1.5-sql">
<h3>sql<a class="headerlink" href="#change-1.1.5-sql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.5-6"><span class="target" id="change-49047d9353e79dba12a93b84dc2af4e3"><strong>[sql] [bug]</strong> </span><p>Fixed bug originally introduced in 0.9 via <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1068">#1068</a> where
order_by(&lt;some Label()&gt;) would order by the label name based on name
alone, that is, even if the labeled expression were not at all the same
expression otherwise present, implicitly or explicitly, in the
selectable.  The logic that orders by label now ensures that the
labeled expression is related to the one that resolves to that name
before ordering by the label name; additionally, the name has to
resolve to an actual label explicit in the expression elsewhere, not
just a column name.  This logic is carefully kept separate from the
order by(textual name) feature that has a slightly different purpose.</p>
<a class="changelog-reference headerlink reference internal" href="#change-49047d9353e79dba12a93b84dc2af4e3">¶</a><p></p>
</p>
</li>
<li><p id="change-1.1.5-7"><span class="target" id="change-77d647ab4eb38f6ded1617afdd668bbc"><strong>[sql] [bug]</strong> </span><p>Fixed 1.1 regression where “import <a href="#id5"><span class="problematic" id="id6">*</span></a>” would not work for
sqlalchemy.sql.expression, due to mis-spelled <code class="docutils literal notranslate"><span class="pre">any_</span></code> and <code class="docutils literal notranslate"><span class="pre">all_</span></code>
functions.</p>
<a class="changelog-reference headerlink reference internal" href="#change-77d647ab4eb38f6ded1617afdd668bbc">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3878">#3878</a></p>
</p>
</li>
<li><p id="change-1.1.5-8"><span class="target" id="change-22fa1234e67c73d892d4fcd5bab4afc8"><strong>[sql] [bug]</strong> </span><p>The engine URL embedded in the exception for “could not reflect”
in <a class="reference internal" href="../core/metadata.html#sqlalchemy.schema.MetaData.reflect" title="sqlalchemy.schema.MetaData.reflect"><code class="xref py py-meth docutils literal notranslate"><span class="pre">MetaData.reflect()</span></code></a> now conceals the password; also
the <code class="docutils literal notranslate"><span class="pre">__repr__</span></code> for <code class="xref py py-class docutils literal notranslate"><span class="pre">TLEngine</span></code> now acts like that of
<a class="reference internal" href="../core/connections.html#sqlalchemy.engine.Engine" title="sqlalchemy.engine.Engine"><code class="xref py py-class docutils literal notranslate"><span class="pre">Engine</span></code></a>, concealing the URL password.  Pull request courtesy
Valery Yundin.</p>
<a class="changelog-reference headerlink reference internal" href="#change-22fa1234e67c73d892d4fcd5bab4afc8">¶</a><p></p>
</p>
</li>
<li><p id="change-1.1.5-9"><span class="target" id="change-f08176f3917c28f77b56c47e25f0a957"><strong>[sql] [bug]</strong> </span><p>Fixed issue in <a class="reference internal" href="../core/type_api.html#sqlalchemy.types.Variant" title="sqlalchemy.types.Variant"><code class="xref py py-class docutils literal notranslate"><span class="pre">Variant</span></code></a> where the “right hand coercion” logic,
inherited from <a class="reference internal" href="../core/custom_types.html#sqlalchemy.types.TypeDecorator" title="sqlalchemy.types.TypeDecorator"><code class="xref py py-class docutils literal notranslate"><span class="pre">TypeDecorator</span></code></a>, would
coerce the right-hand side into the <a class="reference internal" href="../core/type_api.html#sqlalchemy.types.Variant" title="sqlalchemy.types.Variant"><code class="xref py py-class docutils literal notranslate"><span class="pre">Variant</span></code></a> itself, rather than
what the default type for the <a class="reference internal" href="../core/type_api.html#sqlalchemy.types.Variant" title="sqlalchemy.types.Variant"><code class="xref py py-class docutils literal notranslate"><span class="pre">Variant</span></code></a> would do.   In the
case of <a class="reference internal" href="../core/type_api.html#sqlalchemy.types.Variant" title="sqlalchemy.types.Variant"><code class="xref py py-class docutils literal notranslate"><span class="pre">Variant</span></code></a>, we want the type to act mostly like the base
type so the default logic of <a class="reference internal" href="../core/custom_types.html#sqlalchemy.types.TypeDecorator" title="sqlalchemy.types.TypeDecorator"><code class="xref py py-class docutils literal notranslate"><span class="pre">TypeDecorator</span></code></a> is now overridden
to fall back to the underlying wrapped type’s logic.   Is mostly relevant
for JSON at the moment.</p>
<a class="changelog-reference headerlink reference internal" href="#change-f08176f3917c28f77b56c47e25f0a957">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3859">#3859</a></p>
</p>
</li>
<li><p id="change-1.1.5-10"><span class="target" id="change-3c25afcac4d7a287d7b4c5217c8d1bde"><strong>[sql] [bg]</strong> </span><p>Fixed bug where literal_binds compiler flag was not honored by the
<a class="reference internal" href="../core/dml.html#sqlalchemy.sql.expression.Insert" title="sqlalchemy.sql.expression.Insert"><code class="xref py py-class docutils literal notranslate"><span class="pre">Insert</span></code></a> construct for the “multiple values” feature; the
subsequent values are now rendered as literals.</p>
<a class="changelog-reference headerlink reference internal" href="#change-3c25afcac4d7a287d7b4c5217c8d1bde">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3880">#3880</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-1.1.5-postgresql">
<h3>postgresql<a class="headerlink" href="#change-1.1.5-postgresql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.5-11"><span class="target" id="change-9f09a4174f1493f3aa697386cdaeba48"><strong>[postgresql] [bug]</strong> </span><p>Fixed bug in new “ON CONFLICT DO UPDATE” feature where the “set”
values for the UPDATE clause would not be subject to type-level
processing, as normally takes effect to handle both user-defined
type level conversions as well as dialect-required conversions, such
as those required for JSON datatypes.   Additionally, clarified that
the keys in the <code class="docutils literal notranslate"><span class="pre">set_</span></code> dictionary should match the “key” of the
column, if distinct from the column name.  A warning is emitted
for remaining column names that don’t match column keys; for
compatibility reasons, these are emitted as they were previously.</p>
<a class="changelog-reference headerlink reference internal" href="#change-9f09a4174f1493f3aa697386cdaeba48">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3888">#3888</a></p>
</p>
</li>
<li><p id="change-1.1.5-12"><span class="target" id="change-6ad76c3b093a976445321ade675965c3"><strong>[postgresql] [bug]</strong> </span><p>The <code class="xref py py-class docutils literal notranslate"><span class="pre">TIME</span></code> and <code class="xref py py-class docutils literal notranslate"><span class="pre">TIMESTAMP</span></code>
datatypes now support a setting of zero for “precision”; previously
a zero would be ignored.  Pull request courtesy Ionuț Ciocîrlan.</p>
<a class="changelog-reference headerlink reference internal" href="#change-6ad76c3b093a976445321ade675965c3">¶</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-1.1.5-mysql">
<h3>mysql<a class="headerlink" href="#change-1.1.5-mysql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.5-13"><span class="target" id="change-ef89884919e949f979c685b954278717"><strong>[mysql] [feature]</strong> </span><p>Added a new parameter <code class="docutils literal notranslate"><span class="pre">mysql_prefix</span></code> supported by the <a class="reference internal" href="../core/constraints.html#sqlalchemy.schema.Index" title="sqlalchemy.schema.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a>
construct, allows specification of MySQL-specific prefixes such as
“FULLTEXT”. Pull request courtesy Joseph Schorr.</p>
<a class="changelog-reference headerlink reference internal" href="#change-ef89884919e949f979c685b954278717">¶</a><p></p>
</p>
</li>
<li><p id="change-1.1.5-14"><span class="target" id="change-f9a2e049c29a5c8bd02e66514cd8b6f2"><strong>[mysql] [bug]</strong> </span><p>The MySQL dialect now will not warn when a reflected column has a
“COMMENT” keyword on it, but note however the comment is not yet
reflected; this is on the roadmap for a future release.  Pull request
courtesy Lele Long.</p>
<a class="changelog-reference headerlink reference internal" href="#change-f9a2e049c29a5c8bd02e66514cd8b6f2">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3867">#3867</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-1.1.5-mssql">
<h3>mssql<a class="headerlink" href="#change-1.1.5-mssql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.5-15"><span class="target" id="change-2103b1f69d35e0deaf0b0cbf7b64458a"><strong>[mssql] [bug]</strong> </span><p>Fixed bug where SQL Server dialects would attempt to select the
last row identity for an INSERT from SELECT, failing in the case when
the SELECT has no rows.  For such a statement,
the inline flag is set to True indicating no last primary key
should be fetched.</p>
<a class="changelog-reference headerlink reference internal" href="#change-2103b1f69d35e0deaf0b0cbf7b64458a">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3876">#3876</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-1.1.5-oracle">
<h3>oracle<a class="headerlink" href="#change-1.1.5-oracle" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.5-16"><span class="target" id="change-6fe3a509cfc9411b606c03ca8217c4f1"><strong>[oracle] [bug] [postgresql]</strong> </span><p>Fixed bug where an INSERT from SELECT where the source table contains
an autoincrementing Sequence would fail to compile correctly.</p>
<a class="changelog-reference headerlink reference internal" href="#change-6fe3a509cfc9411b606c03ca8217c4f1">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3877">#3877</a></p>
</p>
</li>
<li><p id="change-1.1.5-17"><span class="target" id="change-6380e9242fe893aac70bdab36840521a"><strong>[oracle] [bug]</strong> </span><p>Fixed bug where the “COMPRESSION” keyword was used in the ALL_TABLES
query on Oracle 9.2; even though Oracle docs state table compression
was introduced in 9i, the actual column is not present until
10.1.</p>
<a class="changelog-reference headerlink reference internal" href="#change-6380e9242fe893aac70bdab36840521a">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3875">#3875</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-1.1.5-firebird">
<h3>firebird<a class="headerlink" href="#change-1.1.5-firebird" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.5-18"><span class="target" id="change-7a987a781bd92a0d9c064189c0b7fec7"><strong>[firebird] [bug]</strong> </span><p>Ported the fix for Oracle quoted-lowercase names to Firebird, so that
a table name that is quoted as lower case can be reflected properly
including when the table name comes from the get_table_names()
inspection function.</p>
<a class="changelog-reference headerlink reference internal" href="#change-7a987a781bd92a0d9c064189c0b7fec7">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3548">#3548</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-1.1.5-misc">
<h3>misc<a class="headerlink" href="#change-1.1.5-misc" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.5-19"><span class="target" id="change-6cc9cecfdc88a1229f385fa3d7262216"><strong>[bug] [py3k]</strong> </span><p>Fixed Python 3.6 DeprecationWarnings related to escaped strings without
the ‘r’ modifier, and added test coverage for Python 3.6.</p>
<a class="changelog-reference headerlink reference internal" href="#change-6cc9cecfdc88a1229f385fa3d7262216">¶</a><p>This change is also <strong>backported</strong> to: 1.0.17</p>
<p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3886">#3886</a></p>
</p>
</li>
<li><p id="change-1.1.5-20"><span class="target" id="change-08616229b7822900bc3455177bd06368"><strong>[bug] [examples]</strong> </span><p>Fixed two issues with the versioned_history example, one is that
the history table now gets autoincrement=False to avoid 1.1’s new
errors regarding composite primary keys with autoincrement; the other
is that the sqlite_autoincrement flag is now used to ensure on SQLite,
unique identifiers are used for the lifespan of a table even if
some rows are deleted.  Pull request courtesy Carlos García Montoro.</p>
<a class="changelog-reference headerlink reference internal" href="#change-08616229b7822900bc3455177bd06368">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3872">#3872</a></p>
</p>
</li>
</ul>
</div>
</div>
<div class="section" id="change-1.1.4">
<h2 class="release-version">1.1.4<a class="headerlink" href="#change-1.1.4" title="Permalink to this headline">¶</a></h2>
Released: November 15, 2016<div class="section" id="change-1.1.4-orm">
<h3>orm<a class="headerlink" href="#change-1.1.4-orm" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.4-0"><span class="target" id="change-a2ddd168aa3f6ba31ffc00ff5e67cca5"><strong>[orm] [bug]</strong> </span><p>Fixed bug in <a class="reference internal" href="../orm/session_api.html#sqlalchemy.orm.session.Session.bulk_update_mappings" title="sqlalchemy.orm.session.Session.bulk_update_mappings"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.bulk_update_mappings()</span></code></a> where an alternate-named
primary key attribute would not track properly into the UPDATE statement.</p>
<a class="changelog-reference headerlink reference internal" href="#change-a2ddd168aa3f6ba31ffc00ff5e67cca5">¶</a><p>This change is also <strong>backported</strong> to: 1.0.16</p>
<p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3849">#3849</a></p>
</p>
</li>
<li><p id="change-1.1.4-1"><span class="target" id="change-c88c4ec85440bee1ac9f57cf79f3acc5"><strong>[orm] [bug]</strong> </span><p>Fixed bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.bulk_save()</span></code> where an UPDATE would
not function correctly in conjunction with a mapping that
implements a version id counter.</p>
<a class="changelog-reference headerlink reference internal" href="#change-c88c4ec85440bee1ac9f57cf79f3acc5">¶</a><p>This change is also <strong>backported</strong> to: 1.0.16</p>
<p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3781">#3781</a></p>
</p>
</li>
<li><p id="change-1.1.4-2"><span class="target" id="change-7faa283e62df88560eab7b3b50384761"><strong>[orm] [bug]</strong> </span><p>Fixed bug where the <a class="reference internal" href="../orm/mapping_api.html#sqlalchemy.orm.Mapper.attrs" title="sqlalchemy.orm.Mapper.attrs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Mapper.attrs</span></code></a>,
<a class="reference internal" href="../orm/mapping_api.html#sqlalchemy.orm.Mapper.all_orm_descriptors" title="sqlalchemy.orm.Mapper.all_orm_descriptors"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Mapper.all_orm_descriptors</span></code></a> and other derived attributes would
fail to refresh when mapper properties or other ORM constructs were
added to the mapper/class after these  accessors were first called.</p>
<a class="changelog-reference headerlink reference internal" href="#change-7faa283e62df88560eab7b3b50384761">¶</a><p>This change is also <strong>backported</strong> to: 1.0.16</p>
<p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3778">#3778</a></p>
</p>
</li>
<li><p id="change-1.1.4-3"><span class="target" id="change-66023c0b7b2cf3bee9743a4290034dbc"><strong>[orm] [bug]</strong> </span><p>Fixed regression in collections due to <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3457">#3457</a> whereby
deserialize during pickle or deepcopy would fail to establish all
attributes of an ORM collection, causing further mutation operations to
fail.</p>
<a class="changelog-reference headerlink reference internal" href="#change-66023c0b7b2cf3bee9743a4290034dbc">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3852">#3852</a></p>
</p>
</li>
<li><p id="change-1.1.4-4"><span class="target" id="change-f4d88a773bbd50138745c72b669e98fb"><strong>[orm] [bug]</strong> </span><p>Fixed long-standing bug where the “noload” relationship loading
strategy would cause backrefs and/or back_populates options to be
ignored.</p>
<a class="changelog-reference headerlink reference internal" href="#change-f4d88a773bbd50138745c72b669e98fb">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3845">#3845</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-1.1.4-engine">
<h3>engine<a class="headerlink" href="#change-1.1.4-engine" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.4-5"><span class="target" id="change-6cd42a93d5c62542cbff718bf9afeccc"><strong>[engine] [bug]</strong> </span><p>Removed long-broken “default_schema_name()” method from
<a class="reference internal" href="../core/connections.html#sqlalchemy.engine.Connection" title="sqlalchemy.engine.Connection"><code class="xref py py-class docutils literal notranslate"><span class="pre">Connection</span></code></a>.  This method was left over from a very old
version and was non-working (e.g. would raise).  Pull request
courtesy Benjamin Dopplinger.</p>
<a class="changelog-reference headerlink reference internal" href="#change-6cd42a93d5c62542cbff718bf9afeccc">¶</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-1.1.4-sql">
<h3>sql<a class="headerlink" href="#change-1.1.4-sql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.4-6"><span class="target" id="change-abaf4e2e1d2dcbdbf70c438ab922abdc"><strong>[sql] [bug]</strong> </span><p>Fixed bug where newly added warning for primary key on insert w/o
autoincrement setting (see <a class="reference internal" href="migration_11.html#change-3216"><span class="std std-ref">The .autoincrement directive is no longer implicitly enabled for a composite primary key column</span></a>) would fail to emit
correctly when invoked upon a lower-case <a class="reference internal" href="../core/selectable.html#sqlalchemy.sql.expression.table" title="sqlalchemy.sql.expression.table"><code class="xref py py-func docutils literal notranslate"><span class="pre">table()</span></code></a> construct.</p>
<a class="changelog-reference headerlink reference internal" href="#change-abaf4e2e1d2dcbdbf70c438ab922abdc">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3842">#3842</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-1.1.4-postgresql">
<h3>postgresql<a class="headerlink" href="#change-1.1.4-postgresql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.4-7"><span class="target" id="change-6893f20c14174beacfe03ec13a25e51e"><strong>[postgresql] [bug]</strong> </span><p>Fixed regression caused by the fix in <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3807">#3807</a> (version 1.1.0)
where we ensured that the tablename was qualified in the WHERE clause
of the DO UPDATE portion of PostgreSQL’s ON CONFLICT, however you
<em>cannot</em> put the table name in the  WHERE clause in the actual ON
CONFLICT itself.   This was an incorrect assumption, so that portion
of the change in <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3807">#3807</a> is rolled back.</p>
<a class="changelog-reference headerlink reference internal" href="#change-6893f20c14174beacfe03ec13a25e51e">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3807">#3807</a>, <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3846">#3846</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-1.1.4-mysql">
<h3>mysql<a class="headerlink" href="#change-1.1.4-mysql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.4-8"><span class="target" id="change-fb6164299483dd0c583b66267722821a"><strong>[mysql] [feature]</strong> </span><p>Added support for server side cursors to the mysqlclient and
pymysql dialects.   This feature is available via the
<a class="reference internal" href="../core/connections.html#sqlalchemy.engine.Connection.execution_options.params.stream_results" title="sqlalchemy.engine.Connection.execution_options"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">Connection.execution_options.stream_results</span></code></a> flag as well
as the <code class="docutils literal notranslate"><span class="pre">server_side_cursors=True</span></code> dialect argument in the
same way that it has been for psycopg2 on PostgreSQL.  Pull request
courtesy Roman Podoliaka.</p>
<a class="changelog-reference headerlink reference internal" href="#change-fb6164299483dd0c583b66267722821a">¶</a><p></p>
</p>
</li>
<li><p id="change-1.1.4-9"><span class="target" id="change-8b9d521e2251e7d8dd019032d450d800"><strong>[mysql] [bug]</strong> </span><p>MySQL’s native ENUM type supports any non-valid value being sent, and
in response will return a blank string.  A hardcoded rule to check for
“is returning the blank string” has been added to the  MySQL
implementation for ENUM so that this blank string is returned to the
application rather than being rejected as a non-valid value.  Note that
if your MySQL enum is linking values to objects, you still get the
blank string back.</p>
<a class="changelog-reference headerlink reference internal" href="#change-8b9d521e2251e7d8dd019032d450d800">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3841">#3841</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-1.1.4-sqlite">
<h3>sqlite<a class="headerlink" href="#change-1.1.4-sqlite" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.4-10"><span class="target" id="change-d4e9cfa11d91466244b8e9457ded73bc"><strong>[sqlite] [bug]</strong> </span><p>Added quotes to the PRAGMA directives in the pysqlcipher dialect
to support additional cipher arguments appropriately.  Pull request
courtesy Kevin Jurczyk.</p>
<a class="changelog-reference headerlink reference internal" href="#change-d4e9cfa11d91466244b8e9457ded73bc">¶</a><p></p>
</p>
</li>
<li><p id="change-1.1.4-11"><span class="target" id="change-e8e3053dd58e114126054f9c4a7f7b18"><strong>[sqlite] [bug] [py3k]</strong> </span><p>Added an optional import for the pysqlcipher3 DBAPI when using the
pysqlcipher dialect.  This package will attempt to be imported
if the Python-2 only pysqlcipher DBAPI is non-present.
Pull request courtesy Kevin Jurczyk.</p>
<a class="changelog-reference headerlink reference internal" href="#change-e8e3053dd58e114126054f9c4a7f7b18">¶</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-1.1.4-mssql">
<h3>mssql<a class="headerlink" href="#change-1.1.4-mssql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.4-12"><span class="target" id="change-4d008988dead992b6f4fec28b347b442"><strong>[mssql] [bug]</strong> </span><p>Fixed bug in pyodbc dialect (as well as in the mostly non-working
adodbapi dialect) whereby a semicolon present in the password
or username fields could be interpreted as a separator for another
token; the values are now quoted when semicolons are present.</p>
<a class="changelog-reference headerlink reference internal" href="#change-4d008988dead992b6f4fec28b347b442">¶</a><p>This change is also <strong>backported</strong> to: 1.0.16</p>
<p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3762">#3762</a></p>
</p>
</li>
</ul>
</div>
</div>
<div class="section" id="change-1.1.3">
<h2 class="release-version">1.1.3<a class="headerlink" href="#change-1.1.3" title="Permalink to this headline">¶</a></h2>
Released: October 27, 2016<div class="section" id="change-1.1.3-orm">
<h3>orm<a class="headerlink" href="#change-1.1.3-orm" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.3-0"><span class="target" id="change-718aeeb705a87e36e39b887c33bc4e5b"><strong>[orm] [bug]</strong> </span><p>Fixed regression caused by <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2677">#2677</a> whereby calling
<a class="reference internal" href="../orm/session_api.html#sqlalchemy.orm.session.Session.delete" title="sqlalchemy.orm.session.Session.delete"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.delete()</span></code></a> on an object that was already flushed as
deleted in that session would fail to set up the object in the
identity map (or reject the object), causing flush errors as the
object were in a state not accommodated by the unit of work.
The pre-1.1 behavior in this case has been restored, which is that
the object is put back into the identity map so that the DELETE
statement will be attempted again, which emits a warning that the number
of expected rows was not matched (unless the row were restored outside
of the session).</p>
<a class="changelog-reference headerlink reference internal" href="#change-718aeeb705a87e36e39b887c33bc4e5b">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3839">#3839</a></p>
</p>
</li>
<li><p id="change-1.1.3-1"><span class="target" id="change-5c3a51d7401af8e255be69a94fdf6e6a"><strong>[orm] [bug]</strong> </span><p>Fixed regression where some <a class="reference internal" href="../orm/query.html#sqlalchemy.orm.query.Query" title="sqlalchemy.orm.query.Query"><code class="xref py py-class docutils literal notranslate"><span class="pre">Query</span></code></a> methods like
<a class="reference internal" href="../orm/query.html#sqlalchemy.orm.query.Query.update" title="sqlalchemy.orm.query.Query.update"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Query.update()</span></code></a> and others would fail if the <a class="reference internal" href="../orm/query.html#sqlalchemy.orm.query.Query" title="sqlalchemy.orm.query.Query"><code class="xref py py-class docutils literal notranslate"><span class="pre">Query</span></code></a>
were against a series of mapped columns, rather than the mapped
entity as a whole.</p>
<a class="changelog-reference headerlink reference internal" href="#change-5c3a51d7401af8e255be69a94fdf6e6a">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3836">#3836</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-1.1.3-sql">
<h3>sql<a class="headerlink" href="#change-1.1.3-sql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.3-2"><span class="target" id="change-6c391020319fc51af47f0800e17f8099"><strong>[sql] [bug]</strong> </span><p>Fixed bug involving new value translation and validation feature
in <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.Enum" title="sqlalchemy.types.Enum"><code class="xref py py-class docutils literal notranslate"><span class="pre">Enum</span></code></a> whereby using the enum object in a string
concatenation would maintain the <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.Enum" title="sqlalchemy.types.Enum"><code class="xref py py-class docutils literal notranslate"><span class="pre">Enum</span></code></a> type as the type
of the expression overall, producing missing lookups.  A string
concatenation against an <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.Enum" title="sqlalchemy.types.Enum"><code class="xref py py-class docutils literal notranslate"><span class="pre">Enum</span></code></a>-typed column now uses
<a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.String" title="sqlalchemy.types.String"><code class="xref py py-class docutils literal notranslate"><span class="pre">String</span></code></a> as the datatype of the expression itself.</p>
<a class="changelog-reference headerlink reference internal" href="#change-6c391020319fc51af47f0800e17f8099">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3833">#3833</a></p>
</p>
</li>
<li><p id="change-1.1.3-3"><span class="target" id="change-5e96ab6dca45039d6ec6d5a9bd6284d0"><strong>[sql] [bug]</strong> </span><p>Fixed regression which occurred as a side effect of <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2919">#2919</a>,
which in the less typical case of a user-defined
<a class="reference internal" href="../core/custom_types.html#sqlalchemy.types.TypeDecorator" title="sqlalchemy.types.TypeDecorator"><code class="xref py py-class docutils literal notranslate"><span class="pre">TypeDecorator</span></code></a> that was also itself an instance of
<a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.SchemaType" title="sqlalchemy.types.SchemaType"><code class="xref py py-class docutils literal notranslate"><span class="pre">SchemaType</span></code></a> (rather than the implementation being such)
would cause the column attachment events to be skipped for the
type itself.</p>
<a class="changelog-reference headerlink reference internal" href="#change-5e96ab6dca45039d6ec6d5a9bd6284d0">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3832">#3832</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-1.1.3-postgresql">
<h3>postgresql<a class="headerlink" href="#change-1.1.3-postgresql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.3-4"><span class="target" id="change-f39e5f3d95bafd1d9251d5564e8a2bdd"><strong>[postgresql] [bug]</strong> </span><p>PostgreSQL table reflection will ensure that the
<a class="reference internal" href="../core/metadata.html#sqlalchemy.schema.Column.params.autoincrement" title="sqlalchemy.schema.Column"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">Column.autoincrement</span></code></a> flag is set to False when reflecting
a primary key column that is not of an <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.Integer" title="sqlalchemy.types.Integer"><code class="xref py py-class docutils literal notranslate"><span class="pre">Integer</span></code></a> datatype,
even if the default is related to an integer-generating sequence.
This can happen if a column is created as SERIAL and the datatype
is changed.  The autoincrement flag can only be True if the datatype
is of integer affinity in the 1.1 series.</p>
<a class="changelog-reference headerlink reference internal" href="#change-f39e5f3d95bafd1d9251d5564e8a2bdd">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3835">#3835</a></p>
</p>
</li>
</ul>
</div>
</div>
<div class="section" id="change-1.1.2">
<h2 class="release-version">1.1.2<a class="headerlink" href="#change-1.1.2" title="Permalink to this headline">¶</a></h2>
Released: October 17, 2016<div class="section" id="change-1.1.2-orm">
<h3>orm<a class="headerlink" href="#change-1.1.2-orm" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.2-0"><span class="target" id="change-af602415001b7706e633bc44c34c5071"><strong>[orm] [bug]</strong> </span><p>Fixed bug involving the rule to disable a joined collection eager
loader on the other side of a many-to-one lazy loader, first added
in <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1495">#1495</a>, where the rule would fail if the parent object
had some other lazyloader-bound query options associated with it.</p>
<a class="changelog-reference headerlink reference internal" href="#change-af602415001b7706e633bc44c34c5071">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3824">#3824</a></p>
</p>
</li>
<li><p id="change-1.1.2-1"><span class="target" id="change-b4232ed2a800f5094c1010f6981d35e9"><strong>[orm] [bug]</strong> </span><p>Fixed self-referential entity, deferred column loading issue in a
similar style as that of <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3431">#3431</a>, <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3811">#3811</a> where an entity
is present in multiple positions within the row due to self-referential
eager loading; when the deferred loader only applies to one of the
paths, the “present” column loader will now override the deferred non-
load for that entity regardless of row ordering.</p>
<a class="changelog-reference headerlink reference internal" href="#change-b4232ed2a800f5094c1010f6981d35e9">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3822">#3822</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-1.1.2-sql">
<h3>sql<a class="headerlink" href="#change-1.1.2-sql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.2-2"><span class="target" id="change-289f4df02a357ea14af418075a7bc86b"><strong>[sql] [bug]</strong> </span><p>Fixed a regression caused by a newly added function that performs the
“wrap callable” function of sql <a class="reference internal" href="../core/defaults.html#sqlalchemy.schema.DefaultGenerator" title="sqlalchemy.schema.DefaultGenerator"><code class="xref py py-class docutils literal notranslate"><span class="pre">DefaultGenerator</span></code></a> objects,
an attribute error raised for <code class="docutils literal notranslate"><span class="pre">__module__</span></code> when the default callable
was a <code class="docutils literal notranslate"><span class="pre">functools.partial</span></code> or other object that doesn’t have a
<code class="docutils literal notranslate"><span class="pre">__module__</span></code> attribute.</p>
<a class="changelog-reference headerlink reference internal" href="#change-289f4df02a357ea14af418075a7bc86b">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3823">#3823</a></p>
</p>
</li>
<li><p id="change-1.1.2-3"><span class="target" id="change-583d8e954cccf548da525295a8a17449"><strong>[sql] [bug] [postgresql]</strong> </span><p>Fixed regression in <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.Enum" title="sqlalchemy.types.Enum"><code class="xref py py-class docutils literal notranslate"><span class="pre">Enum</span></code></a> type where event handlers were not
transferred in the case of the type object being copied, due to a
conflicting copy() method added as part of <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3250">#3250</a>.  This copy
occurs normally in situations when the column is copied, such as
in tometadata() or when using declarative mixins with columns.  The
event handler not being present would impact the constraint being
created for a non-native enumerated type, but more critically the
ENUM object on the PostgreSQL backend.</p>
<a class="changelog-reference headerlink reference internal" href="#change-583d8e954cccf548da525295a8a17449">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3827">#3827</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-1.1.2-postgresql">
<h3>postgresql<a class="headerlink" href="#change-1.1.2-postgresql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.2-4"><span class="target" id="change-e37123afb35f36f6bb41c0cb8de73f9d"><strong>[postgresql] [bug] [sql]</strong> </span><p>Changed the naming convention used when generating bound parameters
for a multi-VALUES insert statement, so that the numbered parameter
names don’t conflict with the anonymized parameters of a WHERE clause,
as is now common in a PostgreSQL ON CONFLICT construct.</p>
<a class="changelog-reference headerlink reference internal" href="#change-e37123afb35f36f6bb41c0cb8de73f9d">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3828">#3828</a></p>
</p>
</li>
</ul>
</div>
</div>
<div class="section" id="change-1.1.1">
<h2 class="release-version">1.1.1<a class="headerlink" href="#change-1.1.1" title="Permalink to this headline">¶</a></h2>
Released: October 7, 2016<div class="section" id="change-1.1.1-mssql">
<h3>mssql<a class="headerlink" href="#change-1.1.1-mssql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.1-0"><span class="target" id="change-ec4c6ae38edcd45548da3677d7678b93"><strong>[mssql] [bug]</strong> </span><p>The “SELECT SERVERPROPERTY”
query added in <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3810">#3810</a> and <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3814">#3814</a> is failing on unknown
combinations of Pyodbc and SQL Server.  While failure of this function
was anticipated, the exception catch was not broad enough so it now
catches all forms of pyodbc.Error.</p>
<a class="changelog-reference headerlink reference internal" href="#change-ec4c6ae38edcd45548da3677d7678b93">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3820">#3820</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-1.1.1-misc">
<h3>misc<a class="headerlink" href="#change-1.1.1-misc" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.1-1"><span class="target" id="change-5d3b4d60616915bd6b5693bde551ace5"><strong>[bug] [core]</strong> </span><p>Changed the CompileError raised when various primary key missing
situations are detected to a warning.  The statement is again
passed to the database where it will fail and the DBAPI error (usually
IntegrityError) raises as usual.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="migration_11.html#change-3216"><span class="std std-ref">The .autoincrement directive is no longer implicitly enabled for a composite primary key column</span></a></p>
</div>
<a class="changelog-reference headerlink reference internal" href="#change-5d3b4d60616915bd6b5693bde551ace5">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3216">#3216</a></p>
</p>
</li>
</ul>
</div>
</div>
<div class="section" id="change-1.1.0">
<h2 class="release-version">1.1.0<a class="headerlink" href="#change-1.1.0" title="Permalink to this headline">¶</a></h2>
Released: October 5, 2016<div class="section" id="change-1.1.0-orm">
<h3>orm<a class="headerlink" href="#change-1.1.0-orm" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.0-0"><span class="target" id="change-f42341f2d13ea3ba7144b515b49c9f15"><strong>[orm] [feature]</strong> </span><p>Enhanced the new “raise” lazy loader strategy to also include a
“raise_on_sql” variant, available both via <a class="reference internal" href="../orm/relationship_api.html#sqlalchemy.orm.relationship.params.lazy" title="sqlalchemy.orm.relationship"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">relationship.lazy</span></code></a>
as well as <a class="reference internal" href="../orm/loading_relationships.html#sqlalchemy.orm.raiseload" title="sqlalchemy.orm.raiseload"><code class="xref py py-func docutils literal notranslate"><span class="pre">raiseload()</span></code></a>.   This variant only raises if the
lazy load would actually emit SQL, vs. raising if the lazy loader
mechanism is invoked at all.</p>
<a class="changelog-reference headerlink reference internal" href="#change-f42341f2d13ea3ba7144b515b49c9f15">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3812">#3812</a></p>
</p>
</li>
<li><p id="change-1.1.0-1"><span class="target" id="change-b266170ce8153348d275977f17a2ced1"><strong>[orm] [feature]</strong> </span><p>The <a class="reference internal" href="../orm/query.html#sqlalchemy.orm.query.Query.group_by" title="sqlalchemy.orm.query.Query.group_by"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Query.group_by()</span></code></a> method now resets the group by collection
if an argument of <code class="docutils literal notranslate"><span class="pre">None</span></code> is passed, in the same way that
<a class="reference internal" href="../orm/query.html#sqlalchemy.orm.query.Query.order_by" title="sqlalchemy.orm.query.Query.order_by"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Query.order_by()</span></code></a> has worked for a long time.  Pull request
courtesy Iuri Diniz.</p>
<a class="changelog-reference headerlink reference internal" href="#change-b266170ce8153348d275977f17a2ced1">¶</a><p></p>
</p>
</li>
<li><p id="change-1.1.0-2"><span class="target" id="change-371998ec9a0720b0855d08c8cc443fe0"><strong>[orm] [bug]</strong> </span><p>Fixed bug where joined eager loading would fail for a polymorphically-
loaded mapper, where the polymorphic_on was set to an un-mapped
expression such as a CASE expression.</p>
<a class="changelog-reference headerlink reference internal" href="#change-371998ec9a0720b0855d08c8cc443fe0">¶</a><p>This change is also <strong>backported</strong> to: 1.0.16</p>
<p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3800">#3800</a></p>
</p>
</li>
<li><p id="change-1.1.0-3"><span class="target" id="change-61639afe972557f17e08ffba80e880d2"><strong>[orm] [bug]</strong> </span><p>Fixed bug where the ArgumentError raised for an invalid bind
sent to a Session via <a class="reference internal" href="../orm/session_api.html#sqlalchemy.orm.session.Session.bind_mapper" title="sqlalchemy.orm.session.Session.bind_mapper"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.bind_mapper()</span></code></a>,
<a class="reference internal" href="../orm/session_api.html#sqlalchemy.orm.session.Session.bind_table" title="sqlalchemy.orm.session.Session.bind_table"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.bind_table()</span></code></a>,
or the constructor would fail to be correctly raised.</p>
<a class="changelog-reference headerlink reference internal" href="#change-61639afe972557f17e08ffba80e880d2">¶</a><p>This change is also <strong>backported</strong> to: 1.0.16</p>
<p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3798">#3798</a></p>
</p>
</li>
<li><p id="change-1.1.0-4"><span class="target" id="change-fb7140268bbf0d23fd64b2fc9393e8b6"><strong>[orm] [bug]</strong> </span><p>Fixed bug in subquery eager loading where a subqueryload
of an “of_type()” object linked to a second subqueryload of a plain
mapped class, or a longer chain of several “of_type()” attributes,
would fail to link the joins correctly.</p>
<a class="changelog-reference headerlink reference internal" href="#change-fb7140268bbf0d23fd64b2fc9393e8b6">¶</a><p>This change is also <strong>backported</strong> to: 1.0.15</p>
<p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3773">#3773</a>, <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3774">#3774</a></p>
</p>
</li>
<li><p id="change-1.1.0-5"><span class="target" id="change-4e6d283f36390b786413ba657530b45f"><strong>[orm] [bug]</strong> </span><p>ORM attributes can now be assigned any object that is has a
<code class="docutils literal notranslate"><span class="pre">__clause_element__()</span></code> attribute, which will result in inline
SQL the way any <a class="reference internal" href="../core/sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClauseElement</span></code></a> class does.  This covers other
mapped attributes not otherwise transformed by further expression
constructs.</p>
<a class="changelog-reference headerlink reference internal" href="#change-4e6d283f36390b786413ba657530b45f">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3802">#3802</a></p>
</p>
</li>
<li><p id="change-1.1.0-6"><span class="target" id="change-8430174a148b8231bc15877a50a59a82"><strong>[orm] [bug]</strong> </span><p>Made an adjustment to the bug fix first introduced in [ticket:3431]
that involves an object appearing in multiple contexts in a single
result set, such that an eager loader that would set the related
object value to be None will still fire off, thus satisfying the
load of that attribute.  Previously, the adjustment only honored
a non-None value arriving for an eagerly loaded attribute in a
secondary row.</p>
<a class="changelog-reference headerlink reference internal" href="#change-8430174a148b8231bc15877a50a59a82">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3811">#3811</a></p>
</p>
</li>
<li><p id="change-1.1.0-7"><span class="target" id="change-60edf976854dcd7db8932ea2a42da50b"><strong>[orm] [bug]</strong> </span><p>Fixed bug in new <a class="reference internal" href="../orm/events.html#sqlalchemy.orm.events.SessionEvents.persistent_to_deleted" title="sqlalchemy.orm.events.SessionEvents.persistent_to_deleted"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SessionEvents.persistent_to_deleted()</span></code></a> event
where the target object could be garbage collected before the event
is fired off.</p>
<a class="changelog-reference headerlink reference internal" href="#change-60edf976854dcd7db8932ea2a42da50b">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3808">#3808</a></p>
</p>
</li>
<li><p id="change-1.1.0-8"><span class="target" id="change-a3f5d5c92e4cf316525ebd40213c6259"><strong>[orm] [bug]</strong> </span><p>The primaryjoin of a <a class="reference internal" href="../orm/relationship_api.html#sqlalchemy.orm.relationship" title="sqlalchemy.orm.relationship"><code class="xref py py-func docutils literal notranslate"><span class="pre">relationship()</span></code></a> construct can now include
a <a class="reference internal" href="../core/sqlelement.html#sqlalchemy.sql.expression.bindparam" title="sqlalchemy.sql.expression.bindparam"><code class="xref py py-func docutils literal notranslate"><span class="pre">bindparam()</span></code></a> object that includes a callable function to
generate values.  Previously, the lazy loader strategy would
be incompatible with this use, and additionally would fail to correctly
detect if the “use_get” criteria should be used if the primary key
were involved with the bound parameter.</p>
<a class="changelog-reference headerlink reference internal" href="#change-a3f5d5c92e4cf316525ebd40213c6259">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3767">#3767</a></p>
</p>
</li>
<li><p id="change-1.1.0-9"><span class="target" id="change-f8a23fba684faec2391a153804800128"><strong>[orm] [bug]</strong> </span><p>An UPDATE emitted from the ORM flush process can now accommodate a
SQL expression element for a column within the primary key of an
object, if the target database supports RETURNING in order to provide
the new value, or if the PK value is set “to itself” for the purposes
of bumping some other trigger / onupdate on the column.</p>
<a class="changelog-reference headerlink reference internal" href="#change-f8a23fba684faec2391a153804800128">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3801">#3801</a></p>
</p>
</li>
<li><p id="change-1.1.0-10"><span class="target" id="change-f8078cf99b3eb64de58b9b686c3c3537"><strong>[orm] [bug]</strong> </span><p>Fixed bug where the “simple many-to-one” condition that allows  lazy
loading to use get() from identity map would fail to be  invoked if the
primaryjoin of the relationship had multiple clauses separated by AND
which were not in the same order as that of the primary key columns
being compared in each clause. This ordering
difference occurs for a composite foreign key where the table-bound
columns on the referencing side were not in the same order in the .c
collection as the primary key columns on the referenced side….which
in turn occurs a lot if one is using declarative mixins and/or
declared_attr to set up columns.</p>
<a class="changelog-reference headerlink reference internal" href="#change-f8078cf99b3eb64de58b9b686c3c3537">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3788">#3788</a></p>
</p>
</li>
<li><p id="change-1.1.0-11"><span class="target" id="change-4503e2739044124d70d4f4b148ac838a"><strong>[orm] [bug]</strong> </span><p>An exception is raised when two <code class="docutils literal notranslate"><span class="pre">&#64;validates</span></code> decorators on a mapping
make use of the same name.  Only one validator of a certain name
at a time is supported, there’s no mechanism to chain these together,
as the order of the validators at the level of function decorator
can’t be made deterministic.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="migration_11.html#change-3776"><span class="std std-ref">Same-named &#64;validates decorators will now raise an exception</span></a></p>
</div>
<a class="changelog-reference headerlink reference internal" href="#change-4503e2739044124d70d4f4b148ac838a">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3776">#3776</a></p>
</p>
</li>
<li><p id="change-1.1.0-12"><span class="target" id="change-7478a0b4b220cccc12d8e769d1f38106"><strong>[orm] [bug]</strong> </span><p>Mapper errors raised during <a class="reference internal" href="../orm/mapping_api.html#sqlalchemy.orm.configure_mappers" title="sqlalchemy.orm.configure_mappers"><code class="xref py py-func docutils literal notranslate"><span class="pre">configure_mappers()</span></code></a> now explicitly
include the name of the originating mapper in the exception message
to help in those situations where the wrapped exception does not
itself include the source mapper.  Pull request courtesy
John Perkins.</p>
<a class="changelog-reference headerlink reference internal" href="#change-7478a0b4b220cccc12d8e769d1f38106">¶</a><p></p>
</p>
</li>
<li><p id="change-1.1.0-13"><span class="target" id="change-1fa16f683aa717129609f6eb2891934e"><strong>[orm] [change]</strong> </span><p>Passing False to <a class="reference internal" href="../orm/query.html#sqlalchemy.orm.query.Query.order_by" title="sqlalchemy.orm.query.Query.order_by"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Query.order_by()</span></code></a> in order to cancel
all order by’s is deprecated; there is no longer any difference
between calling this method with False or with None.</p>
<a class="changelog-reference headerlink reference internal" href="#change-1fa16f683aa717129609f6eb2891934e">¶</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-1.1.0-orm-declarative">
<h3>orm declarative<a class="headerlink" href="#change-1.1.0-orm-declarative" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.0-14"><span class="target" id="change-f2637b9a5ca777796c51889d7b51b08d"><strong>[change] [declarative] [orm]</strong> </span><p>Constructing a declarative base class that inherits from another class
will also inherit its docstring. This means
<a class="reference internal" href="../orm/extensions/declarative/api.html#sqlalchemy.ext.declarative.as_declarative" title="sqlalchemy.ext.declarative.as_declarative"><code class="xref py py-func docutils literal notranslate"><span class="pre">as_declarative()</span></code></a> acts more like a normal class
decorator.</p>
<a class="changelog-reference headerlink reference internal" href="#change-f2637b9a5ca777796c51889d7b51b08d">¶</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-1.1.0-sql">
<h3>sql<a class="headerlink" href="#change-1.1.0-sql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.0-15"><span class="target" id="change-8d7baca1126370eaa2c753ca2d9e7c1d"><strong>[sql] [bug]</strong> </span><p>Fixed bug in <a class="reference internal" href="../core/metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a> where the internal method
<code class="docutils literal notranslate"><span class="pre">_reset_exported()</span></code> would corrupt the state of the object.  This
method is intended for selectable objects and is called by the ORM
in some cases; an erroneous mapper configuration would could lead the
ORM to call this on a <a class="reference internal" href="../core/metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a> object.</p>
<a class="changelog-reference headerlink reference internal" href="#change-8d7baca1126370eaa2c753ca2d9e7c1d">¶</a><p>This change is also <strong>backported</strong> to: 1.0.15</p>
<p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3755">#3755</a></p>
</p>
</li>
<li><p id="change-1.1.0-16"><span class="target" id="change-a65199d14c5fff244740e72075d95ab8"><strong>[sql] [bug]</strong> </span><p>Execution options can now be propagated from within a
statement at compile time to the outermost statement, so that
if an embedded element wants to set “autocommit” to be True for example,
it can propagate this to the enclosing statement.  Currently, this
feature is enabled for a DML-oriented CTE embedded inside of a SELECT
statement, e.g. INSERT/UPDATE/DELETE inside of SELECT.</p>
<a class="changelog-reference headerlink reference internal" href="#change-a65199d14c5fff244740e72075d95ab8">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3805">#3805</a></p>
</p>
</li>
<li><p id="change-1.1.0-17"><span class="target" id="change-83aa5ed6faa7650522506f27c82d6331"><strong>[sql] [bug]</strong> </span><p>A string sent as a column default via the
<a class="reference internal" href="../core/metadata.html#sqlalchemy.schema.Column.params.server_default" title="sqlalchemy.schema.Column"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">Column.server_default</span></code></a> parameter is now escaped for quotes.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="migration_11.html#change-3809"><span class="std std-ref">String server_default now literal quoted</span></a></p>
</div>
<a class="changelog-reference headerlink reference internal" href="#change-83aa5ed6faa7650522506f27c82d6331">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3809">#3809</a></p>
</p>
</li>
<li><p id="change-1.1.0-18"><span class="target" id="change-9c2eb0349bfb8d7c986c73a6b45c2a89"><strong>[sql] [bug] [postgresql]</strong> </span><p>Added compiler-level flags used by PostgreSQL to place additional
parenthesis than would normally be generated by precedence rules
around operations involving JSON, HSTORE indexing operators as well as
within their operands since it has been observed that PostgreSQL’s
precedence rules for at least the HSTORE indexing operator is not
consistent between 9.4 and 9.5.</p>
<a class="changelog-reference headerlink reference internal" href="#change-9c2eb0349bfb8d7c986c73a6b45c2a89">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3806">#3806</a></p>
</p>
</li>
<li><p id="change-1.1.0-19"><span class="target" id="change-4667b5bd5cde7049b907f70614059d00"><strong>[sql] [bug] [mysql]</strong> </span><p>The <code class="docutils literal notranslate"><span class="pre">BaseException</span></code> exception class is now intercepted by the
exception-handling routines of <a class="reference internal" href="../core/connections.html#sqlalchemy.engine.Connection" title="sqlalchemy.engine.Connection"><code class="xref py py-class docutils literal notranslate"><span class="pre">Connection</span></code></a>, and includes
handling by the <a class="reference internal" href="../core/events.html#sqlalchemy.events.ConnectionEvents.handle_error" title="sqlalchemy.events.ConnectionEvents.handle_error"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ConnectionEvents.handle_error()</span></code></a>
event.  The <a class="reference internal" href="../core/connections.html#sqlalchemy.engine.Connection" title="sqlalchemy.engine.Connection"><code class="xref py py-class docutils literal notranslate"><span class="pre">Connection</span></code></a> is now <strong>invalidated</strong> by default in
the case of a system level exception that is not a subclass of
<code class="docutils literal notranslate"><span class="pre">Exception</span></code>, including <code class="docutils literal notranslate"><span class="pre">KeyboardInterrupt</span></code> and the greenlet
<code class="docutils literal notranslate"><span class="pre">GreenletExit</span></code> class, to prevent further operations from occurring
upon a database connection that is in an unknown and possibly
corrupted state.  The MySQL drivers are most targeted by this change
however the change is across all DBAPIs.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="migration_11.html#change-3803"><span class="std std-ref">Engines now invalidate connections, run error handlers for BaseException</span></a></p>
</div>
<a class="changelog-reference headerlink reference internal" href="#change-4667b5bd5cde7049b907f70614059d00">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3803">#3803</a></p>
</p>
</li>
<li><p id="change-1.1.0-20"><span class="target" id="change-5acb293b80b951406effd14eec5836a4"><strong>[sql] [bug]</strong> </span><p>The “eq” and “ne” operators are no longer part of the list of
“associative” operators, while they remain considered to be
“commutative”.  This allows an expression like <code class="docutils literal notranslate"><span class="pre">(x</span> <span class="pre">==</span> <span class="pre">y)</span> <span class="pre">==</span> <span class="pre">z</span></code>
to be maintained at the SQL level with parenthesis.  Pull request
courtesy John Passaro.</p>
<a class="changelog-reference headerlink reference internal" href="#change-5acb293b80b951406effd14eec5836a4">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3799">#3799</a></p>
</p>
</li>
<li><p id="change-1.1.0-21"><span class="target" id="change-2c6ffb7bd734b1b1b4c06552d23a417a"><strong>[sql] [bug]</strong> </span><p>Stringify of expression with unnamed <a class="reference internal" href="../core/metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a> objects, as
occurs in lots of situations including ORM error reporting,
will now render the name in string context as “&lt;name unknown&gt;”
rather than raising a compile error.</p>
<a class="changelog-reference headerlink reference internal" href="#change-2c6ffb7bd734b1b1b4c06552d23a417a">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3789">#3789</a></p>
</p>
</li>
<li><p id="change-1.1.0-22"><span class="target" id="change-e1373fa7813f2864c4b683f279fad19c"><strong>[sql] [bug]</strong> </span><p>Raise a more descriptive exception / message when ClauseElement
or non-SQLAlchemy objects that are not “executable” are erroneously
passed to <code class="docutils literal notranslate"><span class="pre">.execute()</span></code>; a new exception ObjectNotExecutableError
is raised consistently in all cases.</p>
<a class="changelog-reference headerlink reference internal" href="#change-e1373fa7813f2864c4b683f279fad19c">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3786">#3786</a></p>
</p>
</li>
<li><p id="change-1.1.0-23"><span class="target" id="change-45bbe5d31220bed98f6334d372339ea7"><strong>[sql] [bug] [mysql] [postgresql]</strong> </span><p>Fixed regression in JSON datatypes where the “literal processor” for
a JSON index value would not be invoked.  The native String and Integer
datatypes are now called upon from within the JSONIndexType
and JSONPathType.  This is applied to the generic, PostgreSQL, and
MySQL JSON types and also has a dependency on <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3766">#3766</a>.</p>
<a class="changelog-reference headerlink reference internal" href="#change-45bbe5d31220bed98f6334d372339ea7">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3765">#3765</a></p>
</p>
</li>
<li><p id="change-1.1.0-24"><span class="target" id="change-7d73fc7fe934b407a6e3efa1eae6ac1f"><strong>[sql] [bug]</strong> </span><p>Fixed bug where <a class="reference internal" href="../core/constraints.html#sqlalchemy.schema.Index" title="sqlalchemy.schema.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> would fail to extract columns from
compound SQL expressions if those SQL expressions were wrapped inside
of an ORM-style <code class="docutils literal notranslate"><span class="pre">__clause_element__()</span></code> construct.  This bug
exists in 1.0.x as well, however in 1.1 is more noticeable as
hybrid_property &#64;expression now returns a wrapped element.</p>
<a class="changelog-reference headerlink reference internal" href="#change-7d73fc7fe934b407a6e3efa1eae6ac1f">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3763">#3763</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-1.1.0-postgresql">
<h3>postgresql<a class="headerlink" href="#change-1.1.0-postgresql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.0-25"><span class="target" id="change-58a9332a0fa45bae35efac5cf229e84e"><strong>[postgresql] [bug]</strong> </span><p>An adjustment to ON CONFLICT such that the “inserted_primary_key”
logic is able to accommodate the case where there’s no INSERT or
UPDATE and there’s no net change.  The value comes out as None
in this case, rather than failing on an exception.</p>
<a class="changelog-reference headerlink reference internal" href="#change-58a9332a0fa45bae35efac5cf229e84e">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3813">#3813</a></p>
</p>
</li>
<li><p id="change-1.1.0-26"><span class="target" id="change-9ca8ded0a2df231997db9c2d140fb0a0"><strong>[postgresql] [bug]</strong> </span><blockquote>
<div><p>Fixed issue in new PG “on conflict” construct where columns including
those of the “excluded” namespace would not be table-qualified
in the WHERE clauses in the statement.</p>
</div></blockquote>
<a class="changelog-reference headerlink reference internal" href="#change-9ca8ded0a2df231997db9c2d140fb0a0">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3807">#3807</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-1.1.0-mysql">
<h3>mysql<a class="headerlink" href="#change-1.1.0-mysql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.0-27"><span class="target" id="change-62c24eb40513560d709da2519903dbb5"><strong>[mysql] [bug]</strong> </span><p>Added support for parsing MySQL/Connector boolean and integer
arguments within the URL query string: connection_timeout,
connect_timeout, pool_size, get_warnings,
raise_on_warnings, raw, consume_results, ssl_verify_cert, force_ipv6,
pool_reset_session, compress, allow_local_infile, use_pure.</p>
<a class="changelog-reference headerlink reference internal" href="#change-62c24eb40513560d709da2519903dbb5">¶</a><p>This change is also <strong>backported</strong> to: 1.0.15</p>
<p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3787">#3787</a></p>
</p>
</li>
<li><p id="change-1.1.0-28"><span class="target" id="change-1c433e5d5077ca02e632695c46073b4d"><strong>[mysql] [bug]</strong> </span><p>Fixed bug where the “literal_binds” flag would not be propagated
to a CAST expression under MySQL.</p>
<a class="changelog-reference headerlink reference internal" href="#change-1c433e5d5077ca02e632695c46073b4d">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3766">#3766</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-1.1.0-mssql">
<h3>mssql<a class="headerlink" href="#change-1.1.0-mssql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.0-29"><span class="target" id="change-73b0d55f0127ebaab3129784b94cac28"><strong>[mssql] [bug]</strong> </span><p>Changed the query used to get “default schema name”, from one that
queries the database principals table to using the
“schema_name()” function, as issues have been reported that the
former system was unavailable on the Azure Data Warehouse edition.
It is hoped that this will finally work across all SQL Server
versions and authentication styles.</p>
<a class="changelog-reference headerlink reference internal" href="#change-73b0d55f0127ebaab3129784b94cac28">¶</a><p>This change is also <strong>backported</strong> to: 1.0.16</p>
<p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3810">#3810</a></p>
</p>
</li>
<li><p id="change-1.1.0-30"><span class="target" id="change-9c3f9b2cd5051c69e55f0b84714b76f6"><strong>[mssql] [bug]</strong> </span><p>Updated the server version info scheme for pyodbc to use SQL Server
SERVERPROPERTY(), rather than relying upon pyodbc.SQL_DBMS_VER, which
continues to be unreliable particularly with FreeTDS.</p>
<a class="changelog-reference headerlink reference internal" href="#change-9c3f9b2cd5051c69e55f0b84714b76f6">¶</a><p>This change is also <strong>backported</strong> to: 1.0.16</p>
<p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3814">#3814</a></p>
</p>
</li>
<li><p id="change-1.1.0-31"><span class="target" id="change-7e48bd57076a9a6c862091c667d7766d"><strong>[mssql] [bug]</strong> </span><p>Added error code 20017 “unexpected EOF from the server” to the list of
disconnect exceptions that result in a connection pool reset.  Pull
request courtesy Ken Robbins.</p>
<a class="changelog-reference headerlink reference internal" href="#change-7e48bd57076a9a6c862091c667d7766d">¶</a><p>This change is also <strong>backported</strong> to: 1.0.16</p>
<p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-1.1.0-misc">
<h3>misc<a class="headerlink" href="#change-1.1.0-misc" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.0-32"><span class="target" id="change-90b3fbdb63a1d89e0a97da11fe6fa61f"><strong>[bug] [orm.declarative]</strong> </span><p>Fixed bug where setting up a single-table inh subclass of a joined-table
subclass which included an extra column would corrupt the foreign keys
collection of the mapped table, thereby interfering with the
initialization of relationships.</p>
<a class="changelog-reference headerlink reference internal" href="#change-90b3fbdb63a1d89e0a97da11fe6fa61f">¶</a><p>This change is also <strong>backported</strong> to: 1.0.16</p>
<p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3797">#3797</a></p>
</p>
</li>
</ul>
</div>
</div>
<div class="section" id="change-1.1.0b3">
<h2 class="release-version">1.1.0b3<a class="headerlink" href="#change-1.1.0b3" title="Permalink to this headline">¶</a></h2>
Released: July 26, 2016<div class="section" id="change-1.1.0b3-orm">
<h3>orm<a class="headerlink" href="#change-1.1.0b3-orm" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.0b3-0"><span class="target" id="change-c9a29351b225ea55e72fc224981a3a5f"><strong>[orm] [change]</strong> </span><p>Removed a warning that dates back to 0.4 which emits when a same-named
relationship is placed on two mappers that inherits via joined or
single table inheritance.   The warning does not apply to the
current unit of work implementation.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="migration_11.html#change-3749"><span class="std std-ref">Same-named relationships on inheriting mappers no longer warn</span></a></p>
</div>
<a class="changelog-reference headerlink reference internal" href="#change-c9a29351b225ea55e72fc224981a3a5f">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3749">#3749</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-1.1.0b3-sql">
<h3>sql<a class="headerlink" href="#change-1.1.0b3-sql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.0b3-1"><span class="target" id="change-409887b1bb48a0aa7d2a1d56b43d42c8"><strong>[sql] [bug]</strong> </span><p>Fixed bug in new CTE feature for update/insert/delete stated
as a CTE inside of an enclosing statement (typically SELECT) whereby
oninsert and onupdate values weren’t called upon for the embedded
statement.</p>
<a class="changelog-reference headerlink reference internal" href="#change-409887b1bb48a0aa7d2a1d56b43d42c8">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3745">#3745</a></p>
</p>
</li>
<li><p id="change-1.1.0b3-2"><span class="target" id="change-6b0056b42359b26cfff61c9cac7ace3e"><strong>[sql] [bug]</strong> </span><p>Fixed bug in new CTE feature for update/insert/delete whereby
an anonymous (e.g. no name passed) <a class="reference internal" href="../core/selectable.html#sqlalchemy.sql.expression.CTE" title="sqlalchemy.sql.expression.CTE"><code class="xref py py-class docutils literal notranslate"><span class="pre">CTE</span></code></a> construct around
the statement would fail.</p>
<a class="changelog-reference headerlink reference internal" href="#change-6b0056b42359b26cfff61c9cac7ace3e">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3744">#3744</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-1.1.0b3-postgresql">
<h3>postgresql<a class="headerlink" href="#change-1.1.0b3-postgresql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.0b3-3"><span class="target" id="change-4b6c963d8efbb4c1ddf688f36f39f06e"><strong>[postgresql] [bug]</strong> </span><p>Fixed bug whereby <a class="reference internal" href="../core/custom_types.html#sqlalchemy.types.TypeDecorator" title="sqlalchemy.types.TypeDecorator"><code class="xref py py-class docutils literal notranslate"><span class="pre">TypeDecorator</span></code></a> and <a class="reference internal" href="../core/type_api.html#sqlalchemy.types.Variant" title="sqlalchemy.types.Variant"><code class="xref py py-class docutils literal notranslate"><span class="pre">Variant</span></code></a>
types were not deeply inspected enough by the PostgreSQL dialect
to determine if SMALLSERIAL or BIGSERIAL needed to be rendered
rather than SERIAL.</p>
<a class="changelog-reference headerlink reference internal" href="#change-4b6c963d8efbb4c1ddf688f36f39f06e">¶</a><p>This change is also <strong>backported</strong> to: 1.0.14</p>
<p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3739">#3739</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-1.1.0b3-oracle">
<h3>oracle<a class="headerlink" href="#change-1.1.0b3-oracle" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.0b3-4"><span class="target" id="change-36a5a237374426df2a272534d27636d0"><strong>[oracle] [bug]</strong> </span><p>Fixed bug in <a class="reference internal" href="../core/selectable.html#sqlalchemy.sql.expression.Select.with_for_update.params.of" title="sqlalchemy.sql.expression.Select.with_for_update"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">Select.with_for_update.of</span></code></a>, where the Oracle
“rownum” approach to LIMIT/OFFSET would fail to accommodate for the
expressions inside the “OF” clause, which must be stated at the topmost
level referring to expression within the subquery.  The expressions are
now added to the subquery if needed.</p>
<a class="changelog-reference headerlink reference internal" href="#change-36a5a237374426df2a272534d27636d0">¶</a><p>This change is also <strong>backported</strong> to: 1.0.14</p>
<p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3741">#3741</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-1.1.0b3-misc">
<h3>misc<a class="headerlink" href="#change-1.1.0b3-misc" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.0b3-5"><span class="target" id="change-c512c029fb9dc2cc5a6ccf3c9dedc7c3"><strong>[feature] [ext]</strong> </span><p>Added a “default” parameter to the new sqlalchemy.ext.indexable
extension.</p>
<a class="changelog-reference headerlink reference internal" href="#change-c512c029fb9dc2cc5a6ccf3c9dedc7c3">¶</a><p></p>
</p>
</li>
<li><p id="change-1.1.0b3-6"><span class="target" id="change-c0947c92d996b33ef1b4ce3c539e9d25"><strong>[bug] [ext]</strong> </span><p>Fixed bug in <code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.baked</span></code> where the unbaking of a
subquery eager loader query would fail due to a variable scoping
issue, when multiple subquery loaders were involved.  Pull request
courtesy Mark Hahnenberg.</p>
<a class="changelog-reference headerlink reference internal" href="#change-c0947c92d996b33ef1b4ce3c539e9d25">¶</a><p>This change is also <strong>backported</strong> to: 1.0.15</p>
<p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3743">#3743</a></p>
</p>
</li>
<li><p id="change-1.1.0b3-7"><span class="target" id="change-e863e19e1663cd41a6b07e5a03515144"><strong>[bug] [ext]</strong> </span><p>sqlalchemy.ext.indexable will intercept IndexError as well
as KeyError when raising as AttributeError.</p>
<a class="changelog-reference headerlink reference internal" href="#change-e863e19e1663cd41a6b07e5a03515144">¶</a><p></p>
</p>
</li>
</ul>
</div>
</div>
<div class="section" id="change-1.1.0b2">
<h2 class="release-version">1.1.0b2<a class="headerlink" href="#change-1.1.0b2" title="Permalink to this headline">¶</a></h2>
Released: July 1, 2016<div class="section" id="change-1.1.0b2-sql">
<h3>sql<a class="headerlink" href="#change-1.1.0b2-sql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.0b2-0"><span class="target" id="change-7006ffe86a58284eda862bbc60b8bc4b"><strong>[sql] [bug]</strong> </span><p>Fixed issue in SQL math negation operator where the type of the
expression would no longer be the numeric type of the original.
This would cause issues where the type determined result set
behaviors.</p>
<a class="changelog-reference headerlink reference internal" href="#change-7006ffe86a58284eda862bbc60b8bc4b">¶</a><p>This change is also <strong>backported</strong> to: 1.0.14</p>
<p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3735">#3735</a></p>
</p>
</li>
<li><p id="change-1.1.0b2-1"><span class="target" id="change-5699ea1e56391cae80ed2aa84bf2c6e2"><strong>[sql] [bug]</strong> </span><p>Fixed bug whereby the <code class="docutils literal notranslate"><span class="pre">__getstate__</span></code> / <code class="docutils literal notranslate"><span class="pre">__setstate__</span></code>
methods for sqlalchemy.util.Properties were
non-working due to the transition in the 1.0 series to <code class="docutils literal notranslate"><span class="pre">__slots__</span></code>.
The issue potentially impacted some third-party applications.
Pull request courtesy Pieter Mulder.</p>
<a class="changelog-reference headerlink reference internal" href="#change-5699ea1e56391cae80ed2aa84bf2c6e2">¶</a><p>This change is also <strong>backported</strong> to: 1.0.14</p>
<p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3728">#3728</a></p>
</p>
</li>
<li><p id="change-1.1.0b2-2"><span class="target" id="change-f3088aa888b7e3a90f1814ce21c0b220"><strong>[sql] [bug]</strong> </span><p>The processing performed by the <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.Boolean" title="sqlalchemy.types.Boolean"><code class="xref py py-class docutils literal notranslate"><span class="pre">Boolean</span></code></a> datatype for backends
that only feature integer types has been made consistent between the
pure Python and C-extension versions, in that the C-extension version
will accept any integer value from the database as a boolean, not just
zero and one; additionally, non-boolean integer values being sent to
the database are coerced to exactly zero or one, instead of being
passed as the original integer value.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="migration_11.html#change-3730"><span class="std std-ref">Non-native boolean integer values coerced to zero/one/None in all cases</span></a></p>
</div>
<a class="changelog-reference headerlink reference internal" href="#change-f3088aa888b7e3a90f1814ce21c0b220">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3730">#3730</a></p>
</p>
</li>
<li><p id="change-1.1.0b2-3"><span class="target" id="change-61ec601e4af58a2d337d455e2abcc9da"><strong>[sql] [bug]</strong> </span><p>Rolled back the validation rules a bit in <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.Enum" title="sqlalchemy.types.Enum"><code class="xref py py-class docutils literal notranslate"><span class="pre">Enum</span></code></a> to allow
unknown string values to pass through, unless the flag
<code class="docutils literal notranslate"><span class="pre">validate_string=True</span></code> is passed to the Enum; any other kind of object is
still of course rejected.  While the immediate use
is to allow comparisons to enums with LIKE, the fact that this
use exists indicates there may be more unknown-string-comparison use
cases than we expected, which hints that perhaps there are some
unknown string-INSERT cases too.</p>
<a class="changelog-reference headerlink reference internal" href="#change-61ec601e4af58a2d337d455e2abcc9da">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3725">#3725</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-1.1.0b2-postgresql">
<h3>postgresql<a class="headerlink" href="#change-1.1.0b2-postgresql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.0b2-4"><span class="target" id="change-a5fce71fb2e30fdf321b95c31697aa26"><strong>[postgresql] [bug] [ext]</strong> </span><p>Made a slight behavioral change in the <code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.compiler</span></code>
extension, whereby the existing compilation schemes for an established
construct would be removed if that construct itself didn’t already
have its own dedicated <code class="docutils literal notranslate"><span class="pre">__visit_name__</span></code>.  This was a
rare occurrence in 1.0, however in 1.1 <a class="reference internal" href="../dialects/postgresql.html#sqlalchemy.dialects.postgresql.ARRAY" title="sqlalchemy.dialects.postgresql.ARRAY"><code class="xref py py-class docutils literal notranslate"><span class="pre">ARRAY</span></code></a>
subclasses <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.ARRAY" title="sqlalchemy.types.ARRAY"><code class="xref py py-class docutils literal notranslate"><span class="pre">ARRAY</span></code></a> and has this behavior.
As a result, setting up a compilation handler for another dialect
such as SQLite would render the main <a class="reference internal" href="../dialects/postgresql.html#sqlalchemy.dialects.postgresql.ARRAY" title="sqlalchemy.dialects.postgresql.ARRAY"><code class="xref py py-class docutils literal notranslate"><span class="pre">ARRAY</span></code></a>
object no longer compilable.</p>
<a class="changelog-reference headerlink reference internal" href="#change-a5fce71fb2e30fdf321b95c31697aa26">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3732">#3732</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-1.1.0b2-mysql">
<h3>mysql<a class="headerlink" href="#change-1.1.0b2-mysql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.0b2-5"><span class="target" id="change-8e0948ee4b6cb64315abc0156aeb1fd6"><strong>[mysql] [bug]</strong> </span><p>Dialed back the “order the primary key columns per auto-increment”
described in <a class="reference internal" href="migration_11.html#change-mysql-3216"><span class="std std-ref">No more generation of an implicit KEY for composite primary key w/ AUTO_INCREMENT</span></a> a bit, so that if the
<a class="reference internal" href="../core/constraints.html#sqlalchemy.schema.PrimaryKeyConstraint" title="sqlalchemy.schema.PrimaryKeyConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">PrimaryKeyConstraint</span></code></a> is explicitly defined, the order
of columns is maintained exactly, allowing control of this behavior
when necessary.</p>
<a class="changelog-reference headerlink reference internal" href="#change-8e0948ee4b6cb64315abc0156aeb1fd6">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3726">#3726</a></p>
</p>
</li>
</ul>
</div>
</div>
<div class="section" id="change-1.1.0b1">
<h2 class="release-version">1.1.0b1<a class="headerlink" href="#change-1.1.0b1" title="Permalink to this headline">¶</a></h2>
Released: June 16, 2016<div class="section" id="change-1.1.0b1-orm">
<h3>orm<a class="headerlink" href="#change-1.1.0b1-orm" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.0b1-0"><span class="target" id="change-b3c884910b59a35c1b5267eca4bbe2b5"><strong>[orm] [feature] [ext]</strong> </span><p>A new ORM extension <a class="reference internal" href="../orm/extensions/indexable.html"><span class="std std-ref">Indexable</span></a> is added, which allows
construction of Python attributes which refer to specific elements
of “indexed” structures such as arrays and JSON fields.  Pull request
courtesy Jeong YunWon.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="migration_11.html#feature-indexable"><span class="std std-ref">New Indexable ORM extension</span></a></p>
</div>
<a class="changelog-reference headerlink reference internal" href="#change-b3c884910b59a35c1b5267eca4bbe2b5">¶</a><p></p>
</p>
</li>
<li><p id="change-1.1.0b1-1"><span class="target" id="change-5acfb1b58ae42f608a8630f796d96e7e"><strong>[orm] [feature]</strong> </span><p>Added new flag <a class="reference internal" href="../orm/session_api.html#sqlalchemy.orm.session.Session.bulk_insert_mappings.params.render_nulls" title="sqlalchemy.orm.session.Session.bulk_insert_mappings"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">Session.bulk_insert_mappings.render_nulls</span></code></a>
which allows an ORM bulk INSERT to occur with NULL values rendered;
this bypasses server side defaults, however allows all statements
to be formed with the same set of columns, allowing them to be
batched.  Pull request courtesy Tobias Sauerwein.</p>
<a class="changelog-reference headerlink reference internal" href="#change-5acfb1b58ae42f608a8630f796d96e7e">¶</a><p></p>
</p>
</li>
<li><p id="change-1.1.0b1-2"><span class="target" id="change-532ef99ecd1dd5bb8ee5ee6a8a2401db"><strong>[orm] [feature]</strong> </span><p>Added new event <a class="reference internal" href="../orm/events.html#sqlalchemy.orm.events.AttributeEvents.init_scalar" title="sqlalchemy.orm.events.AttributeEvents.init_scalar"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AttributeEvents.init_scalar()</span></code></a>, as well
as a new example suite illustrating its use.  This event can be used
to provide a Core-generated default value to a Python-side attribute
before the object is persisted.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="migration_11.html#change-1311"><span class="std std-ref">New init_scalar() event intercepts default values at ORM level</span></a></p>
</div>
<a class="changelog-reference headerlink reference internal" href="#change-532ef99ecd1dd5bb8ee5ee6a8a2401db">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1311">#1311</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-3"><span class="target" id="change-6b828691a60c4907d089b06e95f44234"><strong>[orm] [feature]</strong> </span><p>Added <a class="reference internal" href="../orm/extensions/automap.html#sqlalchemy.ext.automap.AutomapBase.prepare.params.schema" title="sqlalchemy.ext.automap.AutomapBase.prepare"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">AutomapBase.prepare.schema</span></code></a> to the
<a class="reference internal" href="../orm/extensions/automap.html#sqlalchemy.ext.automap.AutomapBase.prepare" title="sqlalchemy.ext.automap.AutomapBase.prepare"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AutomapBase.prepare()</span></code></a> method, to indicate which schema
tables should be reflected from if not the default schema.
Pull request courtesy Josh Marlow.</p>
<a class="changelog-reference headerlink reference internal" href="#change-6b828691a60c4907d089b06e95f44234">¶</a><p></p>
</p>
</li>
<li><p id="change-1.1.0b1-4"><span class="target" id="change-ebaee83acc1f8f12b712ab57c6ce231d"><strong>[orm] [feature]</strong> </span><p>Added new parameter <a class="reference internal" href="../orm/mapping_api.html#sqlalchemy.orm.mapper.params.passive_deletes" title="sqlalchemy.orm.mapper"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">mapper.passive_deletes</span></code></a> to
available mapper options.   This allows a DELETE to proceed
for a joined-table inheritance mapping against the base table only,
while allowing for ON DELETE CASCADE to handle deleting the row
from the subclass tables.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="migration_11.html#change-2349"><span class="std std-ref">passive_deletes feature for joined-inheritance mappings</span></a></p>
</div>
<a class="changelog-reference headerlink reference internal" href="#change-ebaee83acc1f8f12b712ab57c6ce231d">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2349">#2349</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-5"><span class="target" id="change-678ae60d4035b7177656f7d144cea811"><strong>[orm] [feature]</strong> </span><p>Calling str() on a core SQL construct has been made more “friendly”,
when the construct contains non-standard SQL elements such as
RETURNING, array index operations, or dialect-specific or custom
datatypes.  A string is now returned in these cases rendering an
approximation of the construct (typically the PostgreSQL-style
version of it) rather than raising an error.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="migration_11.html#change-3631"><span class="std std-ref">“Friendly” stringification of Core SQL constructs without a dialect</span></a></p>
</div>
<a class="changelog-reference headerlink reference internal" href="#change-678ae60d4035b7177656f7d144cea811">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3631">#3631</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-6"><span class="target" id="change-b748efc9574b29a2ea49e7c0333742a1"><strong>[orm] [feature]</strong> </span><p>The <code class="docutils literal notranslate"><span class="pre">str()</span></code> call for <a class="reference internal" href="../orm/query.html#sqlalchemy.orm.query.Query" title="sqlalchemy.orm.query.Query"><code class="xref py py-class docutils literal notranslate"><span class="pre">Query</span></code></a> will now take into account
the <a class="reference internal" href="../core/connections.html#sqlalchemy.engine.Engine" title="sqlalchemy.engine.Engine"><code class="xref py py-class docutils literal notranslate"><span class="pre">Engine</span></code></a> to which the <a class="reference internal" href="../orm/session_api.html#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> is bound, when
generating the string form of the SQL, so that the actual SQL
that would be emitted to the database is shown, if possible.  Previously,
only the engine associated with the <a class="reference internal" href="../core/metadata.html#sqlalchemy.schema.MetaData" title="sqlalchemy.schema.MetaData"><code class="xref py py-class docutils literal notranslate"><span class="pre">MetaData</span></code></a> to which the
mappings are associated would be used, if present.  If
no bind can be located either on the <a class="reference internal" href="../orm/session_api.html#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> or on
the <a class="reference internal" href="../core/metadata.html#sqlalchemy.schema.MetaData" title="sqlalchemy.schema.MetaData"><code class="xref py py-class docutils literal notranslate"><span class="pre">MetaData</span></code></a> to which the mappings are associated, then
the “default” dialect is used to render the SQL, as was the case
previously.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="migration_11.html#change-3081"><span class="std std-ref">Stringify of Query will consult the Session for the correct dialect</span></a></p>
</div>
<a class="changelog-reference headerlink reference internal" href="#change-b748efc9574b29a2ea49e7c0333742a1">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3081">#3081</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-7"><span class="target" id="change-d5cf16064aa92922d05395b09c928698"><strong>[orm] [feature]</strong> </span><p>The <a class="reference internal" href="../orm/events.html#sqlalchemy.orm.events.SessionEvents" title="sqlalchemy.orm.events.SessionEvents"><code class="xref py py-class docutils literal notranslate"><span class="pre">SessionEvents</span></code></a> suite now includes events to allow
unambiguous tracking of all object lifecycle state transitions
in terms of the <a class="reference internal" href="../orm/session_api.html#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> itself, e.g. pending,
transient,  persistent, detached.   The state of the object
within each event is also defined.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="migration_11.html#change-2677"><span class="std std-ref">New Session lifecycle events</span></a></p>
</div>
<a class="changelog-reference headerlink reference internal" href="#change-d5cf16064aa92922d05395b09c928698">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2677">#2677</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-8"><span class="target" id="change-df3d7ca7a278488ea611b03405eb14fd"><strong>[orm] [feature]</strong> </span><p>Added a new session lifecycle state <a class="reference internal" href="../glossary.html#term-deleted"><span class="xref std std-term">deleted</span></a>.  This new state
represents an object that has been deleted from the <a class="reference internal" href="../glossary.html#term-persistent"><span class="xref std std-term">persistent</span></a>
state and will move to the <a class="reference internal" href="../glossary.html#term-detached"><span class="xref std std-term">detached</span></a> state once the transaction
is committed.  This resolves the long-standing issue that objects
which were deleted existed in a gray area between persistent and
detached.   The <a class="reference internal" href="../orm/internals.html#sqlalchemy.orm.state.InstanceState.persistent" title="sqlalchemy.orm.state.InstanceState.persistent"><code class="xref py py-attr docutils literal notranslate"><span class="pre">InstanceState.persistent</span></code></a> accessor will
<strong>no longer</strong> report on a deleted object as persistent; the
<a class="reference internal" href="../orm/internals.html#sqlalchemy.orm.state.InstanceState.deleted" title="sqlalchemy.orm.state.InstanceState.deleted"><code class="xref py py-attr docutils literal notranslate"><span class="pre">InstanceState.deleted</span></code></a> accessor will instead be True for
these objects, until they become detached.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="migration_11.html#change-2677"><span class="std std-ref">New Session lifecycle events</span></a></p>
</div>
<a class="changelog-reference headerlink reference internal" href="#change-df3d7ca7a278488ea611b03405eb14fd">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2677">#2677</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-9"><span class="target" id="change-09452835bc692d53fcd69eaae680cdf6"><strong>[orm] [feature]</strong> </span><p>Added new checks for the common error case of passing mapped classes
or mapped instances into contexts where they are interpreted as
SQL bound parameters; a new exception is raised for this.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="migration_11.html#change-3321"><span class="std std-ref">Specific checks added for passing mapped classes, instances as SQL literals</span></a></p>
</div>
<a class="changelog-reference headerlink reference internal" href="#change-09452835bc692d53fcd69eaae680cdf6">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3321">#3321</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-10"><span class="target" id="change-ceee86d0abb726cd008560b25849fd6d"><strong>[orm] [feature]</strong> </span><p>Added new relationship loading strategy <a class="reference internal" href="../orm/loading_relationships.html#sqlalchemy.orm.raiseload" title="sqlalchemy.orm.raiseload"><code class="xref py py-func docutils literal notranslate"><span class="pre">raiseload()</span></code></a> (also
accessible via <code class="docutils literal notranslate"><span class="pre">lazy='raise'</span></code>).  This strategy behaves almost like
<a class="reference internal" href="../orm/loading_relationships.html#sqlalchemy.orm.noload" title="sqlalchemy.orm.noload"><code class="xref py py-func docutils literal notranslate"><span class="pre">noload()</span></code></a> but instead of returning <code class="docutils literal notranslate"><span class="pre">None</span></code> it raises an
InvalidRequestError.  Pull request courtesy Adrian Moennich.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="migration_11.html#change-3512"><span class="std std-ref">New “raise” / “raise_on_sql” loader strategies</span></a></p>
</div>
<a class="changelog-reference headerlink reference internal" href="#change-ceee86d0abb726cd008560b25849fd6d">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3512">#3512</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-11"><span class="target" id="change-9093c4c590e858f7a6341c361cd97105"><strong>[orm] [bug]</strong> </span><p>Fixed an issue where a many-to-one change of an object from one
parent to another could work inconsistently when combined with
an un-flushed modification of the foreign key attribute.  The attribute
move now considers the database-committed value of the foreign key
in order to locate the “previous” parent of the object being
moved.   This allows events to fire off correctly including
backref events.  Previously, these events would not always fire.
Applications which may have relied on the previously broken
behavior may be affected.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="migration_11.html#change-3708"><span class="std std-ref">Fix involving many-to-one object moves with user-initiated foreign key manipulations</span></a></p>
</div>
<a class="changelog-reference headerlink reference internal" href="#change-9093c4c590e858f7a6341c361cd97105">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3708">#3708</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-12"><span class="target" id="change-649f635edb55d8224f0ebeb39df69dd6"><strong>[orm] [bug]</strong> </span><p>Fixed bug where deferred columns would inadvertently be set up
for database load on the next object-wide unexpire, when the object
were merged into the session with <code class="docutils literal notranslate"><span class="pre">session.merge(obj,</span> <span class="pre">load=False)</span></code>.</p>
<a class="changelog-reference headerlink reference internal" href="#change-649f635edb55d8224f0ebeb39df69dd6">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3488">#3488</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-13"><span class="target" id="change-f28176c3e7691799da5b2674680209c0"><strong>[orm] [bug] [mysql]</strong> </span><p>Further continuing on the common MySQL exception case of
a savepoint being cancelled first covered in <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2696">#2696</a>,
the failure mode in which the <a class="reference internal" href="../orm/session_api.html#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> is placed when a
SAVEPOINT vanishes before rollback has been improved to allow the
<a class="reference internal" href="../orm/session_api.html#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> to still function outside of that savepoint.
It is assumed that the savepoint operation failed and was cancelled.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="migration_11.html#change-3680"><span class="std std-ref">Improved Session state when a SAVEPOINT is cancelled by the database</span></a></p>
</div>
<a class="changelog-reference headerlink reference internal" href="#change-f28176c3e7691799da5b2674680209c0">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3680">#3680</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-14"><span class="target" id="change-8a920447463b0b57def835f194bc947f"><strong>[orm] [bug]</strong> </span><p>Fixed bug where a newly inserted instance that is rolled back
would still potentially cause persistence conflicts on the next
transaction, because the instance would not be checked that it
was expired.   This fix will resolve a large class of cases that
erroneously cause the “New instance with identity X conflicts with
persistent instance Y” error.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="migration_11.html#change-3677"><span class="std std-ref">Erroneous “new instance X conflicts with persistent instance Y” flush errors fixed</span></a></p>
</div>
<a class="changelog-reference headerlink reference internal" href="#change-8a920447463b0b57def835f194bc947f">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3677">#3677</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-15"><span class="target" id="change-8d8169201233ee410bfb943fcbd64e8f"><strong>[orm] [bug]</strong> </span><p>An improvement to the workings of <a class="reference internal" href="../orm/query.html#sqlalchemy.orm.query.Query.correlate" title="sqlalchemy.orm.query.Query.correlate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Query.correlate()</span></code></a> such
that when a “polymorphic” entity is used which represents a straight
join of several tables, the statement will ensure that all the
tables within the join are part of what’s correlating.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="migration_11.html#change-3662"><span class="std std-ref">Improvements to the Query.correlate method with polymorphic entities</span></a></p>
</div>
<a class="changelog-reference headerlink reference internal" href="#change-8d8169201233ee410bfb943fcbd64e8f">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3662">#3662</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-16"><span class="target" id="change-4654a27da3f75152d9bb46cdb7469e40"><strong>[orm] [bug]</strong> </span><p>Fixed bug which would cause an eagerly loaded many-to-one attribute
to not be loaded, if the joined eager load were from a row where the
same entity were present multiple times, some calling for the attribute
to be eagerly loaded and others not.  The logic here is revised to
take in the attribute even though a different loader path has
handled the parent entity already.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="migration_11.html#change-3431"><span class="std std-ref">Joined eager loading where the same entity is present multiple times in one row</span></a></p>
</div>
<a class="changelog-reference headerlink reference internal" href="#change-4654a27da3f75152d9bb46cdb7469e40">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3431">#3431</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-17"><span class="target" id="change-3e46993e39e8cecdbbf5cb968b80c4eb"><strong>[orm] [bug]</strong> </span><p>A refinement to the logic which adds columns to the resulting SQL when
<a class="reference internal" href="../orm/query.html#sqlalchemy.orm.query.Query.distinct" title="sqlalchemy.orm.query.Query.distinct"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Query.distinct()</span></code></a> is combined with <a class="reference internal" href="../orm/query.html#sqlalchemy.orm.query.Query.order_by" title="sqlalchemy.orm.query.Query.order_by"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Query.order_by()</span></code></a> such
that columns which are already present will not be added
a second time, even if they are labeled with a different name.
Regardless of this change, the extra columns added to the SQL have
never been returned in the final result, so this change only impacts
the string form of the statement as well as its behavior when used in
a Core execution context.   Additionally, columns are no longer added
when the DISTINCT ON format is used, provided the query is not
wrapped inside a subquery due to joined eager loading.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="migration_11.html#change-3641"><span class="std std-ref">Columns no longer added redundantly with DISTINCT + ORDER BY</span></a></p>
</div>
<a class="changelog-reference headerlink reference internal" href="#change-3e46993e39e8cecdbbf5cb968b80c4eb">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3641">#3641</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-18"><span class="target" id="change-89b5808175cb646ca27aee96edc8813f"><strong>[orm] [bug]</strong> </span><p>Fixed issue where two same-named relationships that refer to
a base class and a concrete-inherited subclass would raise an error
if those relationships were set up using “backref”, while setting up the
identical configuration using relationship() instead with the conflicting
names would succeed, as is allowed in the case of a concrete mapping.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="migration_11.html#change-3630"><span class="std std-ref">Same-named backrefs will not raise an error when applied to concrete inheritance subclasses</span></a></p>
</div>
<a class="changelog-reference headerlink reference internal" href="#change-89b5808175cb646ca27aee96edc8813f">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3630">#3630</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-19"><span class="target" id="change-ac6144457b07a73e68843f65fff61adb"><strong>[orm] [bug]</strong> </span><p>The <a class="reference internal" href="../orm/session_api.html#sqlalchemy.orm.session.Session.merge" title="sqlalchemy.orm.session.Session.merge"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.merge()</span></code></a> method now tracks pending objects by
primary key before emitting an INSERT, and merges distinct objects with
duplicate primary keys together as they are encountered, which is
essentially semi-deterministic at best.   This behavior
matches what happens already with persistent objects.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="migration_11.html#change-3601"><span class="std std-ref">Session.merge resolves pending conflicts the same as persistent</span></a></p>
</div>
<a class="changelog-reference headerlink reference internal" href="#change-ac6144457b07a73e68843f65fff61adb">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3601">#3601</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-20"><span class="target" id="change-dd65aebe5daa65ac33d96732d8c19890"><strong>[orm] [bug]</strong> </span><p>Fixed bug where the “single table inheritance” criteria would be
added onto the end of a query in some inappropriate situations, such
as when querying from an exists() of a single-inheritance subclass.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="migration_11.html#change-3582"><span class="std std-ref">Further Fixes to single-table inheritance querying</span></a></p>
</div>
<a class="changelog-reference headerlink reference internal" href="#change-dd65aebe5daa65ac33d96732d8c19890">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3582">#3582</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-21"><span class="target" id="change-ad8a491013281436a5ec669721de6d99"><strong>[orm] [bug]</strong> </span><p>Added a new type-level modifier <a class="reference internal" href="../core/type_api.html#sqlalchemy.types.TypeEngine.evaluates_none" title="sqlalchemy.types.TypeEngine.evaluates_none"><code class="xref py py-meth docutils literal notranslate"><span class="pre">TypeEngine.evaluates_none()</span></code></a>
which indicates to the ORM that a positive set of None should be
persisted as the value NULL, instead of omitting the column from
the INSERT statement.  This feature is used both as part of the
implementation for <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3514">#3514</a> as well as a standalone feature
available on any type.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="migration_11.html#change-3250"><span class="std std-ref">New options allowing explicit persistence of NULL over a default</span></a></p>
</div>
<a class="changelog-reference headerlink reference internal" href="#change-ad8a491013281436a5ec669721de6d99">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3250">#3250</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-22"><span class="target" id="change-48c47319c947b658d154aa9c012b32e3"><strong>[orm] [bug]</strong> </span><p>Internal calls to “bookkeeping” functions within
<a class="reference internal" href="../orm/session_api.html#sqlalchemy.orm.session.Session.bulk_save_objects" title="sqlalchemy.orm.session.Session.bulk_save_objects"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.bulk_save_objects()</span></code></a> and related bulk methods have
been scaled back to the extent that this functionality is not
currently used, e.g. checks for column default values to be
fetched after an INSERT or UPDATE statement.</p>
<a class="changelog-reference headerlink reference internal" href="#change-48c47319c947b658d154aa9c012b32e3">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3526">#3526</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-23"><span class="target" id="change-9e014772604c4b2bea485723ac44fd4f"><strong>[orm] [bug] [postgresql]</strong> </span><p>Additional fixes have been made regarding the value of <code class="docutils literal notranslate"><span class="pre">None</span></code>
in conjunction with the PostgreSQL <a class="reference internal" href="../dialects/postgresql.html#sqlalchemy.dialects.postgresql.JSON" title="sqlalchemy.dialects.postgresql.JSON"><code class="xref py py-class docutils literal notranslate"><span class="pre">JSON</span></code></a> type.  When
the <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.JSON.params.none_as_null" title="sqlalchemy.types.JSON"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">JSON.none_as_null</span></code></a> flag is left at its default
value of <code class="docutils literal notranslate"><span class="pre">False</span></code>, the ORM will now correctly insert the JSON
“‘null’” string into the column whenever the value on the ORM
object is set to the value <code class="docutils literal notranslate"><span class="pre">None</span></code> or when the value <code class="docutils literal notranslate"><span class="pre">None</span></code>
is used with <a class="reference internal" href="../orm/session_api.html#sqlalchemy.orm.session.Session.bulk_insert_mappings" title="sqlalchemy.orm.session.Session.bulk_insert_mappings"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.bulk_insert_mappings()</span></code></a>,
<strong>including</strong> if the column has a default or server default on it.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="migration_11.html#change-3514"><span class="std std-ref">JSON “null” is inserted as expected with ORM operations, omitted when not present</span></a></p>
<p><a class="reference internal" href="migration_11.html#change-3250"><span class="std std-ref">New options allowing explicit persistence of NULL over a default</span></a></p>
</div>
<a class="changelog-reference headerlink reference internal" href="#change-9e014772604c4b2bea485723ac44fd4f">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3514">#3514</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-24"><span class="target" id="change-09669497f855398505a14d647f0b239c"><strong>[orm] [change]</strong> </span><p>The <a class="reference internal" href="../orm/mapping_api.html#sqlalchemy.orm.Mapper.params.order_by" title="sqlalchemy.orm.Mapper"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">Mapper.order_by</span></code></a> parameter is deprecated.
This is an old parameter no longer relevant to how SQLAlchemy
works, once the Query object was introduced.  By deprecating it
we establish that we aren’t supporting non-working use cases
and that we encourage applications to move off of the use of this
parameter.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="migration_11.html#change-3394"><span class="std std-ref">Mapper.order_by is deprecated</span></a></p>
</div>
<a class="changelog-reference headerlink reference internal" href="#change-09669497f855398505a14d647f0b239c">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3394">#3394</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-25"><span class="target" id="change-32d6229592346b5ad6b2e70e7d6a902d"><strong>[orm] [change]</strong> </span><p>The <a class="reference internal" href="../orm/session_api.html#sqlalchemy.orm.session.Session.params.weak_identity_map" title="sqlalchemy.orm.session.Session"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">Session.weak_identity_map</span></code></a> parameter is deprecated.
See the new recipe at <a class="reference internal" href="../orm/session_state_management.html#session-referencing-behavior"><span class="std std-ref">Session Referencing Behavior</span></a> for
an event-based approach to maintaining strong identity map behavior.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="migration_11.html#change-2677"><span class="std std-ref">New Session lifecycle events</span></a></p>
</div>
<a class="changelog-reference headerlink reference internal" href="#change-32d6229592346b5ad6b2e70e7d6a902d">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2677">#2677</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-1.1.0b1-engine">
<h3>engine<a class="headerlink" href="#change-1.1.0b1-engine" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.0b1-26"><span class="target" id="change-a6533a6047f760f9f9ccee7003a447c2"><strong>[engine] [feature]</strong> </span><p>Added connection pool events <code class="xref py py-meth docutils literal notranslate"><span class="pre">ConnectionEvents.close()</span></code>,
<code class="xref py py-meth docutils literal notranslate"><span class="pre">ConnectionEvents.detach()</span></code>,
<code class="xref py py-meth docutils literal notranslate"><span class="pre">ConnectionEvents.close_detached()</span></code>.</p>
<a class="changelog-reference headerlink reference internal" href="#change-a6533a6047f760f9f9ccee7003a447c2">¶</a><p></p>
</p>
</li>
<li><p id="change-1.1.0b1-27"><span class="target" id="change-d0cb65da9fa15d19af196aad7ff5623e"><strong>[engine] [feature]</strong> </span><p>All string formatting of bound parameter sets and result rows for
logging, exception, and  <code class="docutils literal notranslate"><span class="pre">repr()</span></code> purposes now truncate very large
scalar values within each collection, including an
“N characters truncated”
notation, similar to how the display for large multiple-parameter sets
are themselves truncated.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="migration_11.html#change-2837"><span class="std std-ref">Large parameter and row values are now truncated in logging and exception displays</span></a></p>
</div>
<a class="changelog-reference headerlink reference internal" href="#change-d0cb65da9fa15d19af196aad7ff5623e">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2837">#2837</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-28"><span class="target" id="change-b54566e0a3f779d77ce78d1bb4807399"><strong>[engine] [feature]</strong> </span><p>Multi-tenancy schema translation for <a class="reference internal" href="../core/metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a> objects is added.
This supports the use case of an application that uses the same set of
<a class="reference internal" href="../core/metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a> objects in many schemas, such as schema-per-user.
A new execution option
<a class="reference internal" href="../core/connections.html#sqlalchemy.engine.Connection.execution_options.params.schema_translate_map" title="sqlalchemy.engine.Connection.execution_options"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">Connection.execution_options.schema_translate_map</span></code></a> is
added.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="migration_11.html#change-2685"><span class="std std-ref">Multi-Tenancy Schema Translation for Table objects</span></a></p>
</div>
<a class="changelog-reference headerlink reference internal" href="#change-b54566e0a3f779d77ce78d1bb4807399">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2685">#2685</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-29"><span class="target" id="change-1afaa182eadbbcdb22dd3e0761a0950f"><strong>[engine] [feature]</strong> </span><p>Added a new entrypoint system to the engine to allow “plugins” to
be stated in the query string for a URL.   Custom plugins can
be written which will be given the chance up front to alter and/or
consume the engine’s URL and keyword arguments, and then at engine
create time will be given the engine itself to allow additional
modifications or event registration.  Plugins are written as a
subclass of <a class="reference internal" href="../core/connections.html#sqlalchemy.engine.CreateEnginePlugin" title="sqlalchemy.engine.CreateEnginePlugin"><code class="xref py py-class docutils literal notranslate"><span class="pre">CreateEnginePlugin</span></code></a>; see that class for
details.</p>
<a class="changelog-reference headerlink reference internal" href="#change-1afaa182eadbbcdb22dd3e0761a0950f">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3536">#3536</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-1.1.0b1-sql">
<h3>sql<a class="headerlink" href="#change-1.1.0b1-sql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.0b1-30"><span class="target" id="change-360a40aabf1019e2f12d467220dd3e37"><strong>[sql] [feature]</strong> </span><p>Added TABLESAMPLE support via the new <a class="reference internal" href="../core/selectable.html#sqlalchemy.sql.expression.FromClause.tablesample" title="sqlalchemy.sql.expression.FromClause.tablesample"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FromClause.tablesample()</span></code></a>
method and standalone function.  Pull request courtesy Ilja Everilä.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="migration_11.html#change-3718"><span class="std std-ref">Support for TABLESAMPLE</span></a></p>
</div>
<a class="changelog-reference headerlink reference internal" href="#change-360a40aabf1019e2f12d467220dd3e37">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3718">#3718</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-31"><span class="target" id="change-0fea1bc883b8c90b2f54079c0440f160"><strong>[sql] [feature]</strong> </span><p>Added support for ranges in window functions, using the
<a class="reference internal" href="../core/sqlelement.html#sqlalchemy.sql.expression.over.params.range_" title="sqlalchemy.sql.expression.over"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">over.range_</span></code></a> and
<a class="reference internal" href="../core/sqlelement.html#sqlalchemy.sql.expression.over.params.rows" title="sqlalchemy.sql.expression.over"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">over.rows</span></code></a> parameters.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="migration_11.html#change-3049"><span class="std std-ref">Support for RANGE and ROWS specification within window functions</span></a></p>
</div>
<a class="changelog-reference headerlink reference internal" href="#change-0fea1bc883b8c90b2f54079c0440f160">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3049">#3049</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-32"><span class="target" id="change-bd17df9db744dbb7fa2b2301c2405bc8"><strong>[sql] [feature]</strong> </span><p>Implemented reflection of CHECK constraints for SQLite and PostgreSQL.
This is available via the new inspector method
<a class="reference internal" href="../core/reflection.html#sqlalchemy.engine.reflection.Inspector.get_check_constraints" title="sqlalchemy.engine.reflection.Inspector.get_check_constraints"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Inspector.get_check_constraints()</span></code></a> as well as when reflecting
<a class="reference internal" href="../core/metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a> objects in the form of <a class="reference internal" href="../core/constraints.html#sqlalchemy.schema.CheckConstraint" title="sqlalchemy.schema.CheckConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">CheckConstraint</span></code></a>
objects present in the constraints collection.  Pull request courtesy
Alex Grönholm.</p>
<a class="changelog-reference headerlink reference internal" href="#change-bd17df9db744dbb7fa2b2301c2405bc8">¶</a><p></p>
</p>
</li>
<li><p id="change-1.1.0b1-33"><span class="target" id="change-47ebc8c173b02b3858f2a91e5c4bc3d4"><strong>[sql] [feature]</strong> </span><p>New <a class="reference internal" href="../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators.is_distinct_from" title="sqlalchemy.sql.operators.ColumnOperators.is_distinct_from"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ColumnOperators.is_distinct_from()</span></code></a> and
<a class="reference internal" href="../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators.isnot_distinct_from" title="sqlalchemy.sql.operators.ColumnOperators.isnot_distinct_from"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ColumnOperators.isnot_distinct_from()</span></code></a> operators; pull request
courtesy Sebastian Bank.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="migration_11.html#change-is-distinct-from"><span class="std std-ref">Support for IS DISTINCT FROM and IS NOT DISTINCT FROM</span></a></p>
</div>
<a class="changelog-reference headerlink reference internal" href="#change-47ebc8c173b02b3858f2a91e5c4bc3d4">¶</a><p></p>
</p>
</li>
<li><p id="change-1.1.0b1-34"><span class="target" id="change-852081e60156f45afd19aa6656b45262"><strong>[sql] [feature]</strong> </span><p>Added a hook in <code class="xref py py-meth docutils literal notranslate"><span class="pre">DDLCompiler.visit_create_table()</span></code> called
<code class="xref py py-meth docutils literal notranslate"><span class="pre">DDLCompiler.create_table_suffix()</span></code>, allowing custom dialects
to add keywords after the “CREATE TABLE” clause.  Pull request
courtesy Mark Sandan.</p>
<a class="changelog-reference headerlink reference internal" href="#change-852081e60156f45afd19aa6656b45262">¶</a><p></p>
</p>
</li>
<li><p id="change-1.1.0b1-35"><span class="target" id="change-0746e16f1e36084f02c6d55a068046a0"><strong>[sql] [feature]</strong> </span><p>Negative integer indexes are now accommodated by rows
returned from a <a class="reference internal" href="../core/connections.html#sqlalchemy.engine.ResultProxy" title="sqlalchemy.engine.ResultProxy"><code class="xref py py-class docutils literal notranslate"><span class="pre">ResultProxy</span></code></a>.  Pull request courtesy
Emanuele Gaifas.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="migration_11.html#change-gh-231"><span class="std std-ref">Negative integer indexes accommodated by Core result rows</span></a></p>
</div>
<a class="changelog-reference headerlink reference internal" href="#change-0746e16f1e36084f02c6d55a068046a0">¶</a><p></p>
</p>
</li>
<li><p id="change-1.1.0b1-36"><span class="target" id="change-b96a97734ea3e708037e4856542e8e74"><strong>[sql] [feature]</strong> </span><p>Added <a class="reference internal" href="../core/selectable.html#sqlalchemy.sql.expression.Select.lateral" title="sqlalchemy.sql.expression.Select.lateral"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.lateral()</span></code></a> and related constructs to allow
for the SQL standard LATERAL keyword, currently only supported
by PostgreSQL.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="migration_11.html#change-2857"><span class="std std-ref">Support for the SQL LATERAL keyword</span></a></p>
</div>
<a class="changelog-reference headerlink reference internal" href="#change-b96a97734ea3e708037e4856542e8e74">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2857">#2857</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-37"><span class="target" id="change-a91f9625fbd8a65e11808cecf7088895"><strong>[sql] [feature]</strong> </span><p>Added support for rendering “FULL OUTER JOIN” to both Core and ORM.
Pull request courtesy Stefan Urbanek.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="migration_11.html#change-1957"><span class="std std-ref">Core and ORM support for FULL OUTER JOIN</span></a></p>
</div>
<a class="changelog-reference headerlink reference internal" href="#change-a91f9625fbd8a65e11808cecf7088895">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1957">#1957</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-38"><span class="target" id="change-2e0fda4bfd6e2b5255952d61f70e148f"><strong>[sql] [feature]</strong> </span><p>CTE functionality has been expanded to support all DML, allowing
INSERT, UPDATE, and DELETE statements to both specify their own
WITH clause, as well as for these statements themselves to be
CTE expressions when they include a RETURNING clause.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="migration_11.html#change-2551"><span class="std std-ref">CTE Support for INSERT, UPDATE, DELETE</span></a></p>
</div>
<a class="changelog-reference headerlink reference internal" href="#change-2e0fda4bfd6e2b5255952d61f70e148f">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2551">#2551</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-39"><span class="target" id="change-9d6d98d7acabc8564b8eebb11c28a624"><strong>[sql] [feature]</strong> </span><p>Added support for PEP-435-style enumerated classes, namely
Python 3’s <code class="docutils literal notranslate"><span class="pre">enum.Enum</span></code> class but also including compatible
enumeration libraries, to the <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.Enum" title="sqlalchemy.types.Enum"><code class="xref py py-class docutils literal notranslate"><span class="pre">Enum</span></code></a> datatype.
The <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.Enum" title="sqlalchemy.types.Enum"><code class="xref py py-class docutils literal notranslate"><span class="pre">Enum</span></code></a> datatype now also performs in-Python validation
of incoming values, and adds an option to forego creating the
CHECK constraint <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.Enum.params.create_constraint" title="sqlalchemy.types.Enum"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">Enum.create_constraint</span></code></a>.
Pull request courtesy Alex Grönholm.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="migration_11.html#change-3292"><span class="std std-ref">Support for Python’s native enum type and compatible forms</span></a></p>
<p><a class="reference internal" href="migration_11.html#change-3095"><span class="std std-ref">The Enum type now does in-Python validation of values</span></a></p>
</div>
<a class="changelog-reference headerlink reference internal" href="#change-9d6d98d7acabc8564b8eebb11c28a624">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3095">#3095</a>, <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3292">#3292</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-40"><span class="target" id="change-62a0a934a2b0bba2ce629ca376fa5890"><strong>[sql] [feature]</strong> </span><p>A deep improvement to the recently added <a class="reference internal" href="../core/sqlelement.html#sqlalchemy.sql.expression.TextClause.columns" title="sqlalchemy.sql.expression.TextClause.columns"><code class="xref py py-meth docutils literal notranslate"><span class="pre">TextClause.columns()</span></code></a>
method, and its interaction with result-row processing, now allows
the columns passed to the method to be positionally matched with the
result columns in the statement, rather than matching on name alone.
The advantage to this includes that when linking a textual SQL statement
to an ORM or Core table model, no system of labeling or de-duping of
common column names needs to occur, which also means there’s no need
to worry about how label names match to ORM columns and so-forth.  In
addition, the <a class="reference internal" href="../core/connections.html#sqlalchemy.engine.ResultProxy" title="sqlalchemy.engine.ResultProxy"><code class="xref py py-class docutils literal notranslate"><span class="pre">ResultProxy</span></code></a> has been further enhanced to
map column and string keys to a row with greater precision in some
cases.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="migration_11.html#change-3501"><span class="std std-ref">ResultSet column matching enhancements; positional column setup for textual SQL</span></a> - feature overview</p>
<p><a class="reference internal" href="migration_11.html#behavior-change-3501"><span class="std std-ref">TextClause.columns() will match columns positionally, not by name, when passed positionally</span></a> - backwards compatibility remarks</p>
</div>
<a class="changelog-reference headerlink reference internal" href="#change-62a0a934a2b0bba2ce629ca376fa5890">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3501">#3501</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-41"><span class="target" id="change-17c3b4f058ed555d27ca96a245bdde91"><strong>[sql] [feature]</strong> </span><p>Added a new type to core <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.JSON" title="sqlalchemy.types.JSON"><code class="xref py py-class docutils literal notranslate"><span class="pre">JSON</span></code></a>.  This is the
base of the PostgreSQL <a class="reference internal" href="../dialects/postgresql.html#sqlalchemy.dialects.postgresql.JSON" title="sqlalchemy.dialects.postgresql.JSON"><code class="xref py py-class docutils literal notranslate"><span class="pre">JSON</span></code></a> type as well as that
of the new <a class="reference internal" href="../dialects/mysql.html#sqlalchemy.dialects.mysql.JSON" title="sqlalchemy.dialects.mysql.JSON"><code class="xref py py-class docutils literal notranslate"><span class="pre">JSON</span></code></a> type, so that a PG/MySQL-agnostic
JSON column may be used.  The type features basic index and path
searching support.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="migration_11.html#change-3619"><span class="std std-ref">JSON support added to Core</span></a></p>
</div>
<a class="changelog-reference headerlink reference internal" href="#change-17c3b4f058ed555d27ca96a245bdde91">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3619">#3619</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-42"><span class="target" id="change-f1a5b143ac2614a44c4d4be425086e5e"><strong>[sql] [feature]</strong> </span><p>Added support for “set-aggregate” functions of the form
<code class="docutils literal notranslate"><span class="pre">&lt;function&gt;</span> <span class="pre">WITHIN</span> <span class="pre">GROUP</span> <span class="pre">(ORDER</span> <span class="pre">BY</span> <span class="pre">&lt;criteria&gt;)</span></code>, using the
method <a class="reference internal" href="../core/functions.html#sqlalchemy.sql.functions.FunctionElement.within_group" title="sqlalchemy.sql.functions.FunctionElement.within_group"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FunctionElement.within_group()</span></code></a>.  A series of common
set-aggregate functions with return types derived from the set have
been added. This includes functions like <a class="reference internal" href="../core/functions.html#sqlalchemy.sql.functions.percentile_cont" title="sqlalchemy.sql.functions.percentile_cont"><code class="xref py py-class docutils literal notranslate"><span class="pre">percentile_cont</span></code></a>,
<a class="reference internal" href="../core/functions.html#sqlalchemy.sql.functions.dense_rank" title="sqlalchemy.sql.functions.dense_rank"><code class="xref py py-class docutils literal notranslate"><span class="pre">dense_rank</span></code></a> and others.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="migration_11.html#change-3132"><span class="std std-ref">New Function features, “WITHIN GROUP”, array_agg and set aggregate functions</span></a></p>
</div>
<a class="changelog-reference headerlink reference internal" href="#change-f1a5b143ac2614a44c4d4be425086e5e">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1370">#1370</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-43"><span class="target" id="change-1765f3641a6e264a7fe24088c46a4b59"><strong>[sql] [feature] [postgresql]</strong> </span><p>Added support for the SQL-standard function <a class="reference internal" href="../core/functions.html#sqlalchemy.sql.functions.array_agg" title="sqlalchemy.sql.functions.array_agg"><code class="xref py py-class docutils literal notranslate"><span class="pre">array_agg</span></code></a>,
which automatically returns an <a class="reference internal" href="../dialects/postgresql.html#sqlalchemy.dialects.postgresql.ARRAY" title="sqlalchemy.dialects.postgresql.ARRAY"><code class="xref py py-class docutils literal notranslate"><span class="pre">ARRAY</span></code></a> of the correct type
and supports index / slice operations, as well as
<a class="reference internal" href="../dialects/postgresql.html#sqlalchemy.dialects.postgresql.array_agg" title="sqlalchemy.dialects.postgresql.array_agg"><code class="xref py py-func docutils literal notranslate"><span class="pre">array_agg()</span></code></a>, which returns a <a class="reference internal" href="../dialects/postgresql.html#sqlalchemy.dialects.postgresql.ARRAY" title="sqlalchemy.dialects.postgresql.ARRAY"><code class="xref py py-class docutils literal notranslate"><span class="pre">ARRAY</span></code></a>
with additional comparison features.   As arrays are only
supported on PostgreSQL at the moment, only actually works on
PostgreSQL.  Also added a new construct
<a class="reference internal" href="../dialects/postgresql.html#sqlalchemy.dialects.postgresql.aggregate_order_by" title="sqlalchemy.dialects.postgresql.aggregate_order_by"><code class="xref py py-class docutils literal notranslate"><span class="pre">aggregate_order_by</span></code></a> in support of PG’s
“ORDER BY” extension.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="migration_11.html#change-3132"><span class="std std-ref">New Function features, “WITHIN GROUP”, array_agg and set aggregate functions</span></a></p>
</div>
<a class="changelog-reference headerlink reference internal" href="#change-1765f3641a6e264a7fe24088c46a4b59">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3132">#3132</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-44"><span class="target" id="change-073de265914ed4fee6ddbc41fb452906"><strong>[sql] [feature]</strong> </span><p>Added a new type to core <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.ARRAY" title="sqlalchemy.types.ARRAY"><code class="xref py py-class docutils literal notranslate"><span class="pre">ARRAY</span></code></a>.  This is the
base of the PostgreSQL <a class="reference internal" href="../dialects/postgresql.html#sqlalchemy.dialects.postgresql.ARRAY" title="sqlalchemy.dialects.postgresql.ARRAY"><code class="xref py py-class docutils literal notranslate"><span class="pre">ARRAY</span></code></a> type, and is now part of Core
to begin supporting various SQL-standard array-supporting features
including some functions and eventual support for native arrays
on other databases that have an “array” concept, such as DB2 or Oracle.
Additionally, new operators <a class="reference internal" href="../core/sqlelement.html#sqlalchemy.sql.expression.any_" title="sqlalchemy.sql.expression.any_"><code class="xref py py-func docutils literal notranslate"><span class="pre">any_()</span></code></a> and
<a class="reference internal" href="../core/sqlelement.html#sqlalchemy.sql.expression.all_" title="sqlalchemy.sql.expression.all_"><code class="xref py py-func docutils literal notranslate"><span class="pre">all_()</span></code></a> have been added.  These support not just
array constructs on PostgreSQL, but also subqueries that are usable
on MySQL (but sadly not on PostgreSQL).</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="migration_11.html#change-3516"><span class="std std-ref">Array support added to Core; new ANY and ALL operators</span></a></p>
</div>
<a class="changelog-reference headerlink reference internal" href="#change-073de265914ed4fee6ddbc41fb452906">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3516">#3516</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-45"><span class="target" id="change-33f3b50c7e87df7564c217803f642cf6"><strong>[sql] [bug]</strong> </span><p><a class="reference internal" href="../core/selectable.html#sqlalchemy.sql.expression.FromClause.count" title="sqlalchemy.sql.expression.FromClause.count"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FromClause.count()</span></code></a> is deprecated.  This function makes use of
an arbitrary column in the table and is not reliable; for Core use,
<code class="docutils literal notranslate"><span class="pre">func.count()</span></code> should be preferred.</p>
<a class="changelog-reference headerlink reference internal" href="#change-33f3b50c7e87df7564c217803f642cf6">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3724">#3724</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-46"><span class="target" id="change-0555461d7e299c51372dcc39d1516f29"><strong>[sql] [bug]</strong> </span><p>Fixed an assertion that would raise somewhat inappropriately
if a <a class="reference internal" href="../core/constraints.html#sqlalchemy.schema.Index" title="sqlalchemy.schema.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> were associated with a <a class="reference internal" href="../core/metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a> that
is associated with a lower-case-t <a class="reference internal" href="../core/selectable.html#sqlalchemy.sql.expression.TableClause" title="sqlalchemy.sql.expression.TableClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">TableClause</span></code></a>; the
association should be ignored for the purposes of associating
the index with a <a class="reference internal" href="../core/metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a>.</p>
<a class="changelog-reference headerlink reference internal" href="#change-0555461d7e299c51372dcc39d1516f29">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3616">#3616</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-47"><span class="target" id="change-4c12275c79c42b62d1c375f76c771599"><strong>[sql] [bug]</strong> </span><p>The <a class="reference internal" href="../core/sqlelement.html#sqlalchemy.sql.expression.type_coerce" title="sqlalchemy.sql.expression.type_coerce"><code class="xref py py-func docutils literal notranslate"><span class="pre">type_coerce()</span></code></a> construct is now a fully fledged Core
expression element which is late-evaluated at compile time.  Previously,
the function was only a conversion function which would handle different
expression inputs by returning either a <a class="reference internal" href="../core/sqlelement.html#sqlalchemy.sql.expression.Label" title="sqlalchemy.sql.expression.Label"><code class="xref py py-class docutils literal notranslate"><span class="pre">Label</span></code></a> of a column-oriented
expression or a copy of a given <a class="reference internal" href="../core/sqlelement.html#sqlalchemy.sql.expression.BindParameter" title="sqlalchemy.sql.expression.BindParameter"><code class="xref py py-class docutils literal notranslate"><span class="pre">BindParameter</span></code></a> object,
which in particular prevented the operation from being logically
maintained when an ORM-level expression transformation would convert
a column to a bound parameter (e.g. for lazy loading).</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="migration_11.html#change-3531"><span class="std std-ref">The type_coerce function is now a persistent SQL element</span></a></p>
</div>
<a class="changelog-reference headerlink reference internal" href="#change-4c12275c79c42b62d1c375f76c771599">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3531">#3531</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-48"><span class="target" id="change-6f4cf479ea625f2b2f5aa2a4e952959b"><strong>[sql] [bug]</strong> </span><p>The <a class="reference internal" href="../core/custom_types.html#sqlalchemy.types.TypeDecorator" title="sqlalchemy.types.TypeDecorator"><code class="xref py py-class docutils literal notranslate"><span class="pre">TypeDecorator</span></code></a> type extender will now work in conjunction
with a <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.SchemaType" title="sqlalchemy.types.SchemaType"><code class="xref py py-class docutils literal notranslate"><span class="pre">SchemaType</span></code></a> implementation, typically <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.Enum" title="sqlalchemy.types.Enum"><code class="xref py py-class docutils literal notranslate"><span class="pre">Enum</span></code></a>
or <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.Boolean" title="sqlalchemy.types.Boolean"><code class="xref py py-class docutils literal notranslate"><span class="pre">Boolean</span></code></a> with regards to ensuring that the per-table
events are propagated from the implementation type to the outer type.
These events are used
to ensure that the constraints or PostgreSQL types (e.g. ENUM)
are correctly created (and possibly dropped) along with the parent
table.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="migration_11.html#change-2919"><span class="std std-ref">TypeDecorator now works with Enum, Boolean, “schema” types automatically</span></a></p>
</div>
<a class="changelog-reference headerlink reference internal" href="#change-6f4cf479ea625f2b2f5aa2a4e952959b">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2919">#2919</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-49"><span class="target" id="change-e9e0e04652a369370f2eae50538498c9"><strong>[sql] [bug]</strong> </span><p>The behavior of the <a class="reference internal" href="../core/selectable.html#sqlalchemy.sql.expression.union" title="sqlalchemy.sql.expression.union"><code class="xref py py-func docutils literal notranslate"><span class="pre">union()</span></code></a> construct and related constructs
such as <a class="reference internal" href="../orm/query.html#sqlalchemy.orm.query.Query.union" title="sqlalchemy.orm.query.Query.union"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Query.union()</span></code></a> now handle the case where the embedded
SELECT statements need to be parenthesized due to the fact that they
include LIMIT, OFFSET and/or ORDER BY.   These queries <strong>do not work
on SQLite</strong>, and will fail on that backend as they did before, but
should now work on all other backends.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="migration_11.html#change-2528"><span class="std std-ref">A UNION or similar of SELECTs with LIMIT/OFFSET/ORDER BY now parenthesizes the embedded selects</span></a></p>
</div>
<a class="changelog-reference headerlink reference internal" href="#change-e9e0e04652a369370f2eae50538498c9">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2528">#2528</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-50"><span class="target" id="change-6d7175b6067e4d63a84c6dccbbda213f"><strong>[sql] [change] [mysql]</strong> </span><p>The system by which a <a class="reference internal" href="../core/metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a> considers itself to be an
“auto increment” column has been changed, such that autoincrement
is no longer implicitly enabled for a <a class="reference internal" href="../core/metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a> that has a
composite primary key.  In order to accommodate being able to enable
autoincrement for a composite PK member column while at the same time
maintaining SQLAlchemy’s long standing behavior of enabling
implicit autoincrement for a single integer primary key, a third
state has been added to the <a class="reference internal" href="../core/metadata.html#sqlalchemy.schema.Column.params.autoincrement" title="sqlalchemy.schema.Column"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">Column.autoincrement</span></code></a> parameter
<code class="docutils literal notranslate"><span class="pre">&quot;auto&quot;</span></code>, which is now the default.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="migration_11.html#change-3216"><span class="std std-ref">The .autoincrement directive is no longer implicitly enabled for a composite primary key column</span></a></p>
<p><a class="reference internal" href="migration_11.html#change-mysql-3216"><span class="std std-ref">No more generation of an implicit KEY for composite primary key w/ AUTO_INCREMENT</span></a></p>
</div>
<a class="changelog-reference headerlink reference internal" href="#change-6d7175b6067e4d63a84c6dccbbda213f">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3216">#3216</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-1.1.0b1-schema">
<h3>schema<a class="headerlink" href="#change-1.1.0b1-schema" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.0b1-51"><span class="target" id="change-c7382e5258b1fe48e537f64ed89e23f6"><strong>[schema] [enhancement]</strong> </span><p>The default generation functions passed to <a class="reference internal" href="../core/metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a> objects
are now run through “update_wrapper”, or an equivalent function
if a callable non-function is passed, so that introspection tools
preserve the name and docstring of the wrapped function.  Pull
request courtesy hsum.</p>
<a class="changelog-reference headerlink reference internal" href="#change-c7382e5258b1fe48e537f64ed89e23f6">¶</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-1.1.0b1-postgresql">
<h3>postgresql<a class="headerlink" href="#change-1.1.0b1-postgresql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.0b1-52"><span class="target" id="change-3f5f442478e7a8389853ac41b3252de8"><strong>[postgresql] [feature]</strong> </span><p>Added support for PostgreSQL’s INSERT..ON CONFLICT using a new
PostgreSQL-specific <code class="xref py py-class docutils literal notranslate"><span class="pre">Insert</span></code> object.
Pull request and extensive efforts here by Robin Thomas.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="migration_11.html#change-3529"><span class="std std-ref">Support for INSERT..ON CONFLICT (DO UPDATE | DO NOTHING)</span></a></p>
</div>
<a class="changelog-reference headerlink reference internal" href="#change-3f5f442478e7a8389853ac41b3252de8">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3529">#3529</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-53"><span class="target" id="change-5d11b5a42524d1e67d0cff645c9823dc"><strong>[postgresql] [feature]</strong> </span><p>The DDL for DROP INDEX will emit “CONCURRENTLY” if the
<code class="docutils literal notranslate"><span class="pre">postgresql_concurrently</span></code> flag is set upon the
<a class="reference internal" href="../core/constraints.html#sqlalchemy.schema.Index" title="sqlalchemy.schema.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> and if the database in use is detected as
PostgreSQL version 9.2 or greater.   For CREATE INDEX, database
version detection is also added which will omit the clause if
PG version is less than 8.2.  Pull request courtesy Iuri de Silvio.</p>
<a class="changelog-reference headerlink reference internal" href="#change-5d11b5a42524d1e67d0cff645c9823dc">¶</a><p></p>
</p>
</li>
<li><p id="change-1.1.0b1-54"><span class="target" id="change-28b7f4677e511cd22a9dd16745eed45d"><strong>[postgresql] [feature]</strong> </span><p>Added new parameter <a class="reference internal" href="../dialects/postgresql.html#sqlalchemy.dialects.postgresql.base.PGInspector.get_view_names.params.include" title="sqlalchemy.dialects.postgresql.base.PGInspector.get_view_names"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">PGInspector.get_view_names.include</span></code></a>,
allowing specification for what kinds of views should be returned.
Currently “plain” and “materialized” views are included.  Pull
request courtesy Sebastian Bank.</p>
<a class="changelog-reference headerlink reference internal" href="#change-28b7f4677e511cd22a9dd16745eed45d">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3588">#3588</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-55"><span class="target" id="change-a14a8b1bc9046c1b5c58cd0aba51b98d"><strong>[postgresql] [feature]</strong> </span><p>Added <code class="docutils literal notranslate"><span class="pre">postgresql_tablespace</span></code> as an argument to <a class="reference internal" href="../core/constraints.html#sqlalchemy.schema.Index" title="sqlalchemy.schema.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a>
to allow specification of TABLESPACE for an index in PostgreSQL.
Complements the same-named parameter on <a class="reference internal" href="../core/metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a>.  Pull
request courtesy Benjamin Bertrand.</p>
<a class="changelog-reference headerlink reference internal" href="#change-a14a8b1bc9046c1b5c58cd0aba51b98d">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3720">#3720</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-56"><span class="target" id="change-9a9f3cf4012ddda75e5cfa9bba230cee"><strong>[postgresql] [feature]</strong> </span><p>Added new parameter
<a class="reference internal" href="../core/selectable.html#sqlalchemy.sql.expression.GenerativeSelect.with_for_update.params.key_share" title="sqlalchemy.sql.expression.GenerativeSelect.with_for_update"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">GenerativeSelect.with_for_update.key_share</span></code></a>, which
will render the <code class="docutils literal notranslate"><span class="pre">FOR</span> <span class="pre">NO</span> <span class="pre">KEY</span> <span class="pre">UPDATE</span></code> version of <code class="docutils literal notranslate"><span class="pre">FOR</span> <span class="pre">UPDATE</span></code>
and <code class="docutils literal notranslate"><span class="pre">FOR</span> <span class="pre">KEY</span> <span class="pre">SHARE</span></code> instead of <code class="docutils literal notranslate"><span class="pre">FOR</span> <span class="pre">SHARE</span></code>
on the PostgreSQL backend.  Pull request courtesy Sergey Skopin.</p>
<a class="changelog-reference headerlink reference internal" href="#change-9a9f3cf4012ddda75e5cfa9bba230cee">¶</a><p></p>
</p>
</li>
<li><p id="change-1.1.0b1-57"><span class="target" id="change-f4f81365de9118f24274587ffddf8595"><strong>[postgresql] [feature] [oracle]</strong> </span><p>Added new parameter
<a class="reference internal" href="../core/selectable.html#sqlalchemy.sql.expression.GenerativeSelect.with_for_update.params.skip_locked" title="sqlalchemy.sql.expression.GenerativeSelect.with_for_update"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">GenerativeSelect.with_for_update.skip_locked</span></code></a>, which
will render the <code class="docutils literal notranslate"><span class="pre">SKIP</span> <span class="pre">LOCKED</span></code> phrase for a <code class="docutils literal notranslate"><span class="pre">FOR</span> <span class="pre">UPDATE</span></code> or
<code class="docutils literal notranslate"><span class="pre">FOR</span> <span class="pre">SHARE</span></code> lock on the PostgreSQL and Oracle backends.  Pull
request courtesy Jack Zhou.</p>
<a class="changelog-reference headerlink reference internal" href="#change-f4f81365de9118f24274587ffddf8595">¶</a><p></p>
</p>
</li>
<li><p id="change-1.1.0b1-58"><span class="target" id="change-96e76936ae13e7cd8afafdfe0046aece"><strong>[postgresql] [feature]</strong> </span><p>Added a new dialect for the PyGreSQL PostgreSQL dialect.  Thanks
to Christoph Zwerschke and Kaolin Imago Fire for their efforts.</p>
<a class="changelog-reference headerlink reference internal" href="#change-96e76936ae13e7cd8afafdfe0046aece">¶</a><p></p>
</p>
</li>
<li><p id="change-1.1.0b1-59"><span class="target" id="change-19aa6de2dd87b7d89df8d37af407d32c"><strong>[postgresql] [feature]</strong> </span><p>Added a new constant <code class="xref py py-attr docutils literal notranslate"><span class="pre">JSON.NULL</span></code>, indicating
that the JSON NULL value should be used for a value
regardless of other settings.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="migration_11.html#change-3514-jsonnull"><span class="std std-ref">New JSON.NULL Constant Added</span></a></p>
</div>
<a class="changelog-reference headerlink reference internal" href="#change-19aa6de2dd87b7d89df8d37af407d32c">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3514">#3514</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-60"><span class="target" id="change-d432d3f0dea5755e1961e2900621f5cb"><strong>[postgresql] [bug]</strong> </span><p>Added support for reflecting the source of materialized views
to the PostgreSQL version of the <a class="reference internal" href="../core/reflection.html#sqlalchemy.engine.reflection.Inspector.get_view_definition" title="sqlalchemy.engine.reflection.Inspector.get_view_definition"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Inspector.get_view_definition()</span></code></a>
method.</p>
<a class="changelog-reference headerlink reference internal" href="#change-d432d3f0dea5755e1961e2900621f5cb">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3587">#3587</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-61"><span class="target" id="change-47dd8bf4fad0416dfd0377b613df9e99"><strong>[postgresql] [bug]</strong> </span><p>The use of a <a class="reference internal" href="../dialects/postgresql.html#sqlalchemy.dialects.postgresql.ARRAY" title="sqlalchemy.dialects.postgresql.ARRAY"><code class="xref py py-class docutils literal notranslate"><span class="pre">ARRAY</span></code></a> object that refers
to a <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.Enum" title="sqlalchemy.types.Enum"><code class="xref py py-class docutils literal notranslate"><span class="pre">Enum</span></code></a> or <a class="reference internal" href="../dialects/postgresql.html#sqlalchemy.dialects.postgresql.ENUM" title="sqlalchemy.dialects.postgresql.ENUM"><code class="xref py py-class docutils literal notranslate"><span class="pre">ENUM</span></code></a> subtype
will now emit the expected “CREATE TYPE” and “DROP TYPE” DDL when
the type is used within a “CREATE TABLE” or “DROP TABLE”.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="migration_11.html#change-2729"><span class="std std-ref">ARRAY with ENUM will now emit CREATE TYPE for the ENUM</span></a></p>
</div>
<a class="changelog-reference headerlink reference internal" href="#change-47dd8bf4fad0416dfd0377b613df9e99">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2729">#2729</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-62"><span class="target" id="change-de38578e28bc8265d15f20fa71a4ac1b"><strong>[postgresql] [bug]</strong> </span><p>The “hashable” flag on special datatypes such as <a class="reference internal" href="../dialects/postgresql.html#sqlalchemy.dialects.postgresql.ARRAY" title="sqlalchemy.dialects.postgresql.ARRAY"><code class="xref py py-class docutils literal notranslate"><span class="pre">ARRAY</span></code></a>,
<a class="reference internal" href="../dialects/postgresql.html#sqlalchemy.dialects.postgresql.JSON" title="sqlalchemy.dialects.postgresql.JSON"><code class="xref py py-class docutils literal notranslate"><span class="pre">JSON</span></code></a> and <a class="reference internal" href="../dialects/postgresql.html#sqlalchemy.dialects.postgresql.HSTORE" title="sqlalchemy.dialects.postgresql.HSTORE"><code class="xref py py-class docutils literal notranslate"><span class="pre">HSTORE</span></code></a> is now
set to False, which allows these types to be fetchable in ORM
queries that include entities within the row.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="migration_11.html#change-3499"><span class="std std-ref">Changes regarding “unhashable” types, impacts deduping of ORM rows</span></a></p>
<p><a class="reference internal" href="migration_11.html#change-3499-postgresql"><span class="std std-ref">ARRAY and JSON types now correctly specify “unhashable”</span></a></p>
</div>
<a class="changelog-reference headerlink reference internal" href="#change-de38578e28bc8265d15f20fa71a4ac1b">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3499">#3499</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-63"><span class="target" id="change-8da75e31c8cd6d00e80ba3917b6d4e5b"><strong>[postgresql] [bug]</strong> </span><p>The PostgreSQL <a class="reference internal" href="../dialects/postgresql.html#sqlalchemy.dialects.postgresql.ARRAY" title="sqlalchemy.dialects.postgresql.ARRAY"><code class="xref py py-class docutils literal notranslate"><span class="pre">ARRAY</span></code></a> type now supports multidimensional
indexed access, e.g. expressions such as <code class="docutils literal notranslate"><span class="pre">somecol[5][6]</span></code> without
any need for explicit casts or type coercions, provided
that the <a class="reference internal" href="../dialects/postgresql.html#sqlalchemy.dialects.postgresql.ARRAY.params.dimensions" title="sqlalchemy.dialects.postgresql.ARRAY"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">ARRAY.dimensions</span></code></a> parameter is set to the
desired number of dimensions.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="migration_11.html#change-3503"><span class="std std-ref">Correct SQL Types are Established from Indexed Access of ARRAY, JSON, HSTORE</span></a></p>
</div>
<a class="changelog-reference headerlink reference internal" href="#change-8da75e31c8cd6d00e80ba3917b6d4e5b">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3487">#3487</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-64"><span class="target" id="change-955064818187d78a11ba0c613973c45a"><strong>[postgresql] [bug]</strong> </span><p>The return type for the <a class="reference internal" href="../dialects/postgresql.html#sqlalchemy.dialects.postgresql.JSON" title="sqlalchemy.dialects.postgresql.JSON"><code class="xref py py-class docutils literal notranslate"><span class="pre">JSON</span></code></a> and <a class="reference internal" href="../dialects/postgresql.html#sqlalchemy.dialects.postgresql.JSONB" title="sqlalchemy.dialects.postgresql.JSONB"><code class="xref py py-class docutils literal notranslate"><span class="pre">JSONB</span></code></a>
when using indexed access has been fixed to work like PostgreSQL itself,
and returns an expression that itself is of type <a class="reference internal" href="../dialects/postgresql.html#sqlalchemy.dialects.postgresql.JSON" title="sqlalchemy.dialects.postgresql.JSON"><code class="xref py py-class docutils literal notranslate"><span class="pre">JSON</span></code></a>
or <a class="reference internal" href="../dialects/postgresql.html#sqlalchemy.dialects.postgresql.JSONB" title="sqlalchemy.dialects.postgresql.JSONB"><code class="xref py py-class docutils literal notranslate"><span class="pre">JSONB</span></code></a>.  Previously, the accessor would return
<a class="reference internal" href="../core/type_api.html#sqlalchemy.types.NullType" title="sqlalchemy.types.NullType"><code class="xref py py-class docutils literal notranslate"><span class="pre">NullType</span></code></a> which disallowed subsequent JSON-like operators to be
used.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="migration_11.html#change-3503"><span class="std std-ref">Correct SQL Types are Established from Indexed Access of ARRAY, JSON, HSTORE</span></a></p>
</div>
<a class="changelog-reference headerlink reference internal" href="#change-955064818187d78a11ba0c613973c45a">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3503">#3503</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-65"><span class="target" id="change-e131ab33b04196b6d2081a5e820d4974"><strong>[postgresql] [bug]</strong> </span><p>The <a class="reference internal" href="../dialects/postgresql.html#sqlalchemy.dialects.postgresql.JSON" title="sqlalchemy.dialects.postgresql.JSON"><code class="xref py py-class docutils literal notranslate"><span class="pre">JSON</span></code></a>, <a class="reference internal" href="../dialects/postgresql.html#sqlalchemy.dialects.postgresql.JSONB" title="sqlalchemy.dialects.postgresql.JSONB"><code class="xref py py-class docutils literal notranslate"><span class="pre">JSONB</span></code></a> and
<a class="reference internal" href="../dialects/postgresql.html#sqlalchemy.dialects.postgresql.HSTORE" title="sqlalchemy.dialects.postgresql.HSTORE"><code class="xref py py-class docutils literal notranslate"><span class="pre">HSTORE</span></code></a> datatypes now allow full control over the
return type from an indexed textual access operation, either <code class="docutils literal notranslate"><span class="pre">column[someindex].astext</span></code>
for a JSON type or <code class="docutils literal notranslate"><span class="pre">column[someindex]</span></code> for an HSTORE type,
via the <a class="reference internal" href="../dialects/postgresql.html#sqlalchemy.dialects.postgresql.JSON.params.astext_type" title="sqlalchemy.dialects.postgresql.JSON"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">JSON.astext_type</span></code></a> and
<a class="reference internal" href="../dialects/postgresql.html#sqlalchemy.dialects.postgresql.HSTORE.params.text_type" title="sqlalchemy.dialects.postgresql.HSTORE"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">HSTORE.text_type</span></code></a> parameters.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="migration_11.html#change-3503"><span class="std std-ref">Correct SQL Types are Established from Indexed Access of ARRAY, JSON, HSTORE</span></a></p>
</div>
<a class="changelog-reference headerlink reference internal" href="#change-e131ab33b04196b6d2081a5e820d4974">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3503">#3503</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-66"><span class="target" id="change-6dfedfbab62807e6296ba6410d21fa16"><strong>[postgresql] [bug]</strong> </span><p>The <a class="reference internal" href="../dialects/postgresql.html#sqlalchemy.dialects.postgresql.JSON.Comparator.astext" title="sqlalchemy.dialects.postgresql.JSON.Comparator.astext"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Comparator.astext</span></code></a> modifier no longer
calls upon <a class="reference internal" href="../core/sqlelement.html#sqlalchemy.sql.expression.ColumnElement.cast" title="sqlalchemy.sql.expression.ColumnElement.cast"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ColumnElement.cast()</span></code></a> implicitly, as PG’s JSON/JSONB
types allow cross-casting between each other as well.  Code that
makes use of <a class="reference internal" href="../core/sqlelement.html#sqlalchemy.sql.expression.ColumnElement.cast" title="sqlalchemy.sql.expression.ColumnElement.cast"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ColumnElement.cast()</span></code></a> on JSON indexed access,
e.g. <code class="docutils literal notranslate"><span class="pre">col[someindex].cast(Integer)</span></code>, will need to be changed
to call <a class="reference internal" href="../dialects/postgresql.html#sqlalchemy.dialects.postgresql.JSON.Comparator.astext" title="sqlalchemy.dialects.postgresql.JSON.Comparator.astext"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Comparator.astext</span></code></a> explicitly.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="migration_11.html#change-3503-cast"><span class="std std-ref">The JSON cast() operation now requires .astext is called explicitly</span></a></p>
</div>
<a class="changelog-reference headerlink reference internal" href="#change-6dfedfbab62807e6296ba6410d21fa16">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3503">#3503</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-67"><span class="target" id="change-6330dccd9f95ad0cf2168ee7ac940254"><strong>[postgresql] [change]</strong> </span><p>The <code class="docutils literal notranslate"><span class="pre">sqlalchemy.dialects.postgres</span></code> module, long deprecated, is
removed; this has emitted a warning for many years and projects
should be calling upon <code class="docutils literal notranslate"><span class="pre">sqlalchemy.dialects.postgresql</span></code>.
Engine URLs of the form <code class="docutils literal notranslate"><span class="pre">postgres://</span></code> will still continue to function,
however.</p>
<a class="changelog-reference headerlink reference internal" href="#change-6330dccd9f95ad0cf2168ee7ac940254">¶</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-1.1.0b1-mysql">
<h3>mysql<a class="headerlink" href="#change-1.1.0b1-mysql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.0b1-68"><span class="target" id="change-9205bf2037f2de73d4da5d5c4ede6d18"><strong>[mysql] [feature]</strong> </span><p>Added support for “autocommit” on MySQL drivers, via the
AUTOCOMMIT isolation level setting.  Pull request courtesy
Roman Podoliaka.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="migration_11.html#change-3332"><span class="std std-ref">Added support for AUTOCOMMIT “isolation level”</span></a></p>
</div>
<a class="changelog-reference headerlink reference internal" href="#change-9205bf2037f2de73d4da5d5c4ede6d18">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3332">#3332</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-69"><span class="target" id="change-1f91faadfeca6a6deca2362e7f770a4c"><strong>[mysql] [feature]</strong> </span><p>Added <a class="reference internal" href="../dialects/mysql.html#sqlalchemy.dialects.mysql.JSON" title="sqlalchemy.dialects.mysql.JSON"><code class="xref py py-class docutils literal notranslate"><span class="pre">JSON</span></code></a> for MySQL 5.7.  The JSON type provides
persistence of JSON values in MySQL as well as basic operator support
of “getitem” and “getpath”, making use of the <code class="docutils literal notranslate"><span class="pre">JSON_EXTRACT</span></code>
function in order to refer to individual paths in a JSON structure.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="migration_11.html#change-3547"><span class="std std-ref">MySQL JSON Support</span></a></p>
</div>
<a class="changelog-reference headerlink reference internal" href="#change-1f91faadfeca6a6deca2362e7f770a4c">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3547">#3547</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-70"><span class="target" id="change-d2790f0772bca4a21e0a612e8157501c"><strong>[mysql] [change]</strong> </span><p>The MySQL dialect no longer generates an extra “KEY” directive when
generating CREATE TABLE DDL for a table using InnoDB with a
composite primary key with AUTO_INCREMENT on a column that isn’t the
first column;  to overcome InnoDB’s limitation here, the PRIMARY KEY
constraint is now generated with the AUTO_INCREMENT column placed
first in the list of columns.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="migration_11.html#change-mysql-3216"><span class="std std-ref">No more generation of an implicit KEY for composite primary key w/ AUTO_INCREMENT</span></a></p>
<p><a class="reference internal" href="migration_11.html#change-3216"><span class="std std-ref">The .autoincrement directive is no longer implicitly enabled for a composite primary key column</span></a></p>
</div>
<a class="changelog-reference headerlink reference internal" href="#change-d2790f0772bca4a21e0a612e8157501c">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3216">#3216</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-1.1.0b1-sqlite">
<h3>sqlite<a class="headerlink" href="#change-1.1.0b1-sqlite" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.0b1-71"><span class="target" id="change-4b6e53e3c72102adbc3539e8d0687737"><strong>[sqlite] [feature]</strong> </span><p>The SQLite dialect now reflects ON UPDATE and ON DELETE phrases
within foreign key constraints.  Pull request courtesy
Michal Petrucha.</p>
<a class="changelog-reference headerlink reference internal" href="#change-4b6e53e3c72102adbc3539e8d0687737">¶</a><p></p>
</p>
</li>
<li><p id="change-1.1.0b1-72"><span class="target" id="change-49d30a6da6539d0de1fe5e50170ffa98"><strong>[sqlite] [feature]</strong> </span><p>The SQLite dialect now reflects the names of primary key constraints.
Pull request courtesy Diana Clarke.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="migration_11.html#change-3629"><span class="std std-ref">Reflection of the name of PRIMARY KEY constraints</span></a></p>
</div>
<a class="changelog-reference headerlink reference internal" href="#change-49d30a6da6539d0de1fe5e50170ffa98">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3629">#3629</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-73"><span class="target" id="change-ff629759d993d58e82fc77a32e11282f"><strong>[sqlite] [bug]</strong> </span><p>The workaround for right-nested joins on SQLite, where they are rewritten
as subqueries in order to work around SQLite’s lack of support for this
syntax, is lifted when SQLite version 3.7.16 or greater is detected.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="migration_11.html#change-3634"><span class="std std-ref">Right-nested join workaround lifted for SQLite version 3.7.16</span></a></p>
</div>
<a class="changelog-reference headerlink reference internal" href="#change-ff629759d993d58e82fc77a32e11282f">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3634">#3634</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-74"><span class="target" id="change-63298ba6c855aa8516743d99d0319ba1"><strong>[sqlite] [bug]</strong> </span><p>The workaround for SQLite’s unexpected delivery of column names as
<code class="docutils literal notranslate"><span class="pre">tablename.columnname</span></code> for some kinds of queries is now disabled
when SQLite version 3.10.0 or greater is detected.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="migration_11.html#change-3633"><span class="std std-ref">Dotted column names workaround lifted for SQLite version 3.10.0</span></a></p>
</div>
<a class="changelog-reference headerlink reference internal" href="#change-63298ba6c855aa8516743d99d0319ba1">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3633">#3633</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-75"><span class="target" id="change-b5448aba0a3a84361c2f1ee75c597bfa"><strong>[sqlite] [change]</strong> </span><p>Added support to the SQLite dialect for the
<a class="reference internal" href="../core/reflection.html#sqlalchemy.engine.reflection.Inspector.get_schema_names" title="sqlalchemy.engine.reflection.Inspector.get_schema_names"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Inspector.get_schema_names()</span></code></a> method to work with SQLite;
pull request courtesy Brian Van Klaveren.  Also repaired support
for creation of indexes with schemas as well as reflection of
foreign key constraints in schema-bound tables.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="migration_11.html#change-sqlite-schemas"><span class="std std-ref">Improved Support for Remote Schemas</span></a></p>
</div>
<a class="changelog-reference headerlink reference internal" href="#change-b5448aba0a3a84361c2f1ee75c597bfa">¶</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-1.1.0b1-mssql">
<h3>mssql<a class="headerlink" href="#change-1.1.0b1-mssql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.0b1-76"><span class="target" id="change-be8b6149c59334d05c96e5207d84cfa2"><strong>[mssql] [feature]</strong> </span><p>The <code class="docutils literal notranslate"><span class="pre">mssql_clustered</span></code> flag available on <a class="reference internal" href="../core/constraints.html#sqlalchemy.schema.UniqueConstraint" title="sqlalchemy.schema.UniqueConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">UniqueConstraint</span></code></a>,
<a class="reference internal" href="../core/constraints.html#sqlalchemy.schema.PrimaryKeyConstraint" title="sqlalchemy.schema.PrimaryKeyConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">PrimaryKeyConstraint</span></code></a>, <a class="reference internal" href="../core/constraints.html#sqlalchemy.schema.Index" title="sqlalchemy.schema.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> now defaults to
<code class="docutils literal notranslate"><span class="pre">None</span></code>, and can be set to False which will render the NONCLUSTERED
keyword in particular for a primary key, allowing a different index to
be used as “clustered”. Pull request courtesy Saulius Žemaitaitis.</p>
<a class="changelog-reference headerlink reference internal" href="#change-be8b6149c59334d05c96e5207d84cfa2">¶</a><p></p>
</p>
</li>
<li><p id="change-1.1.0b1-77"><span class="target" id="change-83bc6226d745f264990c3f697a8bec64"><strong>[mssql] [feature]</strong> </span><p>Added basic isolation level support to the SQL Server dialects
via <a class="reference internal" href="../core/engines.html#sqlalchemy.create_engine.params.isolation_level" title="sqlalchemy.create_engine"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">create_engine.isolation_level</span></code></a> and
<a class="reference internal" href="../core/connections.html#sqlalchemy.engine.Connection.execution_options.params.isolation_level" title="sqlalchemy.engine.Connection.execution_options"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">Connection.execution_options.isolation_level</span></code></a>
parameters.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="migration_11.html#change-3534"><span class="std std-ref">Added transaction isolation level support for SQL Server</span></a></p>
</div>
<a class="changelog-reference headerlink reference internal" href="#change-83bc6226d745f264990c3f697a8bec64">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3534">#3534</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-78"><span class="target" id="change-b04c14877b76f5d17f0cd07b715c468a"><strong>[mssql] [bug]</strong> </span><p>Adjustments to the mxODBC dialect to make use of the <code class="docutils literal notranslate"><span class="pre">BinaryNull</span></code>
symbol when appropriate in conjunction with the <code class="docutils literal notranslate"><span class="pre">VARBINARY</span></code>
data type.  Pull request courtesy Sheila Allen.</p>
<a class="changelog-reference headerlink reference internal" href="#change-b04c14877b76f5d17f0cd07b715c468a">¶</a><p></p>
</p>
</li>
<li><p id="change-1.1.0b1-79"><span class="target" id="change-2101980fac60807a3d347737bfff6a29"><strong>[mssql] [bug]</strong> </span><p>Fixed issue where the SQL Server dialect would reflect a string-
or other variable-length column type with unbounded length
by assigning the token <code class="docutils literal notranslate"><span class="pre">&quot;max&quot;</span></code> to the
length attribute of the string.   While using the <code class="docutils literal notranslate"><span class="pre">&quot;max&quot;</span></code> token
explicitly is supported by the SQL Server dialect, it isn’t part
of the normal contract of the base string types, and instead the
length should just be left as None.   The dialect now assigns the
length to None on reflection of the type so that the type behaves
normally in other contexts.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="migration_11.html#change-3504"><span class="std std-ref">String / varlength types no longer represent “max” explicitly on reflection</span></a></p>
</div>
<a class="changelog-reference headerlink reference internal" href="#change-2101980fac60807a3d347737bfff6a29">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3504">#3504</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-80"><span class="target" id="change-88e689d9f43877db618ab1091101ab1a"><strong>[mssql] [change]</strong> </span><p>The <code class="docutils literal notranslate"><span class="pre">legacy_schema_aliasing</span></code> flag, introduced in version 1.0.5
as part of <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3424">#3424</a> to allow disabling of the MSSQL dialect’s
attempts to create aliases for schema-qualified tables, now defaults
to False; the old behavior is now disabled unless explicitly turned on.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="migration_11.html#change-3434"><span class="std std-ref">The legacy_schema_aliasing flag is now set to False</span></a></p>
</div>
<a class="changelog-reference headerlink reference internal" href="#change-88e689d9f43877db618ab1091101ab1a">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3434">#3434</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-1.1.0b1-misc">
<h3>misc<a class="headerlink" href="#change-1.1.0b1-misc" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.0b1-81"><span class="target" id="change-d682fc46bfa49ace6fb8b8b9f4b09a5e"><strong>[feature] [ext]</strong> </span><p>Added <a class="reference internal" href="../orm/extensions/mutable.html#sqlalchemy.ext.mutable.MutableSet" title="sqlalchemy.ext.mutable.MutableSet"><code class="xref py py-class docutils literal notranslate"><span class="pre">MutableSet</span></code></a> and <a class="reference internal" href="../orm/extensions/mutable.html#sqlalchemy.ext.mutable.MutableList" title="sqlalchemy.ext.mutable.MutableList"><code class="xref py py-class docutils literal notranslate"><span class="pre">MutableList</span></code></a> helper classes
to the <a class="reference internal" href="../orm/extensions/mutable.html"><span class="std std-ref">Mutation Tracking</span></a> extension.  Pull request courtesy
Jeong YunWon.</p>
<a class="changelog-reference headerlink reference internal" href="#change-d682fc46bfa49ace6fb8b8b9f4b09a5e">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3297">#3297</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-82"><span class="target" id="change-a2c32a48b7c0700784bb0b7a87dd1f3f"><strong>[bug] [ext]</strong> </span><p>The docstring specified on a hybrid property or method is now honored
at the class level, allowing it to work with tools like Sphinx
autodoc.  The mechanics here necessarily involve some wrapping of
expressions to occur for hybrid properties, which may cause them
to appear differently using introspection.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="migration_11.html#change-3653"><span class="std std-ref">Hybrid properties and methods now propagate the docstring as well as .info</span></a></p>
</div>
<a class="changelog-reference headerlink reference internal" href="#change-a2c32a48b7c0700784bb0b7a87dd1f3f">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3653">#3653</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-83"><span class="target" id="change-44d4eaf2aee417980d71eddb977888cb"><strong>[bug] [sybase]</strong> </span><p>The unsupported Sybase dialect now raises <code class="docutils literal notranslate"><span class="pre">NotImplementedError</span></code>
when attempting to compile a query that includes “offset”; Sybase
has no straightforward “offset” feature.</p>
<a class="changelog-reference headerlink reference internal" href="#change-44d4eaf2aee417980d71eddb977888cb">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2278">#2278</a></p>
</p>
</li>
</ul>
</div>
</div>
</div>

    </div>

</div>

<div id="docs-bottom-navigation" class="docs-navigation-links, withsidebar">
        Previous:
        <a href="changelog_12.html" title="previous chapter">1.2 Changelog</a>
        Next:
        <a href="changelog_10.html" title="next chapter">1.0 Changelog</a>

    <div id="docs-copyright">
        &copy; <a href="../copyright.html">Copyright</a> 2007-2020, the SQLAlchemy authors and contributors.
        Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 3.0.3.
    </div>
</div>

</div>



        
        

    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
          URL_ROOT:    '../',
          VERSION:     '1.3.17',
          COLLAPSE_MODINDEX: false,
          FILE_SUFFIX: '.html'
      };
    </script>

    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>

    <!-- begin iterate through sphinx environment script_files -->
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    <!-- end iterate through sphinx environment script_files -->

    <script type="text/javascript" src="../_static/detectmobile.js"></script>
    <script type="text/javascript" src="../_static/init.js"></script>


    </body>
</html>


