<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">



<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        
        <title>
            
    
    0.6 Changelog
 &mdash;
    SQLAlchemy 1.3 Documentation

        </title>

        
            <!-- begin iterate through site-imported + sphinx environment css_files -->
                <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
                <link rel="stylesheet" href="../_static/docs.css" type="text/css" />
                <link rel="stylesheet" href="../_static/changelog.css" type="text/css" />
                <link rel="stylesheet" href="../_static/sphinx_paramlinks.css" type="text/css" />
            <!-- end iterate through site-imported + sphinx environment css_files -->
        

        

    

    <!-- begin layout.mako headers -->

    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
        <link rel="copyright" title="Copyright" href="../copyright.html" />
    <link rel="top" title="SQLAlchemy 1.3 Documentation" href="../index.html" />
        <link rel="up" title="Changes and Migration" href="index.html" />
        <link rel="next" title="0.5 Changelog" href="changelog_05.html" />
        <link rel="prev" title="0.7 Changelog" href="changelog_07.html" />
    <!-- end layout.mako headers -->


    </head>
    <body>
        
















<div id="docs-container">





<div id="docs-top-navigation-container" class="body-background">
<div id="docs-header">
    <div id="docs-version-header">
        Release: <span class="version-num">1.3.17</span>


        | Release Date: May 13, 2020

    </div>

    <h1>SQLAlchemy 1.3 Documentation</h1>

</div>
</div>

<div id="docs-body-container">

    <div id="fixed-sidebar" class="withsidebar">


        <div id="docs-sidebar-popout">
            <h3><a href="../index.html">SQLAlchemy 1.3 Documentation</a></h3>
            <p id="sidebar-topnav">
                <a href="../contents.html">Contents</a> |
                <a href="../genindex.html">Index</a>
            </p>

            <div id="sidebar-search">
                <form class="search" action="../search.html" method="get">
                  <label>
                  Search terms:
                  <input type="text" placeholder="search..." name="q" size="12" />
                  </label>
                  <input type="hidden" name="check_keywords" value="yes" />
                  <input type="hidden" name="area" value="default" />
                </form>
            </div>

        </div>

        <div id="docs-sidebar">

        <div id="sidebar-banner">
            
        </div>

        <div id="docs-sidebar-inner">

        
        <h3>
            <a href="index.html" title="Changes and Migration">Changes and Migration</a>
        </h3>

        <ul>
<li><span class="link-container"><a class="reference external" href="migration_13.html">What’s New in SQLAlchemy 1.3?</a></span></li>
<li><span class="link-container"><a class="reference external" href="changelog_13.html">1.3 Changelog</a></span></li>
<li><span class="link-container"><a class="reference external" href="changelog_12.html">1.2 Changelog</a></span></li>
<li><span class="link-container"><a class="reference external" href="changelog_11.html">1.1 Changelog</a></span></li>
<li><span class="link-container"><a class="reference external" href="changelog_10.html">1.0 Changelog</a></span></li>
<li><span class="link-container"><a class="reference external" href="changelog_09.html">0.9 Changelog</a></span></li>
<li><span class="link-container"><a class="reference external" href="changelog_08.html">0.8 Changelog</a></span></li>
<li><span class="link-container"><a class="reference external" href="changelog_07.html">0.7 Changelog</a></span></li>
<li class="selected"><span class="link-container"><strong>0.6 Changelog</strong><a class="paramlink headerlink reference internal" href="#">¶</a></span><ul>
<li><span class="link-container"><a class="reference external" href="#change-0.6.9">0.6.9</a></span><ul>
<li><span class="link-container"><a class="reference external" href="#change-0.6.9-general">general</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.6.9-orm">orm</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.6.9-engine">engine</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.6.9-sql">sql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.6.9-schema">schema</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.6.9-postgresql">postgresql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.6.9-mysql">mysql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.6.9-mssql">mssql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.6.9-oracle">oracle</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.6.9-misc">misc</a></span></li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="#change-0.6.8">0.6.8</a></span><ul>
<li><span class="link-container"><a class="reference external" href="#change-0.6.8-orm">orm</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.6.8-engine">engine</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.6.8-sql">sql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.6.8-postgresql">postgresql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.6.8-mssql">mssql</a></span></li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="#change-0.6.7">0.6.7</a></span><ul>
<li><span class="link-container"><a class="reference external" href="#change-0.6.7-orm">orm</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.6.7-engine">engine</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.6.7-sql">sql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.6.7-postgresql">postgresql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.6.7-mysql">mysql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.6.7-sqlite">sqlite</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.6.7-mssql">mssql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.6.7-oracle">oracle</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.6.7-firebird">firebird</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.6.7-misc">misc</a></span></li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="#change-0.6.6">0.6.6</a></span><ul>
<li><span class="link-container"><a class="reference external" href="#change-0.6.6-orm">orm</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.6.6-engine">engine</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.6.6-sql">sql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.6.6-postgresql">postgresql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.6.6-mysql">mysql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.6.6-sqlite">sqlite</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.6.6-mssql">mssql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.6.6-oracle">oracle</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.6.6-firebird">firebird</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.6.6-misc">misc</a></span></li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="#change-0.6.5">0.6.5</a></span><ul>
<li><span class="link-container"><a class="reference external" href="#change-0.6.5-orm">orm</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.6.5-engine">engine</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.6.5-sql">sql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.6.5-postgresql">postgresql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.6.5-mysql">mysql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.6.5-mssql">mssql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.6.5-oracle">oracle</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.6.5-misc">misc</a></span></li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="#change-0.6.4">0.6.4</a></span><ul>
<li><span class="link-container"><a class="reference external" href="#change-0.6.4-orm">orm</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.6.4-engine">engine</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.6.4-sql">sql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.6.4-postgresql">postgresql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.6.4-mssql">mssql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.6.4-oracle">oracle</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.6.4-firebird">firebird</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.6.4-misc">misc</a></span></li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="#change-0.6.3">0.6.3</a></span><ul>
<li><span class="link-container"><a class="reference external" href="#change-0.6.3-orm">orm</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.6.3-mysql">mysql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.6.3-oracle">oracle</a></span></li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="#change-0.6.2">0.6.2</a></span><ul>
<li><span class="link-container"><a class="reference external" href="#change-0.6.2-orm">orm</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.6.2-sql">sql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.6.2-postgresql">postgresql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.6.2-mysql">mysql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.6.2-mssql">mssql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.6.2-oracle">oracle</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.6.2-firebird">firebird</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.6.2-misc">misc</a></span></li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="#change-0.6.1">0.6.1</a></span><ul>
<li><span class="link-container"><a class="reference external" href="#change-0.6.1-orm">orm</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.6.1-sql">sql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.6.1-mysql">mysql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.6.1-sqlite">sqlite</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.6.1-oracle">oracle</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.6.1-firebird">firebird</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.6.1-misc">misc</a></span></li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="#change-0.6.0">0.6.0</a></span><ul>
<li><span class="link-container"><a class="reference external" href="#change-0.6.0-orm">orm</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.6.0-sql">sql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.6.0-postgresql">postgresql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.6.0-oracle">oracle</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.6.0-firebird">firebird</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.6.0-misc">misc</a></span></li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="#change-0.6beta3">0.6beta3</a></span><ul>
<li><span class="link-container"><a class="reference external" href="#change-0.6beta3-orm">orm</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.6beta3-sql">sql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.6beta3-postgresql">postgresql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.6beta3-mysql">mysql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.6beta3-oracle">oracle</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.6beta3-misc">misc</a></span></li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="#change-0.6beta2">0.6beta2</a></span><ul>
<li><span class="link-container"><a class="reference external" href="#change-0.6beta2-orm">orm</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.6beta2-sql">sql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.6beta2-mysql">mysql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.6beta2-sqlite">sqlite</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.6beta2-mssql">mssql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.6beta2-oracle">oracle</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.6beta2-misc">misc</a></span></li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="#change-0.6beta1">0.6beta1</a></span><ul>
<li><span class="link-container"><a class="reference external" href="#change-0.6beta1-orm">orm</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.6beta1-sql">sql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.6beta1-schema">schema</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.6beta1-postgresql">postgresql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.6beta1-mysql">mysql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.6beta1-sqlite">sqlite</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.6beta1-mssql">mssql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.6beta1-oracle">oracle</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.6beta1-firebird">firebird</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.6beta1-misc">misc</a></span></li>
</ul>
</li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="changelog_05.html">0.5 Changelog</a></span></li>
<li><span class="link-container"><a class="reference external" href="changelog_04.html">0.4 Changelog</a></span></li>
<li><span class="link-container"><a class="reference external" href="changelog_03.html">0.3 Changelog</a></span></li>
<li><span class="link-container"><a class="reference external" href="changelog_02.html">0.2 Changelog</a></span></li>
<li><span class="link-container"><a class="reference external" href="changelog_01.html">0.1 Changelog</a></span></li>
<li><span class="link-container"><a class="reference external" href="migration_12.html">What’s New in SQLAlchemy 1.2?</a></span></li>
<li><span class="link-container"><a class="reference external" href="migration_11.html">What’s New in SQLAlchemy 1.1?</a></span></li>
<li><span class="link-container"><a class="reference external" href="migration_10.html">What’s New in SQLAlchemy 1.0?</a></span></li>
<li><span class="link-container"><a class="reference external" href="migration_09.html">What’s New in SQLAlchemy 0.9?</a></span></li>
<li><span class="link-container"><a class="reference external" href="migration_08.html">What’s New in SQLAlchemy 0.8?</a></span></li>
<li><span class="link-container"><a class="reference external" href="migration_07.html">What’s New in SQLAlchemy 0.7?</a></span></li>
<li><span class="link-container"><a class="reference external" href="migration_06.html">What’s New in SQLAlchemy 0.6?</a></span></li>
<li><span class="link-container"><a class="reference external" href="migration_05.html">What’s new in SQLAlchemy 0.5?</a></span></li>
<li><span class="link-container"><a class="reference external" href="migration_04.html">What’s new in SQLAlchemy 0.4?</a></span></li>
</ul>



        </div>

        </div>

    </div>

    

    <div id="docs-body" class="withsidebar" >
        
<div class="section" id="changelog">
<h1>0.6 Changelog<a class="headerlink" href="#changelog" title="Permalink to this headline">¶</a></h1>
<div class="section" id="change-0.6.9">
<h2 class="release-version">0.6.9<a class="headerlink" href="#change-0.6.9" title="Permalink to this headline">¶</a></h2>
Released: Sat May 05 2012<div class="section" id="change-0.6.9-general">
<h3>general<a class="headerlink" href="#change-0.6.9-general" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6.9-0"><span class="target" id="change-12863cf30d488f3bc66ad4bcfbbf8fd5"><strong>[general]</strong> </span><p>Adjusted the “importlater” mechanism, which is
used internally to resolve import cycles,
such that the usage of __import__ is completed
when the import of sqlalchemy or sqlalchemy.orm
is done, thereby avoiding any usage of __import__
after the application starts new threads,
fixes.</p>
<a class="changelog-reference headerlink reference internal" href="#change-12863cf30d488f3bc66ad4bcfbbf8fd5">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2279">#2279</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.6.9-orm">
<h3>orm<a class="headerlink" href="#change-0.6.9-orm" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6.9-1"><span class="target" id="change-90dd35d523894cd2e514049899fa3652"><strong>[orm] [bug]</strong> </span><p>fixed inappropriate evaluation of user-mapped
object in a boolean context within query.get().</p>
<a class="changelog-reference headerlink reference internal" href="#change-90dd35d523894cd2e514049899fa3652">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2310">#2310</a></p>
</p>
</li>
<li><p id="change-0.6.9-2"><span class="target" id="change-48105c68fcefac76f598d7b48e49e120"><strong>[orm] [bug]</strong> </span><p>Fixed the error formatting raised when
a tuple is inadvertently passed to session.query().</p>
<a class="changelog-reference headerlink reference internal" href="#change-48105c68fcefac76f598d7b48e49e120">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2297">#2297</a></p>
</p>
</li>
<li><p id="change-0.6.9-3"><span class="target" id="change-1f18f8d75432f09d5bbc6ac09e88b038"><strong>[orm]</strong> </span><p>Fixed bug whereby the source clause
used by query.join() would be inconsistent
if against a column expression that combined
multiple entities together.</p>
<a class="changelog-reference headerlink reference internal" href="#change-1f18f8d75432f09d5bbc6ac09e88b038">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2197">#2197</a></p>
</p>
</li>
<li><p id="change-0.6.9-4"><span class="target" id="change-bec888b1020a652a9d416e4e6b261a7e"><strong>[orm]</strong> </span><p>Fixed bug apparent only in Python 3 whereby
sorting of persistent + pending objects during
flush would produce an illegal comparison,
if the persistent object primary key
is not a single integer.</p>
<a class="changelog-reference headerlink reference internal" href="#change-bec888b1020a652a9d416e4e6b261a7e">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2228">#2228</a></p>
</p>
</li>
<li><p id="change-0.6.9-5"><span class="target" id="change-dad2fbaff0f9f5aa2ebbcf509ad408a3"><strong>[orm]</strong> </span><p>Fixed bug where query.join() + aliased=True
from a joined-inh structure to itself on
relationship() with join condition on the child
table would convert the lead entity into the
joined one inappropriately.</p>
<a class="changelog-reference headerlink reference internal" href="#change-dad2fbaff0f9f5aa2ebbcf509ad408a3">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2234">#2234</a></p>
</p>
</li>
<li><p id="change-0.6.9-6"><span class="target" id="change-12f7542f530a786aa0c66534c7a55317"><strong>[orm]</strong> </span><p>Fixed bug whereby mapper.order_by attribute would
be ignored in the “inner” query within a
subquery eager load. .</p>
<a class="changelog-reference headerlink reference internal" href="#change-12f7542f530a786aa0c66534c7a55317">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2287">#2287</a></p>
</p>
</li>
<li><p id="change-0.6.9-7"><span class="target" id="change-324c9d754e04e96958acbba0a3dc83ec"><strong>[orm]</strong> </span><p>Fixed bug whereby if a mapped class
redefined __hash__() or __eq__() to something
non-standard, which is a supported use case
as SQLA should never consult these,
the methods would be consulted if the class
was part of a “composite” (i.e. non-single-entity)
result set.</p>
<a class="changelog-reference headerlink reference internal" href="#change-324c9d754e04e96958acbba0a3dc83ec">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2215">#2215</a></p>
</p>
</li>
<li><p id="change-0.6.9-8"><span class="target" id="change-ccbce1aaf7fc09560215d0f41426e87e"><strong>[orm]</strong> </span><p>Fixed subtle bug that caused SQL to blow
up if: column_property() against subquery +
joinedload + LIMIT + order by the column
property() occurred. .</p>
<a class="changelog-reference headerlink reference internal" href="#change-ccbce1aaf7fc09560215d0f41426e87e">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2188">#2188</a></p>
</p>
</li>
<li><p id="change-0.6.9-9"><span class="target" id="change-18699e5af1eae1a1ce72667d2f948b1f"><strong>[orm]</strong> </span><p>The join condition produced by with_parent
as well as when using a “dynamic” relationship
against a parent will generate unique
bindparams, rather than incorrectly repeating
the same bindparam. .</p>
<a class="changelog-reference headerlink reference internal" href="#change-18699e5af1eae1a1ce72667d2f948b1f">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2207">#2207</a></p>
</p>
</li>
<li><p id="change-0.6.9-10"><span class="target" id="change-c0fbe0ad615ed9a900a904e02ea5ecd8"><strong>[orm]</strong> </span><p>Repaired the “no statement condition”
assertion in Query which would attempt
to raise if a generative method were called
after from_statement() were called..</p>
<a class="changelog-reference headerlink reference internal" href="#change-c0fbe0ad615ed9a900a904e02ea5ecd8">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2199">#2199</a></p>
</p>
</li>
<li><p id="change-0.6.9-11"><span class="target" id="change-91ff76e5a82e6e129deb5a0cad60796d"><strong>[orm]</strong> </span><p>Cls.column.collate(“some collation”) now
works.</p>
<a class="changelog-reference headerlink reference internal" href="#change-91ff76e5a82e6e129deb5a0cad60796d">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1776">#1776</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.6.9-engine">
<h3>engine<a class="headerlink" href="#change-0.6.9-engine" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6.9-12"><span class="target" id="change-7da4cdf9f79cae9743a85d40954ac411"><strong>[engine]</strong> </span><p>Backported the fix for introduced
in 0.7.4, which ensures that the connection
is in a valid state before attempting to call
rollback()/prepare()/release() on savepoint
and two-phase transactions.</p>
<a class="changelog-reference headerlink reference internal" href="#change-7da4cdf9f79cae9743a85d40954ac411">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2317">#2317</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.6.9-sql">
<h3>sql<a class="headerlink" href="#change-0.6.9-sql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6.9-13"><span class="target" id="change-d49c6908f106df0a29516c49cddab3c2"><strong>[sql]</strong> </span><p>Fixed two subtle bugs involving column
correspondence in a selectable,
one with the same labeled subquery repeated, the other
when the label has been “grouped” and
loses itself.  Affects.</p>
<a class="changelog-reference headerlink reference internal" href="#change-d49c6908f106df0a29516c49cddab3c2">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2188">#2188</a></p>
</p>
</li>
<li><p id="change-0.6.9-14"><span class="target" id="change-08b55ba78d7b3fa1a51925aecafe255b"><strong>[sql]</strong> </span><p>Fixed bug whereby “warn on unicode” flag
would get set for the String type
when used with certain dialects.  This
bug is not in 0.7.</p>
<a class="changelog-reference headerlink reference internal" href="#change-08b55ba78d7b3fa1a51925aecafe255b">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6.9-15"><span class="target" id="change-1897da4753826ae9d5eacb9bce3c482f"><strong>[sql]</strong> </span><p>Fixed bug whereby with_only_columns() method of
Select would fail if a selectable were passed..   However, the FROM behavior is
still incorrect here, so you need 0.7 in
any case for this use case to be usable.</p>
<a class="changelog-reference headerlink reference internal" href="#change-1897da4753826ae9d5eacb9bce3c482f">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2270">#2270</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.6.9-schema">
<h3>schema<a class="headerlink" href="#change-0.6.9-schema" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6.9-16"><span class="target" id="change-0d0176936941374dd977d3cfc229ea75"><strong>[schema]</strong> </span><p>Added an informative error message when
ForeignKeyConstraint refers to a column name in
the parent that is not found.</p>
<a class="changelog-reference headerlink reference internal" href="#change-0d0176936941374dd977d3cfc229ea75">¶</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.6.9-postgresql">
<h3>postgresql<a class="headerlink" href="#change-0.6.9-postgresql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6.9-17"><span class="target" id="change-525baeb589c68e1d82ba3a075efda6a4"><strong>[postgresql]</strong> </span><p>Fixed bug related to whereby the
same modified index behavior in PG 9 affected
primary key reflection on a renamed column..</p>
<a class="changelog-reference headerlink reference internal" href="#change-525baeb589c68e1d82ba3a075efda6a4">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2141">#2141</a>, <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2291">#2291</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.6.9-mysql">
<h3>mysql<a class="headerlink" href="#change-0.6.9-mysql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6.9-18"><span class="target" id="change-0698928580db2e78fa0bf2b5d0fb757a"><strong>[mysql]</strong> </span><p>Fixed OurSQL dialect to use ansi-neutral
quote symbol “’” for XA commands instead
of ‘”’. .</p>
<a class="changelog-reference headerlink reference internal" href="#change-0698928580db2e78fa0bf2b5d0fb757a">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2186">#2186</a></p>
</p>
</li>
<li><p id="change-0.6.9-19"><span class="target" id="change-893dc29708dfe84565bb6b59ebc5d116"><strong>[mysql]</strong> </span><p>a CREATE TABLE will put the COLLATE option
after CHARSET, which appears to be part of
MySQL’s arbitrary rules regarding if it will actually
work or not.</p>
<a class="changelog-reference headerlink reference internal" href="#change-893dc29708dfe84565bb6b59ebc5d116">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2225">#2225</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.6.9-mssql">
<h3>mssql<a class="headerlink" href="#change-0.6.9-mssql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6.9-20"><span class="target" id="change-2ca5517878da9a4646159611f7fadfd5"><strong>[mssql] [bug]</strong> </span><p>Decode incoming values when retrieving
list of index names and the names of columns
within those indexes.</p>
<a class="changelog-reference headerlink reference internal" href="#change-2ca5517878da9a4646159611f7fadfd5">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2269">#2269</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.6.9-oracle">
<h3>oracle<a class="headerlink" href="#change-0.6.9-oracle" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6.9-21"><span class="target" id="change-a0976892727bd6ce76216c086a0e73cf"><strong>[oracle]</strong> </span><p>Added ORA-00028 to disconnect codes, use
cx_oracle _Error.code to get at the code,.</p>
<a class="changelog-reference headerlink reference internal" href="#change-a0976892727bd6ce76216c086a0e73cf">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2200">#2200</a></p>
</p>
</li>
<li><p id="change-0.6.9-22"><span class="target" id="change-c9c4f1305df1aa628e2d4f756511f177"><strong>[oracle]</strong> </span><p>repaired the oracle.RAW type which did not
generate the correct DDL.</p>
<a class="changelog-reference headerlink reference internal" href="#change-c9c4f1305df1aa628e2d4f756511f177">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2220">#2220</a></p>
</p>
</li>
<li><p id="change-0.6.9-23"><span class="target" id="change-eda1d903a91584d2894e843edeb325ce"><strong>[oracle]</strong> </span><p>added CURRENT to reserved word list.</p>
<a class="changelog-reference headerlink reference internal" href="#change-eda1d903a91584d2894e843edeb325ce">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2212">#2212</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.6.9-misc">
<h3>misc<a class="headerlink" href="#change-0.6.9-misc" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6.9-24"><span class="target" id="change-876cb8fb1ac9a1ba6772001f2b81829e"><strong>[examples]</strong> </span><p>Adjusted dictlike-polymorphic.py example
to apply the CAST such that it works on
PG, other databases.</p>
<a class="changelog-reference headerlink reference internal" href="#change-876cb8fb1ac9a1ba6772001f2b81829e">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2266">#2266</a></p>
</p>
</li>
</ul>
</div>
</div>
<div class="section" id="change-0.6.8">
<h2 class="release-version">0.6.8<a class="headerlink" href="#change-0.6.8" title="Permalink to this headline">¶</a></h2>
Released: Sun Jun 05 2011<div class="section" id="change-0.6.8-orm">
<h3>orm<a class="headerlink" href="#change-0.6.8-orm" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6.8-0"><span class="target" id="change-5211656e5b9bab3746a031467f734f52"><strong>[orm]</strong> </span><p>Calling query.get() against a column-based entity is
invalid, this condition now raises a deprecation warning.</p>
<a class="changelog-reference headerlink reference internal" href="#change-5211656e5b9bab3746a031467f734f52">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2144">#2144</a></p>
</p>
</li>
<li><p id="change-0.6.8-1"><span class="target" id="change-1bb5eb9cd9ead7741537faf42dbb717a"><strong>[orm]</strong> </span><p>a non_primary mapper will inherit the _identity_class
of the primary mapper.  This so that a non_primary
established against a class that’s normally in an
inheritance mapping will produce results that are
identity-map compatible with that of the primary
mapper</p>
<a class="changelog-reference headerlink reference internal" href="#change-1bb5eb9cd9ead7741537faf42dbb717a">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2151">#2151</a></p>
</p>
</li>
<li><p id="change-0.6.8-2"><span class="target" id="change-d26ba3de23d7c188bace06d868980bdd"><strong>[orm]</strong> </span><p>Backported 0.7’s identity map implementation, which
does not use a mutex around removal.  This as some users
were still getting deadlocks despite the adjustments
in 0.6.7; the 0.7 approach that doesn’t use a mutex
does not appear to produce “dictionary changed size”
issues, the original rationale for the mutex.</p>
<a class="changelog-reference headerlink reference internal" href="#change-d26ba3de23d7c188bace06d868980bdd">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2148">#2148</a></p>
</p>
</li>
<li><p id="change-0.6.8-3"><span class="target" id="change-7a589ce2e13c9008b3def2fd5a90ac23"><strong>[orm]</strong> </span><p>Fixed the error message emitted for “can’t
execute syncrule for destination column ‘q’;
mapper ‘X’ does not map this column” to
reference the correct mapper. .</p>
<a class="changelog-reference headerlink reference internal" href="#change-7a589ce2e13c9008b3def2fd5a90ac23">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2163">#2163</a></p>
</p>
</li>
<li><p id="change-0.6.8-4"><span class="target" id="change-fa833bfebba673a74e3bda247932e868"><strong>[orm]</strong> </span><p>Fixed bug where determination of “self referential”
relationship would fail with no workaround
for joined-inh subclass related to itself,
or joined-inh subclass related to a subclass
of that with no cols in the sub-sub class
in the join condition.</p>
<a class="changelog-reference headerlink reference internal" href="#change-fa833bfebba673a74e3bda247932e868">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2149">#2149</a></p>
</p>
</li>
<li><p id="change-0.6.8-5"><span class="target" id="change-ffe3e5b094cad44312444477b1d9c3b5"><strong>[orm]</strong> </span><p>mapper() will ignore non-configured foreign keys
to unrelated tables when determining inherit
condition between parent and child class.
This is equivalent to behavior already
applied to declarative.  Note that 0.7 has a
more comprehensive solution to this, altering
how join() itself determines an FK error.</p>
<a class="changelog-reference headerlink reference internal" href="#change-ffe3e5b094cad44312444477b1d9c3b5">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2153">#2153</a></p>
</p>
</li>
<li><p id="change-0.6.8-6"><span class="target" id="change-e86ab075b7ef34298069ec75797e7bd8"><strong>[orm]</strong> </span><p>Fixed bug whereby mapper mapped to an anonymous
alias would fail if logging were used, due to
unescaped % sign in the alias name.</p>
<a class="changelog-reference headerlink reference internal" href="#change-e86ab075b7ef34298069ec75797e7bd8">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2171">#2171</a></p>
</p>
</li>
<li><p id="change-0.6.8-7"><span class="target" id="change-90aba29b5bd34a14cf4fa753d35659ee"><strong>[orm]</strong> </span><p>Modify the text of the message which occurs
when the “identity” key isn’t detected on
flush, to include the common cause that
the Column isn’t set up to detect
auto-increment correctly;.</p>
<a class="changelog-reference headerlink reference internal" href="#change-90aba29b5bd34a14cf4fa753d35659ee">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2170">#2170</a></p>
</p>
</li>
<li><p id="change-0.6.8-8"><span class="target" id="change-2f30675b878168f0ac612120144c8b76"><strong>[orm]</strong> </span><p>Fixed bug where transaction-level “deleted”
collection wouldn’t be cleared of expunged
states, raising an error if they later
became transient.</p>
<a class="changelog-reference headerlink reference internal" href="#change-2f30675b878168f0ac612120144c8b76">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2182">#2182</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.6.8-engine">
<h3>engine<a class="headerlink" href="#change-0.6.8-engine" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6.8-9"><span class="target" id="change-81e707c0cdab968a06ef47f7b2d2940e"><strong>[engine]</strong> </span><p>Adjusted the __contains__() method of
a RowProxy result row such that no exception
throw is generated internally;
NoSuchColumnError() also will generate its
message regardless of whether or not the column
construct can be coerced to a string..</p>
<a class="changelog-reference headerlink reference internal" href="#change-81e707c0cdab968a06ef47f7b2d2940e">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2178">#2178</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.6.8-sql">
<h3>sql<a class="headerlink" href="#change-0.6.8-sql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6.8-10"><span class="target" id="change-d38c459e931e28a7c7cd6e4a62af4849"><strong>[sql]</strong> </span><p>Fixed bug whereby if FetchedValue was passed
to column server_onupdate, it would not
have its parent “column” assigned, added
test coverage for all column default assignment
patterns.</p>
<a class="changelog-reference headerlink reference internal" href="#change-d38c459e931e28a7c7cd6e4a62af4849">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2147">#2147</a></p>
</p>
</li>
<li><p id="change-0.6.8-11"><span class="target" id="change-2ae59c579c4c2ced22f234c933eedb03"><strong>[sql]</strong> </span><p>Fixed bug whereby nesting a label of a select()
with another label in it would produce incorrect
exported columns.   Among other things this would
break an ORM column_property() mapping against
another column_property(). .</p>
<a class="changelog-reference headerlink reference internal" href="#change-2ae59c579c4c2ced22f234c933eedb03">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2167">#2167</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.6.8-postgresql">
<h3>postgresql<a class="headerlink" href="#change-0.6.8-postgresql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6.8-12"><span class="target" id="change-d7f16be247c5f9c9413e70ca6d68a835"><strong>[postgresql]</strong> </span><p>Fixed bug affecting PG 9 whereby index reflection
would fail if against a column whose name
had changed. .</p>
<a class="changelog-reference headerlink reference internal" href="#change-d7f16be247c5f9c9413e70ca6d68a835">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2141">#2141</a></p>
</p>
</li>
<li><p id="change-0.6.8-13"><span class="target" id="change-5fb3b20bf3b31a34fb78d3340bf1dcd1"><strong>[postgresql]</strong> </span><p>Some unit test fixes regarding numeric arrays,
MATCH operator.   A potential floating-point
inaccuracy issue was fixed, and certain tests
of the MATCH operator only execute within an
EN-oriented locale for now. .</p>
<a class="changelog-reference headerlink reference internal" href="#change-5fb3b20bf3b31a34fb78d3340bf1dcd1">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2175">#2175</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.6.8-mssql">
<h3>mssql<a class="headerlink" href="#change-0.6.8-mssql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6.8-14"><span class="target" id="change-c07b8fa79245c2fb7647120e9fe7d228"><strong>[mssql]</strong> </span><p>Fixed bug in MSSQL dialect whereby the aliasing
applied to a schema-qualified table would leak
into enclosing select statements.</p>
<a class="changelog-reference headerlink reference internal" href="#change-c07b8fa79245c2fb7647120e9fe7d228">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2169">#2169</a></p>
</p>
</li>
<li><p id="change-0.6.8-15"><span class="target" id="change-6e28260bf17c92850ac3773eda0fe105"><strong>[mssql]</strong> </span><p>Fixed bug whereby DATETIME2 type would fail on
the “adapt” step when used in result sets or
bound parameters.  This issue is not in 0.7.</p>
<a class="changelog-reference headerlink reference internal" href="#change-6e28260bf17c92850ac3773eda0fe105">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2159">#2159</a></p>
</p>
</li>
</ul>
</div>
</div>
<div class="section" id="change-0.6.7">
<h2 class="release-version">0.6.7<a class="headerlink" href="#change-0.6.7" title="Permalink to this headline">¶</a></h2>
Released: Wed Apr 13 2011<div class="section" id="change-0.6.7-orm">
<h3>orm<a class="headerlink" href="#change-0.6.7-orm" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6.7-0"><span class="target" id="change-eed859bebcbe8988e1d4cc3b30ebc835"><strong>[orm]</strong> </span><p>Tightened the iterate vs. remove mutex around the
identity map iteration, attempting to reduce the
chance of an (extremely rare) reentrant gc operation
causing a deadlock.  Might remove the mutex in
0.7.</p>
<a class="changelog-reference headerlink reference internal" href="#change-eed859bebcbe8988e1d4cc3b30ebc835">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2087">#2087</a></p>
</p>
</li>
<li><p id="change-0.6.7-1"><span class="target" id="change-7336c0c12937e3dfb65e55c912b654e6"><strong>[orm]</strong> </span><p>Added a <cite>name</cite> argument to <cite>Query.subquery()</cite>, to allow
a fixed name to be assigned to the alias object.</p>
<a class="changelog-reference headerlink reference internal" href="#change-7336c0c12937e3dfb65e55c912b654e6">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2030">#2030</a></p>
</p>
</li>
<li><p id="change-0.6.7-2"><span class="target" id="change-4363d0760126c3a958074eb1490c4919"><strong>[orm]</strong> </span><p>A warning is emitted when a joined-table inheriting mapper
has no primary keys on the locally mapped table
(but has pks on the superclass table).</p>
<a class="changelog-reference headerlink reference internal" href="#change-4363d0760126c3a958074eb1490c4919">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2019">#2019</a></p>
</p>
</li>
<li><p id="change-0.6.7-3"><span class="target" id="change-b9b208bc91c2102e8f0fd7911db16925"><strong>[orm]</strong> </span><p>Fixed bug where “middle” class in a polymorphic hierarchy
would have no ‘polymorphic_on’ column if it didn’t also
specify a ‘polymorphic_identity’, leading to strange
errors upon refresh, wrong class loaded when querying
from that target. Also emits the correct WHERE criterion
when using single table inheritance.</p>
<a class="changelog-reference headerlink reference internal" href="#change-b9b208bc91c2102e8f0fd7911db16925">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2038">#2038</a></p>
</p>
</li>
<li><p id="change-0.6.7-4"><span class="target" id="change-a2fb7de3c9754e79e857eab068d7e269"><strong>[orm]</strong> </span><p>Fixed bug where a column with a SQL or server side default
that was excluded from a mapping with include_properties
or exclude_properties would result in UnmappedColumnError.</p>
<a class="changelog-reference headerlink reference internal" href="#change-a2fb7de3c9754e79e857eab068d7e269">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1995">#1995</a></p>
</p>
</li>
<li><p id="change-0.6.7-5"><span class="target" id="change-2c07178fa8d7673418fa3709242f8faf"><strong>[orm]</strong> </span><p>A warning is emitted in the unusual case that an
append or similar event on a collection occurs after
the parent object has been dereferenced, which
prevents the parent from being marked as “dirty”
in the session.  This will be an exception in 0.7.</p>
<a class="changelog-reference headerlink reference internal" href="#change-2c07178fa8d7673418fa3709242f8faf">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2046">#2046</a></p>
</p>
</li>
<li><p id="change-0.6.7-6"><span class="target" id="change-59c721c9c15d94a562e9083c84012937"><strong>[orm]</strong> </span><p>Fixed bug in query.options() whereby a path
applied to a lazyload using string keys could
overlap a same named attribute on the wrong
entity.  Note 0.7 has an updated version of this
fix.</p>
<a class="changelog-reference headerlink reference internal" href="#change-59c721c9c15d94a562e9083c84012937">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2098">#2098</a></p>
</p>
</li>
<li><p id="change-0.6.7-7"><span class="target" id="change-5e7605de1fa0c84b6669ddade822cb51"><strong>[orm]</strong> </span><p>Reworded the exception raised when a flush
is attempted of a subclass that is not polymorphic
against the supertype.</p>
<a class="changelog-reference headerlink reference internal" href="#change-5e7605de1fa0c84b6669ddade822cb51">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2063">#2063</a></p>
</p>
</li>
<li><p id="change-0.6.7-8"><span class="target" id="change-8d18a5abb18ac58c0bfa0091638be48f"><strong>[orm]</strong> </span><p>Some fixes to the state handling regarding
backrefs, typically when autoflush=False, where
the back-referenced collection wouldn’t
properly handle add/removes with no net
change.  Thanks to Richard Murri for the
test case + patch.</p>
<a class="changelog-reference headerlink reference internal" href="#change-8d18a5abb18ac58c0bfa0091638be48f">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2123">#2123</a></p>
</p>
</li>
<li><p id="change-0.6.7-9"><span class="target" id="change-060dd78afd33881d181eec9588947add"><strong>[orm]</strong> </span><p>a “having” clause would be copied from the
inside to the outside query if from_self()
were used..</p>
<a class="changelog-reference headerlink reference internal" href="#change-060dd78afd33881d181eec9588947add">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2130">#2130</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.6.7-engine">
<h3>engine<a class="headerlink" href="#change-0.6.7-engine" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6.7-10"><span class="target" id="change-47dcc1090d3314545b6a9690f9d74116"><strong>[engine]</strong> </span><p>Fixed bug in QueuePool, SingletonThreadPool whereby
connections that were discarded via overflow or periodic
cleanup() were not explicitly closed, leaving garbage
collection to the task instead.   This generally only
affects non-reference-counting backends like Jython
and PyPy.  Thanks to Jaimy Azle for spotting
this.</p>
<a class="changelog-reference headerlink reference internal" href="#change-47dcc1090d3314545b6a9690f9d74116">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2102">#2102</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.6.7-sql">
<h3>sql<a class="headerlink" href="#change-0.6.7-sql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6.7-11"><span class="target" id="change-a275b5bc06266dc2cdf5221ac4efa4ae"><strong>[sql]</strong> </span><p>Column.copy(), as used in table.tometadata(), copies the
‘doc’ attribute.</p>
<a class="changelog-reference headerlink reference internal" href="#change-a275b5bc06266dc2cdf5221ac4efa4ae">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2028">#2028</a></p>
</p>
</li>
<li><p id="change-0.6.7-12"><span class="target" id="change-ad5304b19826c1a70051cdf7b77c35bc"><strong>[sql]</strong> </span><p>Added some defs to the resultproxy.c extension so that
the extension compiles and runs on Python 2.4.</p>
<a class="changelog-reference headerlink reference internal" href="#change-ad5304b19826c1a70051cdf7b77c35bc">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2023">#2023</a></p>
</p>
</li>
<li><p id="change-0.6.7-13"><span class="target" id="change-5a0bb2e6701ec13c1651c09ef85839e5"><strong>[sql]</strong> </span><p>The compiler extension now supports overriding the default
compilation of expression._BindParamClause including that
the auto-generated binds within the VALUES/SET clause
of an insert()/update() statement will also use the new
compilation rules.</p>
<a class="changelog-reference headerlink reference internal" href="#change-5a0bb2e6701ec13c1651c09ef85839e5">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2042">#2042</a></p>
</p>
</li>
<li><p id="change-0.6.7-14"><span class="target" id="change-cd2a42bedeaff3d6db0e9583c7366c01"><strong>[sql]</strong> </span><p>Added accessors to ResultProxy “returns_rows”, “is_insert”</p>
<a class="changelog-reference headerlink reference internal" href="#change-cd2a42bedeaff3d6db0e9583c7366c01">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2089">#2089</a></p>
</p>
</li>
<li><p id="change-0.6.7-15"><span class="target" id="change-2f014c320217753b2e7338e74b17e074"><strong>[sql]</strong> </span><p>The limit/offset keywords to select() as well
as the value passed to select.limit()/offset()
will be coerced to integer.</p>
<a class="changelog-reference headerlink reference internal" href="#change-2f014c320217753b2e7338e74b17e074">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2116">#2116</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.6.7-postgresql">
<h3>postgresql<a class="headerlink" href="#change-0.6.7-postgresql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6.7-16"><span class="target" id="change-ab73a9ae528ee69666fab4ec822db451"><strong>[postgresql]</strong> </span><p>When explicit sequence execution derives the name
of the auto-generated sequence of a SERIAL column,
which currently only occurs if implicit_returning=False,
now accommodates if the table + column name is greater
than 63 characters using the same logic PostgreSQL uses.</p>
<a class="changelog-reference headerlink reference internal" href="#change-ab73a9ae528ee69666fab4ec822db451">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1083">#1083</a></p>
</p>
</li>
<li><p id="change-0.6.7-17"><span class="target" id="change-0d9b1d5d5cbdcb0ca647c9b409c42200"><strong>[postgresql]</strong> </span><p>Added an additional libpq message to the list of “disconnect”
exceptions, “could not receive data from server”</p>
<a class="changelog-reference headerlink reference internal" href="#change-0d9b1d5d5cbdcb0ca647c9b409c42200">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2044">#2044</a></p>
</p>
</li>
<li><p id="change-0.6.7-18"><span class="target" id="change-934e48213c937d20f95930337f7e57e9"><strong>[postgresql]</strong> </span><p>Added RESERVED_WORDS for postgresql dialect.</p>
<a class="changelog-reference headerlink reference internal" href="#change-934e48213c937d20f95930337f7e57e9">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2092">#2092</a></p>
</p>
</li>
<li><p id="change-0.6.7-19"><span class="target" id="change-9afcfc7fa95e4d1c05cc91e90f14074b"><strong>[postgresql]</strong> </span><p>Fixed the BIT type to allow a “length” parameter, “varying”
parameter.  Reflection also fixed.</p>
<a class="changelog-reference headerlink reference internal" href="#change-9afcfc7fa95e4d1c05cc91e90f14074b">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2073">#2073</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.6.7-mysql">
<h3>mysql<a class="headerlink" href="#change-0.6.7-mysql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6.7-20"><span class="target" id="change-694da80c3029deb8ea396e5708b75604"><strong>[mysql]</strong> </span><p>oursql dialect accepts the same “ssl” arguments in
create_engine() as that of MySQLdb.</p>
<a class="changelog-reference headerlink reference internal" href="#change-694da80c3029deb8ea396e5708b75604">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2047">#2047</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.6.7-sqlite">
<h3>sqlite<a class="headerlink" href="#change-0.6.7-sqlite" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6.7-21"><span class="target" id="change-ed6a6e71dbdafae0b4f6e0831116d94f"><strong>[sqlite]</strong> </span><p>Fixed bug where reflection of foreign key
created as “REFERENCES &lt;tablename&gt;” without
col name would fail.</p>
<a class="changelog-reference headerlink reference internal" href="#change-ed6a6e71dbdafae0b4f6e0831116d94f">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2115">#2115</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.6.7-mssql">
<h3>mssql<a class="headerlink" href="#change-0.6.7-mssql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6.7-22"><span class="target" id="change-abb1e8cdc1c90914b2196c74eeb32842"><strong>[mssql]</strong> </span><p>Rewrote the query used to get the definition of a view,
typically when using the Inspector interface, to
use sys.sql_modules instead of the information schema,
thereby allowing views definitions longer than 4000
characters to be fully returned.</p>
<a class="changelog-reference headerlink reference internal" href="#change-abb1e8cdc1c90914b2196c74eeb32842">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2071">#2071</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.6.7-oracle">
<h3>oracle<a class="headerlink" href="#change-0.6.7-oracle" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6.7-23"><span class="target" id="change-52cfc9b390aeab5dad8108be21fb6c91"><strong>[oracle]</strong> </span><p>Using column names that would require quotes
for the column itself or for a name-generated
bind parameter, such as names with special
characters, underscores, non-ascii characters,
now properly translate bind parameter keys when
talking to cx_oracle.</p>
<a class="changelog-reference headerlink reference internal" href="#change-52cfc9b390aeab5dad8108be21fb6c91">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2100">#2100</a></p>
</p>
</li>
<li><p id="change-0.6.7-24"><span class="target" id="change-a0b34ccb9b1535f2c510607844e32242"><strong>[oracle]</strong> </span><p>Oracle dialect adds use_binds_for_limits=False
create_engine() flag, will render the LIMIT/OFFSET
values inline instead of as binds, reported to
modify the execution plan used by Oracle.</p>
<a class="changelog-reference headerlink reference internal" href="#change-a0b34ccb9b1535f2c510607844e32242">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2116">#2116</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.6.7-firebird">
<h3>firebird<a class="headerlink" href="#change-0.6.7-firebird" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6.7-25"><span class="target" id="change-c7435c028a162f66ad2348bf1b312568"><strong>[firebird]</strong> </span><p>The “implicit_returning” flag on create_engine() is
honored if set to False.</p>
<a class="changelog-reference headerlink reference internal" href="#change-c7435c028a162f66ad2348bf1b312568">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2083">#2083</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.6.7-misc">
<h3>misc<a class="headerlink" href="#change-0.6.7-misc" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6.7-26"><span class="target" id="change-a13940d4af6ee75c1a62ada363719185"><strong>[informix]</strong> </span><p>Added RESERVED_WORDS informix dialect.</p>
<a class="changelog-reference headerlink reference internal" href="#change-a13940d4af6ee75c1a62ada363719185">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2092">#2092</a></p>
</p>
</li>
<li><p id="change-0.6.7-27"><span class="target" id="change-1f8f8c315ffd15103961e7340c643cf5"><strong>[ext]</strong> </span><p>The horizontal_shard ShardedSession class accepts the common
Session argument “query_cls” as a constructor argument,
to enable further subclassing of ShardedQuery.</p>
<a class="changelog-reference headerlink reference internal" href="#change-1f8f8c315ffd15103961e7340c643cf5">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2090">#2090</a></p>
</p>
</li>
<li><p id="change-0.6.7-28"><span class="target" id="change-d38e96868aa208c878f6a399209baa56"><strong>[declarative]</strong> </span><p>Added an explicit check for the case that the name
‘metadata’ is used for a column attribute on a
declarative class.</p>
<a class="changelog-reference headerlink reference internal" href="#change-d38e96868aa208c878f6a399209baa56">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2050">#2050</a></p>
</p>
</li>
<li><p id="change-0.6.7-29"><span class="target" id="change-04df06651398c4cc53b0100d0d7392f7"><strong>[declarative]</strong> </span><p>Fix error message referencing old &#64;classproperty
name to reference &#64;declared_attr</p>
<a class="changelog-reference headerlink reference internal" href="#change-04df06651398c4cc53b0100d0d7392f7">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2061">#2061</a></p>
</p>
</li>
<li><p id="change-0.6.7-30"><span class="target" id="change-5a35bc6fcdaed2657acdf3a146f57944"><strong>[declarative]</strong> </span><p>Arguments in __mapper_args__ that aren’t “hashable”
aren’t mistaken for always-hashable, possibly-column
arguments.</p>
<a class="changelog-reference headerlink reference internal" href="#change-5a35bc6fcdaed2657acdf3a146f57944">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2091">#2091</a></p>
</p>
</li>
<li><p id="change-0.6.7-31"><span class="target" id="change-4d5a071f11cdecd01c76f3e46df9a46b"><strong>[documentation]</strong> </span><p>Documented SQLite DATE/TIME/DATETIME types.</p>
<a class="changelog-reference headerlink reference internal" href="#change-4d5a071f11cdecd01c76f3e46df9a46b">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2029">#2029</a></p>
</p>
</li>
<li><p id="change-0.6.7-32"><span class="target" id="change-6ad83653aed5df61bea17b14bda619f6"><strong>[examples]</strong> </span><p>The Beaker caching example allows a “query_cls” argument
to the query_callable() function.</p>
<a class="changelog-reference headerlink reference internal" href="#change-6ad83653aed5df61bea17b14bda619f6">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2090">#2090</a></p>
</p>
</li>
</ul>
</div>
</div>
<div class="section" id="change-0.6.6">
<h2 class="release-version">0.6.6<a class="headerlink" href="#change-0.6.6" title="Permalink to this headline">¶</a></h2>
Released: Sat Jan 08 2011<div class="section" id="change-0.6.6-orm">
<h3>orm<a class="headerlink" href="#change-0.6.6-orm" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6.6-0"><span class="target" id="change-73d44895e2706b7e163324b206400f33"><strong>[orm]</strong> </span><p>Fixed bug whereby a non-“mutable” attribute modified event
which occurred on an object that was clean except for
preceding mutable attribute changes would fail to strongly
reference itself in the identity map. This would cause the
object to be garbage collected, losing track of any changes
that weren’t previously saved in the “mutable changes”
dictionary.</p>
<a class="changelog-reference headerlink reference internal" href="#change-73d44895e2706b7e163324b206400f33">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6.6-1"><span class="target" id="change-cc7c109cd2e5f972d7c361a19e549015"><strong>[orm]</strong> </span><p>Fixed bug whereby “passive_deletes=’all’” wasn’t passing
the correct symbols to lazy loaders during flush, thereby
causing an unwarranted load.</p>
<a class="changelog-reference headerlink reference internal" href="#change-cc7c109cd2e5f972d7c361a19e549015">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2013">#2013</a></p>
</p>
</li>
<li><p id="change-0.6.6-2"><span class="target" id="change-a06e3ac0ceb000a16fd9ccd8151858a9"><strong>[orm]</strong> </span><p>Fixed bug which prevented composite mapped
attributes from being used on a mapped select statement.. Note the workings of composite are slated to
change significantly in 0.7.</p>
<a class="changelog-reference headerlink reference internal" href="#change-a06e3ac0ceb000a16fd9ccd8151858a9">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1997">#1997</a></p>
</p>
</li>
<li><p id="change-0.6.6-3"><span class="target" id="change-78f279b93ff41fe6f4e382ab7a39d1dc"><strong>[orm]</strong> </span><p>active_history flag also added to composite().
The flag has no effect in 0.6, but is instead
a placeholder flag for forwards compatibility,
as it applies in 0.7 for composites.</p>
<a class="changelog-reference headerlink reference internal" href="#change-78f279b93ff41fe6f4e382ab7a39d1dc">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1976">#1976</a></p>
</p>
</li>
<li><p id="change-0.6.6-4"><span class="target" id="change-e583324a8feefce60c8c25f58fb1489c"><strong>[orm]</strong> </span><p>Fixed uow bug whereby expired objects passed to
Session.delete() would not have unloaded references
or collections taken into account when deleting
objects, despite passive_deletes remaining at
its default of False.</p>
<a class="changelog-reference headerlink reference internal" href="#change-e583324a8feefce60c8c25f58fb1489c">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2002">#2002</a></p>
</p>
</li>
<li><p id="change-0.6.6-5"><span class="target" id="change-24a0a0f1cefec7af7929abec55c2677d"><strong>[orm]</strong> </span><p>A warning is emitted when version_id_col is specified
on an inheriting mapper when the inherited mapper
already has one, if those column expressions are not
the same.</p>
<a class="changelog-reference headerlink reference internal" href="#change-24a0a0f1cefec7af7929abec55c2677d">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1987">#1987</a></p>
</p>
</li>
<li><p id="change-0.6.6-6"><span class="target" id="change-950897823db98ee106b0d8ae719faea0"><strong>[orm]</strong> </span><p>“innerjoin” flag doesn’t take effect along the chain
of joinedload() joins if a previous join in that chain
is an outer join, thus allowing primary rows without
a referenced child row to be correctly returned
in results.</p>
<a class="changelog-reference headerlink reference internal" href="#change-950897823db98ee106b0d8ae719faea0">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1954">#1954</a></p>
</p>
</li>
<li><p id="change-0.6.6-7"><span class="target" id="change-0a61da9c990ed25523ab57b8e6ff715f"><strong>[orm]</strong> </span><p>Fixed bug regarding “subqueryload” strategy whereby
strategy would fail if the entity was an aliased()
construct.</p>
<a class="changelog-reference headerlink reference internal" href="#change-0a61da9c990ed25523ab57b8e6ff715f">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1964">#1964</a></p>
</p>
</li>
<li><p id="change-0.6.6-8"><span class="target" id="change-1703b90dcfd7ffd0b4f81bcbb70c3d44"><strong>[orm]</strong> </span><p>Fixed bug regarding “subqueryload” strategy whereby
the join would fail if using a multi-level load
of the form from A-&gt;joined-subclass-&gt;C</p>
<a class="changelog-reference headerlink reference internal" href="#change-1703b90dcfd7ffd0b4f81bcbb70c3d44">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2014">#2014</a></p>
</p>
</li>
<li><p id="change-0.6.6-9"><span class="target" id="change-4a73b51d264c9ebf2bfe59749c653a7e"><strong>[orm]</strong> </span><p>Fixed indexing of Query objects by -1. It was erroneously
transformed to the empty slice -1:0 that resulted in
IndexError.</p>
<a class="changelog-reference headerlink reference internal" href="#change-4a73b51d264c9ebf2bfe59749c653a7e">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1968">#1968</a></p>
</p>
</li>
<li><p id="change-0.6.6-10"><span class="target" id="change-99c12b8a201a49a117b4bb21da31173a"><strong>[orm]</strong> </span><p>The mapper argument “primary_key” can be passed as a
single column as well as a list or tuple.
The documentation examples that illustrated it as a
scalar value have been changed to lists.</p>
<a class="changelog-reference headerlink reference internal" href="#change-99c12b8a201a49a117b4bb21da31173a">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1971">#1971</a></p>
</p>
</li>
<li><p id="change-0.6.6-11"><span class="target" id="change-ff4076489a43c234bed638b787e33718"><strong>[orm]</strong> </span><p>Added active_history flag to relationship()
and column_property(), forces attribute events to
always load the “old” value, so that it’s available to
attributes.get_history().</p>
<a class="changelog-reference headerlink reference internal" href="#change-ff4076489a43c234bed638b787e33718">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1961">#1961</a></p>
</p>
</li>
<li><p id="change-0.6.6-12"><span class="target" id="change-0ff4a3f02593bf67a026324aec361fc5"><strong>[orm]</strong> </span><p>Query.get() will raise if the number of params
in a composite key is too large, as well as too
small.</p>
<a class="changelog-reference headerlink reference internal" href="#change-0ff4a3f02593bf67a026324aec361fc5">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1977">#1977</a></p>
</p>
</li>
<li><p id="change-0.6.6-13"><span class="target" id="change-05860eb2ecae8e9521c06c989b36d3df"><strong>[orm]</strong> </span><p>Backport of “optimized get” fix from 0.7,
improves the generation of joined-inheritance
“load expired row” behavior.</p>
<a class="changelog-reference headerlink reference internal" href="#change-05860eb2ecae8e9521c06c989b36d3df">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1992">#1992</a></p>
</p>
</li>
<li><p id="change-0.6.6-14"><span class="target" id="change-dad16deefe860c0ae2a562ef161b1063"><strong>[orm]</strong> </span><p>A little more verbiage to the “primaryjoin” error,
in an unusual condition that the join condition
“works” for viewonly but doesn’t work for non-viewonly,
and foreign_keys wasn’t used - adds “foreign_keys” to
the suggestion.  Also add “foreign_keys” to the
suggestion for the generic “direction” error.</p>
<a class="changelog-reference headerlink reference internal" href="#change-dad16deefe860c0ae2a562ef161b1063">¶</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.6.6-engine">
<h3>engine<a class="headerlink" href="#change-0.6.6-engine" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6.6-15"><span class="target" id="change-e344fa51f77920bcead6517070be003a"><strong>[engine]</strong> </span><p>The “unicode warning” against non-unicode bind data
is now raised only when the
Unicode type is used explicitly; not when
convert_unicode=True is used on the engine
or String type.</p>
<a class="changelog-reference headerlink reference internal" href="#change-e344fa51f77920bcead6517070be003a">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6.6-16"><span class="target" id="change-060786b76864313d10ab31bd71a4aeb8"><strong>[engine]</strong> </span><p>Fixed memory leak in C version of Decimal result
processor.</p>
<a class="changelog-reference headerlink reference internal" href="#change-060786b76864313d10ab31bd71a4aeb8">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1978">#1978</a></p>
</p>
</li>
<li><p id="change-0.6.6-17"><span class="target" id="change-a782cc312fd2acd3583135d10d33de6d"><strong>[engine]</strong> </span><p>Implemented sequence check capability for the C
version of RowProxy, as well as 2.7 style
“collections.Sequence” registration for RowProxy.</p>
<a class="changelog-reference headerlink reference internal" href="#change-a782cc312fd2acd3583135d10d33de6d">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1871">#1871</a></p>
</p>
</li>
<li><p id="change-0.6.6-18"><span class="target" id="change-4d3bfa440284b95d35ecfb86606c4b1d"><strong>[engine]</strong> </span><p>Threadlocal engine methods rollback(), commit(),
prepare() won’t raise if no transaction is in progress;
this was a regression introduced in 0.6.</p>
<a class="changelog-reference headerlink reference internal" href="#change-4d3bfa440284b95d35ecfb86606c4b1d">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1998">#1998</a></p>
</p>
</li>
<li><p id="change-0.6.6-19"><span class="target" id="change-bfd7df5b5e155908748f2e41fef4e6cb"><strong>[engine]</strong> </span><p>Threadlocal engine returns itself upon begin(),
begin_nested(); engine then implements contextmanager
methods to allow the “with” statement.</p>
<a class="changelog-reference headerlink reference internal" href="#change-bfd7df5b5e155908748f2e41fef4e6cb">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2004">#2004</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.6.6-sql">
<h3>sql<a class="headerlink" href="#change-0.6.6-sql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6.6-20"><span class="target" id="change-8501b4f05d5a273f29d09e5fda4682b4"><strong>[sql]</strong> </span><p>Fixed operator precedence rules for multiple
chains of a single non-associative operator.
I.e. “x - (y - z)” will compile as “x - (y - z)”
and not “x - y - z”.  Also works with labels,
i.e. “x - (y - z).label(‘foo’)”</p>
<a class="changelog-reference headerlink reference internal" href="#change-8501b4f05d5a273f29d09e5fda4682b4">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1984">#1984</a></p>
</p>
</li>
<li><p id="change-0.6.6-21"><span class="target" id="change-9329ac8a67c101712cc52dcd1ef51dfe"><strong>[sql]</strong> </span><p>The ‘info’ attribute of Column is copied during
Column.copy(), i.e. as occurs when using columns
in declarative mixins.</p>
<a class="changelog-reference headerlink reference internal" href="#change-9329ac8a67c101712cc52dcd1ef51dfe">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1967">#1967</a></p>
</p>
</li>
<li><p id="change-0.6.6-22"><span class="target" id="change-313ab80f4ccba634879714775e2d1937"><strong>[sql]</strong> </span><p>Added a bind processor for booleans which coerces
to int, for DBAPIs such as pymssql that naively call
str() on values.</p>
<a class="changelog-reference headerlink reference internal" href="#change-313ab80f4ccba634879714775e2d1937">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6.6-23"><span class="target" id="change-c6bca81c575803cd5d89152c9793de63"><strong>[sql]</strong> </span><p>CheckConstraint will copy its ‘initially’, ‘deferrable’,
and ‘_create_rule’ attributes within a copy()/tometadata()</p>
<a class="changelog-reference headerlink reference internal" href="#change-c6bca81c575803cd5d89152c9793de63">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2000">#2000</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.6.6-postgresql">
<h3>postgresql<a class="headerlink" href="#change-0.6.6-postgresql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6.6-24"><span class="target" id="change-6dfbe255f49659e489e09c208c1d7bee"><strong>[postgresql]</strong> </span><p>Single element tuple expressions inside an IN clause
parenthesize correctly, also from</p>
<a class="changelog-reference headerlink reference internal" href="#change-6dfbe255f49659e489e09c208c1d7bee">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1984">#1984</a></p>
</p>
</li>
<li><p id="change-0.6.6-25"><span class="target" id="change-55c1f840b71087d0e09bb8bc2afa14e4"><strong>[postgresql]</strong> </span><p>Ensured every numeric, float, int code, scalar + array,
are recognized by psycopg2 and pg8000’s “numeric”
base type.</p>
<a class="changelog-reference headerlink reference internal" href="#change-55c1f840b71087d0e09bb8bc2afa14e4">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1955">#1955</a></p>
</p>
</li>
<li><p id="change-0.6.6-26"><span class="target" id="change-0e07e9da5e3d2dc702aaf8213f255dc2"><strong>[postgresql]</strong> </span><p>Added as_uuid=True flag to the UUID type, will receive
and return values as Python UUID() objects rather than
strings.  Currently, the UUID type is only known to
work with psycopg2.</p>
<a class="changelog-reference headerlink reference internal" href="#change-0e07e9da5e3d2dc702aaf8213f255dc2">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1956">#1956</a></p>
</p>
</li>
<li><p id="change-0.6.6-27"><span class="target" id="change-6f1e93205663537c4ef282d5cfc3edef"><strong>[postgresql]</strong> </span><p>Fixed bug whereby KeyError would occur with non-ENUM
supported PG versions after a pool dispose+recreate
would occur.</p>
<a class="changelog-reference headerlink reference internal" href="#change-6f1e93205663537c4ef282d5cfc3edef">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1989">#1989</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.6.6-mysql">
<h3>mysql<a class="headerlink" href="#change-0.6.6-mysql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6.6-28"><span class="target" id="change-15404de376dfeacb313c1bcb2ee66a33"><strong>[mysql]</strong> </span><p>Fixed error handling for Jython + zxjdbc, such that
has_table() property works again.  Regression from
0.6.3 (we don’t have a Jython buildbot, sorry)</p>
<a class="changelog-reference headerlink reference internal" href="#change-15404de376dfeacb313c1bcb2ee66a33">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1960">#1960</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.6.6-sqlite">
<h3>sqlite<a class="headerlink" href="#change-0.6.6-sqlite" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6.6-29"><span class="target" id="change-6d83957f57c2e3d7f41b95967ddb322c"><strong>[sqlite]</strong> </span><p>The REFERENCES clause in a CREATE TABLE that includes
a remote schema to another table with the same schema
name now renders the remote name without
the schema clause, as required by SQLite.</p>
<a class="changelog-reference headerlink reference internal" href="#change-6d83957f57c2e3d7f41b95967ddb322c">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1851">#1851</a></p>
</p>
</li>
<li><p id="change-0.6.6-30"><span class="target" id="change-c7c69439e2cc0ec7af6b3dffa8a3a86f"><strong>[sqlite]</strong> </span><p>On the same theme, the REFERENCES clause in a CREATE TABLE
that includes a remote schema to a <em>different</em> schema
than that of the parent table doesn’t render at all,
as cross-schema references do not appear to be supported.</p>
<a class="changelog-reference headerlink reference internal" href="#change-c7c69439e2cc0ec7af6b3dffa8a3a86f">¶</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.6.6-mssql">
<h3>mssql<a class="headerlink" href="#change-0.6.6-mssql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6.6-31"><span class="target" id="change-445f4c11a73f0a2d7a02c8297f45a174"><strong>[mssql]</strong> </span><p>The rewrite of index reflection in was
unfortunately not tested correctly, and returned incorrect
results.   This regression is now fixed.</p>
<a class="changelog-reference headerlink reference internal" href="#change-445f4c11a73f0a2d7a02c8297f45a174">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1770">#1770</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.6.6-oracle">
<h3>oracle<a class="headerlink" href="#change-0.6.6-oracle" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6.6-32"><span class="target" id="change-2ccadf16ce306a495b45d7e349e3a56d"><strong>[oracle]</strong> </span><p>The cx_oracle “decimal detection” logic, which takes place
for result set columns with ambiguous numeric characteristics,
now uses the decimal point character determined by the locale/
NLS_LANG setting, using an on-first-connect detection of
this character.  cx_oracle 5.0.3 or greater is also required
when using a non-period-decimal-point NLS_LANG setting..</p>
<a class="changelog-reference headerlink reference internal" href="#change-2ccadf16ce306a495b45d7e349e3a56d">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1953">#1953</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.6.6-firebird">
<h3>firebird<a class="headerlink" href="#change-0.6.6-firebird" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6.6-33"><span class="target" id="change-cefc7fd8608289b2871c372d3f415aa1"><strong>[firebird]</strong> </span><p>Firebird numeric type now checks for Decimal explicitly,
lets float() pass right through, thereby allowing
special values such as float(‘inf’).</p>
<a class="changelog-reference headerlink reference internal" href="#change-cefc7fd8608289b2871c372d3f415aa1">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2012">#2012</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.6.6-misc">
<h3>misc<a class="headerlink" href="#change-0.6.6-misc" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6.6-34"><span class="target" id="change-1c894bdd6f1952bc473239bc08a14b89"><strong>[declarative]</strong> </span><p>An error is raised if __table_args__ is not in tuple
or dict format, and is not None.</p>
<a class="changelog-reference headerlink reference internal" href="#change-1c894bdd6f1952bc473239bc08a14b89">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1972">#1972</a></p>
</p>
</li>
<li><p id="change-0.6.6-35"><span class="target" id="change-589cc5d2ae80b9d8ba7435234c630b85"><strong>[sqlsoup]</strong> </span><p>Added “map_to()” method to SqlSoup, which is a “master”
method which accepts explicit arguments for each aspect of
the selectable and mapping, including a base class per
mapping.</p>
<a class="changelog-reference headerlink reference internal" href="#change-589cc5d2ae80b9d8ba7435234c630b85">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1975">#1975</a></p>
</p>
</li>
<li><p id="change-0.6.6-36"><span class="target" id="change-c8bc4f5b37cc4e77cd766cce0179426c"><strong>[sqlsoup]</strong> </span><p>Mapped selectables used with the map(), with_labels(),
join() methods no longer put the given argument into the
internal “cache” dictionary.  Particularly since the
join() and select() objects are created in the method
itself this was pretty much a pure memory leaking behavior.</p>
<a class="changelog-reference headerlink reference internal" href="#change-c8bc4f5b37cc4e77cd766cce0179426c">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6.6-37"><span class="target" id="change-cdab141baa9b101f65543811538eaad3"><strong>[examples]</strong> </span><p>The versioning example now supports detection of changes
in an associated relationship().</p>
<a class="changelog-reference headerlink reference internal" href="#change-cdab141baa9b101f65543811538eaad3">¶</a><p></p>
</p>
</li>
</ul>
</div>
</div>
<div class="section" id="change-0.6.5">
<h2 class="release-version">0.6.5<a class="headerlink" href="#change-0.6.5" title="Permalink to this headline">¶</a></h2>
Released: Sun Oct 24 2010<div class="section" id="change-0.6.5-orm">
<h3>orm<a class="headerlink" href="#change-0.6.5-orm" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6.5-0"><span class="target" id="change-05ec37b51f434e62c267fe20d4e58c7e"><strong>[orm]</strong> </span><p>Added a new “lazyload” option “immediateload”.
Issues the usual “lazy” load operation automatically
as the object is populated.   The use case
here is when loading objects to be placed in
an offline cache, or otherwise used after
the session isn’t available, and straight ‘select’
loading, not ‘joined’ or ‘subquery’, is desired.</p>
<a class="changelog-reference headerlink reference internal" href="#change-05ec37b51f434e62c267fe20d4e58c7e">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1914">#1914</a></p>
</p>
</li>
<li><p id="change-0.6.5-1"><span class="target" id="change-10955dae4ce54a020b91ac0a8757e360"><strong>[orm]</strong> </span><p>New Query methods: query.label(name), query.as_scalar(),
return the query’s statement as a scalar subquery
with /without label;
query.with_entities(*ent), replaces the SELECT list of
the query with new entities.
Roughly equivalent to a generative form of query.values()
which accepts mapped entities as well as column
expressions.</p>
<a class="changelog-reference headerlink reference internal" href="#change-10955dae4ce54a020b91ac0a8757e360">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1920">#1920</a></p>
</p>
</li>
<li><p id="change-0.6.5-2"><span class="target" id="change-d784a2da322b348050aefe3c6258ba39"><strong>[orm]</strong> </span><p>Fixed recursion bug which could occur when moving
an object from one reference to another, with
backrefs involved, where the initiating parent
was a subclass (with its own mapper) of the
previous parent.</p>
<a class="changelog-reference headerlink reference internal" href="#change-d784a2da322b348050aefe3c6258ba39">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6.5-3"><span class="target" id="change-6af93b4a17eb71913cf760ae65958264"><strong>[orm]</strong> </span><p>Fixed a regression in 0.6.4 which occurred if you
passed an empty list to “include_properties” on
mapper()</p>
<a class="changelog-reference headerlink reference internal" href="#change-6af93b4a17eb71913cf760ae65958264">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1918">#1918</a></p>
</p>
</li>
<li><p id="change-0.6.5-4"><span class="target" id="change-b79708d8c7a705b6ac80798508585034"><strong>[orm]</strong> </span><p>Fixed labeling bug in Query whereby the NamedTuple
would mis-apply labels if any of the column
expressions were un-labeled.</p>
<a class="changelog-reference headerlink reference internal" href="#change-b79708d8c7a705b6ac80798508585034">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6.5-5"><span class="target" id="change-3ce4439ac51efb211009bf9295f36135"><strong>[orm]</strong> </span><p>Patched a case where query.join() would adapt the
right side to the right side of the left’s join
inappropriately</p>
<a class="changelog-reference headerlink reference internal" href="#change-3ce4439ac51efb211009bf9295f36135">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1925">#1925</a></p>
</p>
</li>
<li><p id="change-0.6.5-6"><span class="target" id="change-2520d6ed386bd5f52025b2ea26acaf3c"><strong>[orm]</strong> </span><p>Query.select_from() has been beefed up to help
ensure that a subsequent call to query.join()
will use the select_from() entity, assuming it’s
a mapped entity and not a plain selectable,
as the default “left” side, not the first entity
in the Query object’s list of entities.</p>
<a class="changelog-reference headerlink reference internal" href="#change-2520d6ed386bd5f52025b2ea26acaf3c">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6.5-7"><span class="target" id="change-6ac225a74a7670ddfe45fd42b639020c"><strong>[orm]</strong> </span><p>The exception raised by Session when it is used
subsequent to a subtransaction rollback (which is what
happens when a flush fails in autocommit=False mode) has
now been reworded (this is the “inactive due to a
rollback in a subtransaction” message). In particular,
if the rollback was due to an exception during flush(),
the message states this is the case, and reiterates the
string form of the original exception that occurred
during flush. If the session is closed due to explicit
usage of subtransactions (not very common), the message
just states this is the case.</p>
<a class="changelog-reference headerlink reference internal" href="#change-6ac225a74a7670ddfe45fd42b639020c">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6.5-8"><span class="target" id="change-d238e9c9585eb81bc60ff2f4cd32320f"><strong>[orm]</strong> </span><p>The exception raised by Mapper when repeated requests to
its initialization are made after initialization already
failed no longer assumes the “hasattr” case, since
there’s other scenarios in which this message gets
emitted, and the message also does not compound onto
itself multiple times - you get the same message for
each attempt at usage. The misnomer “compiles” is being
traded out for “initialize”.</p>
<a class="changelog-reference headerlink reference internal" href="#change-d238e9c9585eb81bc60ff2f4cd32320f">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6.5-9"><span class="target" id="change-9ec0c4f2f483bf5d304f33c8593de5d9"><strong>[orm]</strong> </span><p>Fixed bug in query.update() where ‘evaluate’ or ‘fetch’
expiration would fail if the column expression key was
a class attribute with a different keyname as the
actual column name.</p>
<a class="changelog-reference headerlink reference internal" href="#change-9ec0c4f2f483bf5d304f33c8593de5d9">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1935">#1935</a></p>
</p>
</li>
<li><p id="change-0.6.5-10"><span class="target" id="change-d84b4cf05c01f57aba9894d09098d696"><strong>[orm]</strong> </span><p>Added an assertion during flush which ensures
that no NULL-holding identity keys were generated
on “newly persistent” objects.
This can occur when user defined code inadvertently
triggers flushes on not-fully-loaded objects.</p>
<a class="changelog-reference headerlink reference internal" href="#change-d84b4cf05c01f57aba9894d09098d696">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6.5-11"><span class="target" id="change-83d77852281b4f90915f5a66c5aeb2f4"><strong>[orm]</strong> </span><p>lazy loads for relationship attributes now use
the current state, not the “committed” state,
of foreign and primary key attributes
when issuing SQL, if a flush is not in process.
Previously, only the database-committed state would
be used.  In particular, this would cause a many-to-one
get()-on-lazyload operation to fail, as autoflush
is not triggered on these loads when the attributes are
determined and the “committed” state may not be
available.</p>
<a class="changelog-reference headerlink reference internal" href="#change-83d77852281b4f90915f5a66c5aeb2f4">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1910">#1910</a></p>
</p>
</li>
<li><p id="change-0.6.5-12"><span class="target" id="change-54bd435e0495c759195b5a89782f09f3"><strong>[orm]</strong> </span><p>A new flag on relationship(), load_on_pending, allows
the lazy loader to fire off on pending objects without a
flush taking place, as well as a transient object that’s
been manually “attached” to the session. Note that this
flag blocks attribute events from taking place when an
object is loaded, so backrefs aren’t available until
after a flush. The flag is only intended for very
specific use cases.</p>
<a class="changelog-reference headerlink reference internal" href="#change-54bd435e0495c759195b5a89782f09f3">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6.5-13"><span class="target" id="change-080a574eb24dbc2249cb0cf42cd0c506"><strong>[orm]</strong> </span><p>Another new flag on relationship(), cascade_backrefs,
disables the “save-update” cascade when the event was
initiated on the “reverse” side of a bidirectional
relationship.   This is a cleaner behavior so that
many-to-ones can be set on a transient object without
it getting sucked into the child object’s session,
while still allowing the forward collection to
cascade.   We <em>might</em> default this to False in 0.7.</p>
<a class="changelog-reference headerlink reference internal" href="#change-080a574eb24dbc2249cb0cf42cd0c506">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6.5-14"><span class="target" id="change-cd1698eb18bf61cf0da5afee7a5e7c4a"><strong>[orm]</strong> </span><p>Slight improvement to the behavior of
“passive_updates=False” when placed only on the
many-to-one side of a relationship; documentation has
been clarified that passive_updates=False should really
be on the one-to-many side.</p>
<a class="changelog-reference headerlink reference internal" href="#change-cd1698eb18bf61cf0da5afee7a5e7c4a">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6.5-15"><span class="target" id="change-cad7611b381713d7cffe14e33ee704bf"><strong>[orm]</strong> </span><p>Placing passive_deletes=True on a many-to-one emits
a warning, since you probably intended to put it on
the one-to-many side.</p>
<a class="changelog-reference headerlink reference internal" href="#change-cad7611b381713d7cffe14e33ee704bf">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6.5-16"><span class="target" id="change-6b88ae16dd7b28d9830d7684992e3cb7"><strong>[orm]</strong> </span><p>Fixed bug that would prevent “subqueryload” from
working correctly with single table inheritance
for a relationship from a subclass - the “where
type in (x, y, z)” only gets placed on the inside,
instead of repeatedly.</p>
<a class="changelog-reference headerlink reference internal" href="#change-6b88ae16dd7b28d9830d7684992e3cb7">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6.5-17"><span class="target" id="change-34f0bff0696715bf8cb3e59f6d10b4bb"><strong>[orm]</strong> </span><p>When using from_self() with single table inheritance,
the “where type in (x, y, z)” is placed on the outside
of the query only, instead of repeatedly.   May make
some more adjustments to this.</p>
<a class="changelog-reference headerlink reference internal" href="#change-34f0bff0696715bf8cb3e59f6d10b4bb">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6.5-18"><span class="target" id="change-b008ec0e6f859c0904e7abd78a62457f"><strong>[orm]</strong> </span><p>scoped_session emits a warning when configure() is
called if a Session is already present (checks only the
current thread)</p>
<a class="changelog-reference headerlink reference internal" href="#change-b008ec0e6f859c0904e7abd78a62457f">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1924">#1924</a></p>
</p>
</li>
<li><p id="change-0.6.5-19"><span class="target" id="change-63bb35cc7429215a5a693a352a838a9b"><strong>[orm]</strong> </span><p>reworked the internals of mapper.cascade_iterator() to
cut down method calls by about 9% in some circumstances.</p>
<a class="changelog-reference headerlink reference internal" href="#change-63bb35cc7429215a5a693a352a838a9b">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1932">#1932</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.6.5-engine">
<h3>engine<a class="headerlink" href="#change-0.6.5-engine" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6.5-20"><span class="target" id="change-1059318af334dfde665aff47590e8542"><strong>[engine]</strong> </span><p>Fixed a regression in 0.6.4 whereby the change that
allowed cursor errors to be raised consistently broke
the result.lastrowid accessor.   Test coverage has
been added for result.lastrowid.   Note that lastrowid
is only supported by Pysqlite and some MySQL drivers,
so isn’t super-useful in the general case.</p>
<a class="changelog-reference headerlink reference internal" href="#change-1059318af334dfde665aff47590e8542">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6.5-21"><span class="target" id="change-ebd200888550cee6694d854883573fa6"><strong>[engine]</strong> </span><p>the logging message emitted by the engine when
a connection is first used is now “BEGIN (implicit)”
to emphasize that DBAPI has no explicit begin().</p>
<a class="changelog-reference headerlink reference internal" href="#change-ebd200888550cee6694d854883573fa6">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6.5-22"><span class="target" id="change-583d616a6e6d2ed7c2874a91f7e8b83a"><strong>[engine]</strong> </span><p>added “views=True” option to metadata.reflect(),
will add the list of available views to those
being reflected.</p>
<a class="changelog-reference headerlink reference internal" href="#change-583d616a6e6d2ed7c2874a91f7e8b83a">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1936">#1936</a></p>
</p>
</li>
<li><p id="change-0.6.5-23"><span class="target" id="change-50d5bffb777603ddce658a6a67b8e205"><strong>[engine]</strong> </span><p>engine_from_config() now accepts ‘debug’ for
‘echo’, ‘echo_pool’, ‘force’ for ‘convert_unicode’,
boolean values for ‘use_native_unicode’.</p>
<a class="changelog-reference headerlink reference internal" href="#change-50d5bffb777603ddce658a6a67b8e205">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1899">#1899</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.6.5-sql">
<h3>sql<a class="headerlink" href="#change-0.6.5-sql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6.5-24"><span class="target" id="change-38a4e7cd800b41adf3d50801a7f7cb1b"><strong>[sql]</strong> </span><p>Fixed bug in TypeDecorator whereby the dialect-specific
type was getting pulled in to generate the DDL for a
given type, which didn’t always return the correct result.</p>
<a class="changelog-reference headerlink reference internal" href="#change-38a4e7cd800b41adf3d50801a7f7cb1b">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6.5-25"><span class="target" id="change-1f4462b0b5fe565c42d2a26adc200c72"><strong>[sql]</strong> </span><p>TypeDecorator can now have a fully constructed type
specified as its “impl”, in addition to a type class.</p>
<a class="changelog-reference headerlink reference internal" href="#change-1f4462b0b5fe565c42d2a26adc200c72">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6.5-26"><span class="target" id="change-9dc92f16ad4db3c34c0aa4eae14c851f"><strong>[sql]</strong> </span><p>TypeDecorator will now place itself as the resulting
type for a binary expression where the type coercion
rules would normally return its impl type - previously,
a copy of the impl type would be returned which would
have the TypeDecorator embedded into it as the “dialect”
impl, this was probably an unintentional way of achieving
the desired effect.</p>
<a class="changelog-reference headerlink reference internal" href="#change-9dc92f16ad4db3c34c0aa4eae14c851f">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6.5-27"><span class="target" id="change-2b8e904daae0d182fbf0aaa6bca9d64b"><strong>[sql]</strong> </span><p>TypeDecorator.load_dialect_impl() returns “self.impl” by
default, i.e. not the dialect implementation type of
“self.impl”.   This to support compilation correctly.
Behavior can be user-overridden in exactly the same way
as before to the same effect.</p>
<a class="changelog-reference headerlink reference internal" href="#change-2b8e904daae0d182fbf0aaa6bca9d64b">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6.5-28"><span class="target" id="change-29fd8b04b0c6aef95c9455c804c96892"><strong>[sql]</strong> </span><p>Added type_coerce(expr, type_) expression element.
Treats the given expression as the given type when evaluating
expressions and processing result rows, but does not
affect the generation of SQL, other than an anonymous
label.</p>
<a class="changelog-reference headerlink reference internal" href="#change-29fd8b04b0c6aef95c9455c804c96892">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6.5-29"><span class="target" id="change-6c855e196152b57c304b333e9770fa07"><strong>[sql]</strong> </span><p>Table.tometadata() now copies Index objects associated
with the Table as well.</p>
<a class="changelog-reference headerlink reference internal" href="#change-6c855e196152b57c304b333e9770fa07">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6.5-30"><span class="target" id="change-81cb47d5917f4a66ca50b654ececaf77"><strong>[sql]</strong> </span><p>Table.tometadata() issues a warning if the given Table
is already present in the target MetaData - the existing
Table object is returned.</p>
<a class="changelog-reference headerlink reference internal" href="#change-81cb47d5917f4a66ca50b654ececaf77">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6.5-31"><span class="target" id="change-6c2eaa8e6ce7b6c71555f1222eccbb27"><strong>[sql]</strong> </span><p>An informative error message is raised if a Column
which has not yet been assigned a name, i.e. as in
declarative, is used in a context where it is
exported to the columns collection of an enclosing
select() construct, or if any construct involving
that column is compiled before its name is
assigned.</p>
<a class="changelog-reference headerlink reference internal" href="#change-6c2eaa8e6ce7b6c71555f1222eccbb27">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6.5-32"><span class="target" id="change-69ad40851eefcd610d8d70ebd3511697"><strong>[sql]</strong> </span><p>as_scalar(), label() can be called on a selectable
which contains a Column that is not yet named.</p>
<a class="changelog-reference headerlink reference internal" href="#change-69ad40851eefcd610d8d70ebd3511697">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1862">#1862</a></p>
</p>
</li>
<li><p id="change-0.6.5-33"><span class="target" id="change-fcb44a57a6160aab1d8c4e8427c9b044"><strong>[sql]</strong> </span><p>Fixed recursion overflow which could occur when operating
with two expressions both of type “NullType”, but
not the singleton NULLTYPE instance.</p>
<a class="changelog-reference headerlink reference internal" href="#change-fcb44a57a6160aab1d8c4e8427c9b044">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1907">#1907</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.6.5-postgresql">
<h3>postgresql<a class="headerlink" href="#change-0.6.5-postgresql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6.5-34"><span class="target" id="change-4d094ee39f2d2bfb4cbd1e9cd2912640"><strong>[postgresql]</strong> </span><p>Added “as_tuple” flag to ARRAY type, returns results
as tuples instead of lists to allow hashing.</p>
<a class="changelog-reference headerlink reference internal" href="#change-4d094ee39f2d2bfb4cbd1e9cd2912640">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6.5-35"><span class="target" id="change-5b9e6f2e203f6ec007fcf90d5d5d9e90"><strong>[postgresql]</strong> </span><p>Fixed bug which prevented “domain” built from a
custom type such as “enum” from being reflected.</p>
<a class="changelog-reference headerlink reference internal" href="#change-5b9e6f2e203f6ec007fcf90d5d5d9e90">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1933">#1933</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.6.5-mysql">
<h3>mysql<a class="headerlink" href="#change-0.6.5-mysql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6.5-36"><span class="target" id="change-e8d0855d359fcbb93416e1b0988fdb8e"><strong>[mysql]</strong> </span><p>Fixed bug involving reflection of CURRENT_TIMESTAMP
default used with ON UPDATE clause, thanks to
Taavi Burns</p>
<a class="changelog-reference headerlink reference internal" href="#change-e8d0855d359fcbb93416e1b0988fdb8e">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1940">#1940</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.6.5-mssql">
<h3>mssql<a class="headerlink" href="#change-0.6.5-mssql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6.5-37"><span class="target" id="change-f16e997950ea6bca39c0a059887dfbfd"><strong>[mssql]</strong> </span><p>Fixed reflection bug which did not properly handle
reflection of unknown types.</p>
<a class="changelog-reference headerlink reference internal" href="#change-f16e997950ea6bca39c0a059887dfbfd">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1946">#1946</a></p>
</p>
</li>
<li><p id="change-0.6.5-38"><span class="target" id="change-022e82021b20bc2c059207eb8b7234af"><strong>[mssql]</strong> </span><p>Fixed bug where aliasing of tables with “schema” would
fail to compile properly.</p>
<a class="changelog-reference headerlink reference internal" href="#change-022e82021b20bc2c059207eb8b7234af">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1943">#1943</a></p>
</p>
</li>
<li><p id="change-0.6.5-39"><span class="target" id="change-9f19687a241d918bf9dd03d0cc3ff3ed"><strong>[mssql]</strong> </span><p>Rewrote the reflection of indexes to use sys.
catalogs, so that column names of any configuration
(spaces, embedded commas, etc.) can be reflected.
Note that reflection of indexes requires SQL
Server 2005 or greater.</p>
<a class="changelog-reference headerlink reference internal" href="#change-9f19687a241d918bf9dd03d0cc3ff3ed">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1770">#1770</a></p>
</p>
</li>
<li><p id="change-0.6.5-40"><span class="target" id="change-ffe886676fb15f105e1a8cc37dfb6f9d"><strong>[mssql]</strong> </span><p>mssql+pymssql dialect now honors the “port” portion
of the URL instead of discarding it.</p>
<a class="changelog-reference headerlink reference internal" href="#change-ffe886676fb15f105e1a8cc37dfb6f9d">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1952">#1952</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.6.5-oracle">
<h3>oracle<a class="headerlink" href="#change-0.6.5-oracle" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6.5-41"><span class="target" id="change-500d02470a5bcfe785e85f22eb57d7ab"><strong>[oracle]</strong> </span><p>The implicit_returning argument to create_engine()
is now honored regardless of detected version of
Oracle.  Previously, the flag would be forced
to False if server version info was &lt; 10.</p>
<a class="changelog-reference headerlink reference internal" href="#change-500d02470a5bcfe785e85f22eb57d7ab">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1878">#1878</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.6.5-misc">
<h3>misc<a class="headerlink" href="#change-0.6.5-misc" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6.5-42"><span class="target" id="change-b19f9aa816f9e63c03fa209095e76f51"><strong>[declarative]</strong> </span><p>&#64;classproperty (soon/now &#64;declared_attr) takes effect for
__mapper_args__, __table_args__, __tablename__ on
a base class that is not a mixin, as well as mixins.</p>
<a class="changelog-reference headerlink reference internal" href="#change-b19f9aa816f9e63c03fa209095e76f51">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1922">#1922</a></p>
</p>
</li>
<li><p id="change-0.6.5-43"><span class="target" id="change-b9792dc15f6375711ec84bb73ae74272"><strong>[declarative]</strong> </span><p>&#64;classproperty ‘s official name/location for usage
with declarative is sqlalchemy.ext.declarative.declared_attr.
Same thing, but moving there since it is more of a
“marker” that’s specific to declarative,
not just an attribute technique.</p>
<a class="changelog-reference headerlink reference internal" href="#change-b9792dc15f6375711ec84bb73ae74272">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1915">#1915</a></p>
</p>
</li>
<li><p id="change-0.6.5-44"><span class="target" id="change-172b80261166fbfb39ffe45d8499afe2"><strong>[declarative]</strong> </span><p>Fixed bug whereby columns on a mixin wouldn’t propagate
correctly to a single-table, or joined-table,
inheritance scheme where the attribute name is
different than that of the column.,.</p>
<a class="changelog-reference headerlink reference internal" href="#change-172b80261166fbfb39ffe45d8499afe2">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1930">#1930</a>, <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1931">#1931</a></p>
</p>
</li>
<li><p id="change-0.6.5-45"><span class="target" id="change-b0075b372f99003ca5b69e678f306150"><strong>[declarative]</strong> </span><p>A mixin can now specify a column that overrides
a column of the same name associated with a superclass.
Thanks to Oystein Haaland.</p>
<a class="changelog-reference headerlink reference internal" href="#change-b0075b372f99003ca5b69e678f306150">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6.5-46"><span class="target" id="change-0f3b40e14d1745651597a1a7c70f5ba3"><strong>[informix]</strong> </span><p><em>Major</em> cleanup / modernization of the Informix
dialect for 0.6, courtesy Florian Apolloner.</p>
<a class="changelog-reference headerlink reference internal" href="#change-0f3b40e14d1745651597a1a7c70f5ba3">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1906">#1906</a></p>
</p>
</li>
<li><p id="change-0.6.5-47"><span class="target" id="change-e6cb2547ce70b9a4f2dec84481578326"><strong>[tests]</strong> </span><p>the NoseSQLAlchemyPlugin has been moved to a
new package “sqlalchemy_nose” which installs
along with “sqlalchemy”.  This so that the “nosetests”
script works as always but also allows the
–with-coverage option to turn on coverage before
SQLAlchemy modules are imported, allowing coverage
to work correctly.</p>
<a class="changelog-reference headerlink reference internal" href="#change-e6cb2547ce70b9a4f2dec84481578326">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6.5-48"><span class="target" id="change-2643e47a8fea315fd31765418be4607e"><strong>[misc]</strong> </span><p>CircularDependencyError now has .cycles and .edges
members, which are the set of elements involved in
one or more cycles, and the set of edges as 2-tuples.</p>
<a class="changelog-reference headerlink reference internal" href="#change-2643e47a8fea315fd31765418be4607e">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1890">#1890</a></p>
</p>
</li>
</ul>
</div>
</div>
<div class="section" id="change-0.6.4">
<h2 class="release-version">0.6.4<a class="headerlink" href="#change-0.6.4" title="Permalink to this headline">¶</a></h2>
Released: Tue Sep 07 2010<div class="section" id="change-0.6.4-orm">
<h3>orm<a class="headerlink" href="#change-0.6.4-orm" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6.4-0"><span class="target" id="change-535033df965223821f740fe36bbc21c8"><strong>[orm]</strong> </span><p>The name ConcurrentModificationError has been
changed to StaleDataError, and descriptive
error messages have been revised to reflect
exactly what the issue is.   Both names will
remain available for the foreseeable future
for schemes that may be specifying
ConcurrentModificationError in an “except:”
clause.</p>
<a class="changelog-reference headerlink reference internal" href="#change-535033df965223821f740fe36bbc21c8">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6.4-1"><span class="target" id="change-c8ed6002ef9d50947734327801710649"><strong>[orm]</strong> </span><p>Added a mutex to the identity map which mutexes
remove operations against iteration methods,
which now pre-buffer before returning an
iterable.   This because asynchronous gc
can remove items via the gc thread at any time.</p>
<a class="changelog-reference headerlink reference internal" href="#change-c8ed6002ef9d50947734327801710649">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1891">#1891</a></p>
</p>
</li>
<li><p id="change-0.6.4-2"><span class="target" id="change-c30b33f0a0466c41b96742c2e74aad91"><strong>[orm]</strong> </span><p>The Session class is now present in sqlalchemy.orm.*.
We’re moving away from the usage of create_session(),
which has non-standard defaults, for those situations
where a one-step Session constructor is desired. Most
users should stick with sessionmaker() for general use,
however.</p>
<a class="changelog-reference headerlink reference internal" href="#change-c30b33f0a0466c41b96742c2e74aad91">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6.4-3"><span class="target" id="change-8dff7e6fded59f4fa37d00624eb71bed"><strong>[orm]</strong> </span><p>query.with_parent() now accepts transient objects
and will use the non-persistent values of their pk/fk
attributes in order to formulate the criterion.
Docs are also clarified as to the purpose of with_parent().</p>
<a class="changelog-reference headerlink reference internal" href="#change-8dff7e6fded59f4fa37d00624eb71bed">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6.4-4"><span class="target" id="change-2638d82e47303db82e79a9e5c1361b30"><strong>[orm]</strong> </span><p>The include_properties and exclude_properties arguments
to mapper() now accept Column objects as members in
addition to strings.  This so that same-named Column
objects, such as those within a join(), can be
disambiguated.</p>
<a class="changelog-reference headerlink reference internal" href="#change-2638d82e47303db82e79a9e5c1361b30">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6.4-5"><span class="target" id="change-96944473a095ce6dfc07cbc71640f1d9"><strong>[orm]</strong> </span><p>A warning is now emitted if a mapper is created against a
join or other single selectable that includes multiple
columns with the same name in its .c. collection,
and those columns aren’t explicitly named as part of
the same or separate attributes (or excluded).
In 0.7 this warning will be an exception.   Note that
this warning is not emitted when the combination occurs
as a result of inheritance, so that attributes
still allow being overridden naturally..  In 0.7 this will be improved further.</p>
<a class="changelog-reference headerlink reference internal" href="#change-96944473a095ce6dfc07cbc71640f1d9">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1896">#1896</a></p>
</p>
</li>
<li><p id="change-0.6.4-6"><span class="target" id="change-95c2749ceb65bb793c5d3667b070c596"><strong>[orm]</strong> </span><p>The primary_key argument to mapper() can now specify
a series of columns that are only a subset of
the calculated “primary key” columns of the mapped
selectable, without an error being raised.  This
helps for situations where a selectable’s effective
primary key is simpler than the number of columns
in the selectable that are actually marked as
“primary_key”, such as a join against two
tables on their primary key columns.</p>
<a class="changelog-reference headerlink reference internal" href="#change-95c2749ceb65bb793c5d3667b070c596">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1896">#1896</a></p>
</p>
</li>
<li><p id="change-0.6.4-7"><span class="target" id="change-fa24485df7e6bb87af279c1ebf82e0ec"><strong>[orm]</strong> </span><p>An object that’s been deleted now gets a flag
‘deleted’, which prohibits the object from
being re-add()ed to the session, as previously
the object would live in the identity map
silently until its attributes were accessed.
The make_transient() function now resets this
flag along with the “key” flag.</p>
<a class="changelog-reference headerlink reference internal" href="#change-fa24485df7e6bb87af279c1ebf82e0ec">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6.4-8"><span class="target" id="change-a8fc0dce447503a22a961b5cf7d20ae8"><strong>[orm]</strong> </span><p>make_transient() can be safely called on an
already transient instance.</p>
<a class="changelog-reference headerlink reference internal" href="#change-a8fc0dce447503a22a961b5cf7d20ae8">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6.4-9"><span class="target" id="change-6b78024db59658489dadbac75c893b54"><strong>[orm]</strong> </span><p>a warning is emitted in mapper() if the polymorphic_on
column is not present either in direct or derived
form in the mapped selectable or in the
with_polymorphic selectable, instead of silently
ignoring it.  Look for this to become an
exception in 0.7.</p>
<a class="changelog-reference headerlink reference internal" href="#change-6b78024db59658489dadbac75c893b54">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6.4-10"><span class="target" id="change-4714288dd0e270666ddd8fcd21827ebc"><strong>[orm]</strong> </span><p>Another pass through the series of error messages
emitted when relationship() is configured with
ambiguous arguments.   The “foreign_keys”
setting is no longer mentioned, as it is almost
never needed and it is preferable users set up
correct ForeignKey metadata, which is now the
recommendation.  If ‘foreign_keys’
is used and is incorrect, the message suggests
the attribute is probably unnecessary.  Docs
for the attribute are beefed up.  This
because all confused relationship() users on the
ML appear to be attempting to use foreign_keys
due to the message, which only confuses them
further since Table metadata is much clearer.</p>
<a class="changelog-reference headerlink reference internal" href="#change-4714288dd0e270666ddd8fcd21827ebc">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6.4-11"><span class="target" id="change-0c977ba4a7beb44f73ec46ff9a6699ac"><strong>[orm]</strong> </span><p>If the “secondary” table has no ForeignKey metadata
and no foreign_keys is set, even though the
user is passing screwed up information, it is assumed
that primary/secondaryjoin expressions should
consider only and all cols in “secondary” to be
foreign.  It’s not possible with “secondary” for
the foreign keys to be elsewhere in any case.
A warning is now emitted instead of an error,
and the mapping succeeds.</p>
<a class="changelog-reference headerlink reference internal" href="#change-0c977ba4a7beb44f73ec46ff9a6699ac">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1877">#1877</a></p>
</p>
</li>
<li><p id="change-0.6.4-12"><span class="target" id="change-9feca02adf52a0e5fcf4763b9b262443"><strong>[orm]</strong> </span><p>Moving an o2m object from one collection to
another, or vice versa changing the referenced
object by an m2o, where the foreign key is also a
member of the primary key, will now be more
carefully checked during flush if the change in
value of the foreign key on the “many” side is the
result of a change in the primary key of the “one”
side, or if the “one” is just a different object.
In one case, a cascade-capable DB would have
cascaded the value already and we need to look at
the “new” PK value to do an UPDATE, in the other we
need to continue looking at the “old”. We now look
at the “old”, assuming passive_updates=True,
unless we know it was a PK switch that
triggered the change.</p>
<a class="changelog-reference headerlink reference internal" href="#change-9feca02adf52a0e5fcf4763b9b262443">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1856">#1856</a></p>
</p>
</li>
<li><p id="change-0.6.4-13"><span class="target" id="change-7b40a0ed4bb3ad00531e5ece518709c2"><strong>[orm]</strong> </span><p>The value of version_id_col can be changed
manually, and this will result in an UPDATE
of the row.  Versioned UPDATEs and DELETEs
now use the “committed” value of the
version_id_col in the WHERE clause and
not the pending changed value. The
version generator is also bypassed if
manual changes are present on the attribute.</p>
<a class="changelog-reference headerlink reference internal" href="#change-7b40a0ed4bb3ad00531e5ece518709c2">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1857">#1857</a></p>
</p>
</li>
<li><p id="change-0.6.4-14"><span class="target" id="change-8665092a2dcfbeb8cfd12fb215aaa1e2"><strong>[orm]</strong> </span><p>Repaired the usage of merge() when used with
concrete inheriting mappers.  Such mappers frequently
have so-called “concrete” attributes, which are
subclass attributes that “disable” propagation from
the parent - these needed to allow a merge()
operation to pass through without effect.</p>
<a class="changelog-reference headerlink reference internal" href="#change-8665092a2dcfbeb8cfd12fb215aaa1e2">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6.4-15"><span class="target" id="change-4510836f41e7d0aacd0767c13db1d59b"><strong>[orm]</strong> </span><p>Specifying a non-column based argument
for column_mapped_collection, including string,
text() etc., will raise an error message that
specifically asks for a column element, no longer
misleads with incorrect information about
text() or literal().</p>
<a class="changelog-reference headerlink reference internal" href="#change-4510836f41e7d0aacd0767c13db1d59b">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1863">#1863</a></p>
</p>
</li>
<li><p id="change-0.6.4-16"><span class="target" id="change-671bef71f312d0040b6a4caf49decd77"><strong>[orm]</strong> </span><p>Similarly, for relationship(), foreign_keys,
remote_side, order_by - all column-based
expressions are enforced - lists of strings
are explicitly disallowed since this is a
very common error</p>
<a class="changelog-reference headerlink reference internal" href="#change-671bef71f312d0040b6a4caf49decd77">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6.4-17"><span class="target" id="change-ca14d6f9dcfb96b5f02b1a2ef13fa35d"><strong>[orm]</strong> </span><p>Dynamic attributes don’t support collection
population - added an assertion for when
set_committed_value() is called, as well as
when joinedload() or subqueryload() options
are applied to a dynamic attribute, instead
of failure / silent failure.</p>
<a class="changelog-reference headerlink reference internal" href="#change-ca14d6f9dcfb96b5f02b1a2ef13fa35d">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1864">#1864</a></p>
</p>
</li>
<li><p id="change-0.6.4-18"><span class="target" id="change-d81765c5426dca3b1ec2a2f05a542dbb"><strong>[orm]</strong> </span><p>Fixed bug whereby generating a Query derived
from one which had the same column repeated
with different label names, typically
in some UNION situations, would fail to
propagate the inner columns completely to
the outer query.</p>
<a class="changelog-reference headerlink reference internal" href="#change-d81765c5426dca3b1ec2a2f05a542dbb">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1852">#1852</a></p>
</p>
</li>
<li><p id="change-0.6.4-19"><span class="target" id="change-8519514b873baed592912155c0427a1e"><strong>[orm]</strong> </span><p>object_session() raises the proper
UnmappedInstanceError when presented with an
unmapped instance.</p>
<a class="changelog-reference headerlink reference internal" href="#change-8519514b873baed592912155c0427a1e">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1881">#1881</a></p>
</p>
</li>
<li><p id="change-0.6.4-20"><span class="target" id="change-e79a357376a117fe672113952bbe015b"><strong>[orm]</strong> </span><p>Applied further memoizations to calculated Mapper
properties, with significant (~90%) runtime mapper.py
call count reduction in heavily polymorphic mapping
configurations.</p>
<a class="changelog-reference headerlink reference internal" href="#change-e79a357376a117fe672113952bbe015b">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6.4-21"><span class="target" id="change-a71fab65be706a5c214db3ca5b3abbb9"><strong>[orm]</strong> </span><p>mapper _get_col_to_prop private method used
by the versioning example is deprecated;
now use mapper.get_property_by_column() which
will remain the public method for this.</p>
<a class="changelog-reference headerlink reference internal" href="#change-a71fab65be706a5c214db3ca5b3abbb9">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6.4-22"><span class="target" id="change-8d5f4593adc4160b12a49dcee66d174f"><strong>[orm]</strong> </span><p>the versioning example works correctly now
if versioning on a col that was formerly
NULL.</p>
<a class="changelog-reference headerlink reference internal" href="#change-8d5f4593adc4160b12a49dcee66d174f">¶</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.6.4-engine">
<h3>engine<a class="headerlink" href="#change-0.6.4-engine" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6.4-23"><span class="target" id="change-589479e3126e16088d4e863148a31849"><strong>[engine]</strong> </span><p>Calling fetchone() or similar on a result that
has already been exhausted, has been closed,
or is not a result-returning result now
raises ResourceClosedError, a subclass of
InvalidRequestError, in all cases, regardless
of backend.  Previously, some DBAPIs would
raise ProgrammingError (i.e. pysqlite), others
would return None leading to downstream breakages
(i.e. MySQL-python).</p>
<a class="changelog-reference headerlink reference internal" href="#change-589479e3126e16088d4e863148a31849">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6.4-24"><span class="target" id="change-0c3f6fab852e973ab1d2ba1c54362a92"><strong>[engine]</strong> </span><p>Fixed bug in Connection whereby if a “disconnect”
event occurred in the “initialize” phase of the
first connection pool connect, an AttributeError
would be raised when the Connection would attempt
to invalidate the DBAPI connection.</p>
<a class="changelog-reference headerlink reference internal" href="#change-0c3f6fab852e973ab1d2ba1c54362a92">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1894">#1894</a></p>
</p>
</li>
<li><p id="change-0.6.4-25"><span class="target" id="change-ab05177ef559d382cd656f5e04d11148"><strong>[engine]</strong> </span><p>Connection, ResultProxy, as well as Session use
ResourceClosedError for all “this
connection/transaction/result is closed” types of
errors.</p>
<a class="changelog-reference headerlink reference internal" href="#change-ab05177ef559d382cd656f5e04d11148">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6.4-26"><span class="target" id="change-d4066423ccfa075735e1ebf61f2cbc24"><strong>[engine]</strong> </span><p>Connection.invalidate() can be called more than
once and subsequent calls do nothing.</p>
<a class="changelog-reference headerlink reference internal" href="#change-d4066423ccfa075735e1ebf61f2cbc24">¶</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.6.4-sql">
<h3>sql<a class="headerlink" href="#change-0.6.4-sql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6.4-27"><span class="target" id="change-480b20f80312b137c4a7324b0d657a63"><strong>[sql]</strong> </span><p>Calling execute() on an alias() construct is pending
deprecation for 0.7, as it is not itself an
“executable” construct. It currently “proxies” its
inner element and is conditionally “executable” but
this is not the kind of ambiguity we like these days.</p>
<a class="changelog-reference headerlink reference internal" href="#change-480b20f80312b137c4a7324b0d657a63">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6.4-28"><span class="target" id="change-eb5f51e1a650e79182bb020de761924f"><strong>[sql]</strong> </span><p>The execute() and scalar() methods of ClauseElement
are now moved appropriately to the Executable
subclass. ClauseElement.execute()/ scalar() are still
present and are pending deprecation in 0.7, but note
these would always raise an error anyway if you were
not an Executable (unless you were an alias(), see
previous note).</p>
<a class="changelog-reference headerlink reference internal" href="#change-eb5f51e1a650e79182bb020de761924f">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6.4-29"><span class="target" id="change-95e0aca2331a7b95d533d515094ccb13"><strong>[sql]</strong> </span><p>Added basic math expression coercion for
Numeric-&gt;Integer,
so that resulting type is Numeric regardless
of the direction of the expression.</p>
<a class="changelog-reference headerlink reference internal" href="#change-95e0aca2331a7b95d533d515094ccb13">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6.4-30"><span class="target" id="change-a584b4c246f0f778263d5dc8e66808ad"><strong>[sql]</strong> </span><p>Changed the scheme used to generate truncated
“auto” index names when using the “index=True”
flag on Column.   The truncation only takes
place with the auto-generated name, not one
that is user-defined (an error would be
raised instead), and the truncation scheme
itself is now based on a fragment of an md5
hash of the identifier name, so that multiple
indexes on columns with similar names still
have unique names.</p>
<a class="changelog-reference headerlink reference internal" href="#change-a584b4c246f0f778263d5dc8e66808ad">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1855">#1855</a></p>
</p>
</li>
<li><p id="change-0.6.4-31"><span class="target" id="change-cdd20195fab17091c475b43262749a74"><strong>[sql]</strong> </span><p>The generated index name also is based on
a “max index name length” attribute which is
separate from the “max identifier length” -
this to appease MySQL who has a max length
of 64 for index names, separate from their
overall max length of 255.</p>
<a class="changelog-reference headerlink reference internal" href="#change-cdd20195fab17091c475b43262749a74">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1412">#1412</a></p>
</p>
</li>
<li><p id="change-0.6.4-32"><span class="target" id="change-e0733f3fbe5188168ab9fc6dd0040998"><strong>[sql]</strong> </span><p>the text() construct, if placed in a column
oriented situation, will at least return NULLTYPE
for its type instead of None, allowing it to
be used a little more freely for ad-hoc column
expressions than before.   literal_column()
is still the better choice, however.</p>
<a class="changelog-reference headerlink reference internal" href="#change-e0733f3fbe5188168ab9fc6dd0040998">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6.4-33"><span class="target" id="change-be54ec2b3e2eb3de741a48665fe37d51"><strong>[sql]</strong> </span><p>Added full description of parent table/column,
target table/column in error message raised when
ForeignKey can’t resolve target.</p>
<a class="changelog-reference headerlink reference internal" href="#change-be54ec2b3e2eb3de741a48665fe37d51">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6.4-34"><span class="target" id="change-95d89e7a08c42c04836f4ec67f236a9f"><strong>[sql]</strong> </span><p>Fixed bug whereby replacing composite foreign key
columns in a reflected table would cause an attempt
to remove the reflected constraint from the table
a second time, raising a KeyError.</p>
<a class="changelog-reference headerlink reference internal" href="#change-95d89e7a08c42c04836f4ec67f236a9f">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1865">#1865</a></p>
</p>
</li>
<li><p id="change-0.6.4-35"><span class="target" id="change-0a8949e6824cfb04db55beb3e85e4aed"><strong>[sql]</strong> </span><p>the _Label construct, i.e. the one that is produced
whenever you say somecol.label(), now counts itself
in its “proxy_set” unioned with that of its
contained column’s proxy set, instead of
directly returning that of the contained column.
This allows column correspondence
operations which depend on the identity of the
_Labels themselves to return the correct result</p>
<a class="changelog-reference headerlink reference internal" href="#change-0a8949e6824cfb04db55beb3e85e4aed">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6.4-36"><span class="target" id="change-babee0cfb69d9dbe635ee89deaa616d3"><strong>[sql]</strong> </span><p>fixes ORM bug.</p>
<a class="changelog-reference headerlink reference internal" href="#change-babee0cfb69d9dbe635ee89deaa616d3">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1852">#1852</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.6.4-postgresql">
<h3>postgresql<a class="headerlink" href="#change-0.6.4-postgresql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6.4-37"><span class="target" id="change-f20cfbd769e0d3362affb83971075073"><strong>[postgresql]</strong> </span><p>Fixed the psycopg2 dialect to use its
set_isolation_level() method instead of relying
upon the base “SET SESSION ISOLATION” command,
as psycopg2 resets the isolation level on each new
transaction otherwise.</p>
<a class="changelog-reference headerlink reference internal" href="#change-f20cfbd769e0d3362affb83971075073">¶</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.6.4-mssql">
<h3>mssql<a class="headerlink" href="#change-0.6.4-mssql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6.4-38"><span class="target" id="change-653ce1cee9e040e6cd9de66cc99d034d"><strong>[mssql]</strong> </span><p>Fixed “default schema” query to work with
pymssql backend.</p>
<a class="changelog-reference headerlink reference internal" href="#change-653ce1cee9e040e6cd9de66cc99d034d">¶</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.6.4-oracle">
<h3>oracle<a class="headerlink" href="#change-0.6.4-oracle" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6.4-39"><span class="target" id="change-c4096e037bacbf97eddd92b0034f98ca"><strong>[oracle]</strong> </span><p>Added ROWID type to the Oracle dialect, for those
cases where an explicit CAST might be needed.</p>
<a class="changelog-reference headerlink reference internal" href="#change-c4096e037bacbf97eddd92b0034f98ca">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1879">#1879</a></p>
</p>
</li>
<li><p id="change-0.6.4-40"><span class="target" id="change-0c48f10bbe06c8a4b97b10e3f86708d7"><strong>[oracle]</strong> </span><p>Oracle reflection of indexes has been tuned so
that indexes which include some or all primary
key columns, but not the same set of columns
as that of the primary key, are reflected.
Indexes which contain the identical columns
as that of the primary key are skipped within
reflection, as the index in that case is assumed
to be the auto-generated primary key index.
Previously, any index with PK columns present
would be skipped.  Thanks to Kent Bower
for the patch.</p>
<a class="changelog-reference headerlink reference internal" href="#change-0c48f10bbe06c8a4b97b10e3f86708d7">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1867">#1867</a></p>
</p>
</li>
<li><p id="change-0.6.4-41"><span class="target" id="change-ee4487a1aebbf952cb6ceaac4cb47cc8"><strong>[oracle]</strong> </span><p>Oracle now reflects the names of primary key
constraints - also thanks to Kent Bower.</p>
<a class="changelog-reference headerlink reference internal" href="#change-ee4487a1aebbf952cb6ceaac4cb47cc8">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1868">#1868</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.6.4-firebird">
<h3>firebird<a class="headerlink" href="#change-0.6.4-firebird" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6.4-42"><span class="target" id="change-92ab44e94581b35f750bf10f4e470570"><strong>[firebird]</strong> </span><p>Fixed bug whereby a column default would fail to
reflect if the “default” keyword were lower case.</p>
<a class="changelog-reference headerlink reference internal" href="#change-92ab44e94581b35f750bf10f4e470570">¶</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.6.4-misc">
<h3>misc<a class="headerlink" href="#change-0.6.4-misc" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6.4-43"><span class="target" id="change-d4f2d73f8008d60634e100a68c13d398"><strong>[declarative]</strong> </span><p>if &#64;classproperty is used with a regular class-bound
mapper property attribute, it will be called to get the
actual attribute value during initialization. Currently,
there’s no advantage to using &#64;classproperty on a column
or relationship attribute of a declarative class that
isn’t a mixin - evaluation is at the same time as if
&#64;classproperty weren’t used. But here we at least allow
it to function as expected.</p>
<a class="changelog-reference headerlink reference internal" href="#change-d4f2d73f8008d60634e100a68c13d398">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6.4-44"><span class="target" id="change-868509e7b789f5e8a014c772349e3eb7"><strong>[declarative]</strong> </span><p>Fixed bug where “Can’t add additional column” message
would display the wrong name.</p>
<a class="changelog-reference headerlink reference internal" href="#change-868509e7b789f5e8a014c772349e3eb7">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6.4-45"><span class="target" id="change-431a87a1564f158a2d2ac1b341792ad1"><strong>[informix]</strong> </span><p>Applied patches from to get
basic Informix functionality up again.  We
rely upon end-user testing to ensure that
Informix is working to some degree.</p>
<a class="changelog-reference headerlink reference internal" href="#change-431a87a1564f158a2d2ac1b341792ad1">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1904">#1904</a></p>
</p>
</li>
<li><p id="change-0.6.4-46"><span class="target" id="change-d47912608c4830253d4f01066a3062bb"><strong>[documentation]</strong> </span><p>The docs have been reorganized such that the “API
Reference” section is gone - all the docstrings from
there which were public API are moved into the
context of the main doc section that talks about it.
Main docs divided into “SQLAlchemy Core” and
“SQLAlchemy ORM” sections, mapper/relationship docs
have been broken out. Lots of sections rewritten
and/or reorganized.</p>
<a class="changelog-reference headerlink reference internal" href="#change-d47912608c4830253d4f01066a3062bb">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6.4-47"><span class="target" id="change-781cd432413e70f6da98e3dd05fda2be"><strong>[examples]</strong> </span><p>The beaker_caching example has been reorganized
such that the Session, cache manager,
declarative_base are part of environment, and
custom cache code is portable and now within
“caching_query.py”.  This allows the example to
be easier to “drop in” to existing projects.</p>
<a class="changelog-reference headerlink reference internal" href="#change-781cd432413e70f6da98e3dd05fda2be">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6.4-48"><span class="target" id="change-723cdb6f299e5eb37115fdceb06a6607"><strong>[examples]</strong> </span><p>the history_meta versioning recipe sets “unique=False”
when copying columns, so that the versioning
table handles multiple rows with repeating values.</p>
<a class="changelog-reference headerlink reference internal" href="#change-723cdb6f299e5eb37115fdceb06a6607">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1887">#1887</a></p>
</p>
</li>
</ul>
</div>
</div>
<div class="section" id="change-0.6.3">
<h2 class="release-version">0.6.3<a class="headerlink" href="#change-0.6.3" title="Permalink to this headline">¶</a></h2>
Released: Thu Jul 15 2010<div class="section" id="change-0.6.3-orm">
<h3>orm<a class="headerlink" href="#change-0.6.3-orm" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6.3-0"><span class="target" id="change-4e1bf9516dda613ab1a572293546c083"><strong>[orm]</strong> </span><p>Removed errant many-to-many load in unitofwork
which triggered unnecessarily on expired/unloaded
collections. This load now takes place only if
passive_updates is False and the parent primary
key has changed, or if passive_deletes is False
and a delete of the parent has occurred.</p>
<a class="changelog-reference headerlink reference internal" href="#change-4e1bf9516dda613ab1a572293546c083">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1845">#1845</a></p>
</p>
</li>
<li><p id="change-0.6.3-1"><span class="target" id="change-e9a54d540af9838dfb180c80efdf1e83"><strong>[orm]</strong> </span><p>Column-entities (i.e. query(Foo.id)) copy their
state more fully when queries are derived from
themselves + a selectable (i.e. from_self(),
union(), etc.), so that join() and such have the
correct state to work from.</p>
<a class="changelog-reference headerlink reference internal" href="#change-e9a54d540af9838dfb180c80efdf1e83">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1853">#1853</a></p>
</p>
</li>
<li><p id="change-0.6.3-2"><span class="target" id="change-fb73bd1dbda53a059f9cdc6d0d8ccf45"><strong>[orm]</strong> </span><p>Fixed bug where Query.join() would fail if
querying a non-ORM column then joining without
an on clause when a FROM clause is already
present, now raises a checked exception the
same way it does when the clause is not
present.</p>
<a class="changelog-reference headerlink reference internal" href="#change-fb73bd1dbda53a059f9cdc6d0d8ccf45">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1853">#1853</a></p>
</p>
</li>
<li><p id="change-0.6.3-3"><span class="target" id="change-03a152a294855452e7463fb4ac21ffd6"><strong>[orm]</strong> </span><p>Improved the check for an “unmapped class”,
including the case where the superclass is mapped
but the subclass is not.  Any attempts to access
cls._sa_class_manager.mapper now raise
UnmappedClassError().</p>
<a class="changelog-reference headerlink reference internal" href="#change-03a152a294855452e7463fb4ac21ffd6">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1142">#1142</a></p>
</p>
</li>
<li><p id="change-0.6.3-4"><span class="target" id="change-f9299feaa7fe289b5bdc8377a2dcdb09"><strong>[orm]</strong> </span><p>Added “column_descriptions” accessor to Query,
returns a list of dictionaries containing
naming/typing information about the entities
the Query will return.  Can be helpful for
building GUIs on top of ORM queries.</p>
<a class="changelog-reference headerlink reference internal" href="#change-f9299feaa7fe289b5bdc8377a2dcdb09">¶</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.6.3-mysql">
<h3>mysql<a class="headerlink" href="#change-0.6.3-mysql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6.3-5"><span class="target" id="change-40d3531e4ce4a40c3c74e0f48699dccc"><strong>[mysql]</strong> </span><p>The _extract_error_code() method now works
correctly with each MySQL dialect (
MySQL-python, OurSQL, MySQL-Connector-Python,
PyODBC).  Previously,
the reconnect logic would fail for OperationalError
conditions, however since MySQLdb and OurSQL
have their own reconnect feature, there was no
symptom for these drivers here unless one
watched the logs.</p>
<a class="changelog-reference headerlink reference internal" href="#change-40d3531e4ce4a40c3c74e0f48699dccc">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1848">#1848</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.6.3-oracle">
<h3>oracle<a class="headerlink" href="#change-0.6.3-oracle" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6.3-6"><span class="target" id="change-41dfa08c3915f42b47619e4e28ee162f"><strong>[oracle]</strong> </span><p>More tweaks to cx_oracle Decimal handling.
“Ambiguous” numerics with no decimal place
are coerced to int at the connection handler
level.  The advantage here is that ints
come back as ints without SQLA type
objects being involved and without needless
conversion to Decimal first.</p>
<p>Unfortunately, some exotic subquery cases
can even see different types between
individual result rows, so the Numeric
handler, when instructed to return Decimal,
can’t take full advantage of “native decimal”
mode and must run isinstance() on every value
to check if its Decimal already. Reopen of</p>
<a class="changelog-reference headerlink reference internal" href="#change-41dfa08c3915f42b47619e4e28ee162f">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1840">#1840</a></p>
</p>
</li>
</ul>
</div>
</div>
<div class="section" id="change-0.6.2">
<h2 class="release-version">0.6.2<a class="headerlink" href="#change-0.6.2" title="Permalink to this headline">¶</a></h2>
Released: Tue Jul 06 2010<div class="section" id="change-0.6.2-orm">
<h3>orm<a class="headerlink" href="#change-0.6.2-orm" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6.2-0"><span class="target" id="change-edf1e1a95a7fcdc97aa5ad0561516766"><strong>[orm]</strong> </span><p>Query.join() will check for a call of the
form query.join(target, clause_expression),
i.e. missing the tuple, and raise an informative
error message that this is the wrong calling form.</p>
<a class="changelog-reference headerlink reference internal" href="#change-edf1e1a95a7fcdc97aa5ad0561516766">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6.2-1"><span class="target" id="change-d632a942ba2390aa0d69b7b8d3db7726"><strong>[orm]</strong> </span><p>Fixed bug regarding flushes on self-referential
bi-directional many-to-many relationships, where
two objects made to mutually reference each other
in one flush would fail to insert a row for both
sides.  Regression from 0.5.</p>
<a class="changelog-reference headerlink reference internal" href="#change-d632a942ba2390aa0d69b7b8d3db7726">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1824">#1824</a></p>
</p>
</li>
<li><p id="change-0.6.2-2"><span class="target" id="change-38b01fe13c4a4ea626916c8378f614d5"><strong>[orm]</strong> </span><p>the post_update feature of relationship() has been
reworked architecturally to integrate more closely
with the new 0.6 unit of work.  The motivation
for the change is so that multiple “post update”
calls, each affecting different foreign key
columns of the same row, are executed in a single
UPDATE statement, rather than one UPDATE
statement per column per row.   Multiple row
updates are also batched into executemany()s as
possible, while maintaining consistent row ordering.</p>
<a class="changelog-reference headerlink reference internal" href="#change-38b01fe13c4a4ea626916c8378f614d5">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6.2-3"><span class="target" id="change-ec68a36d898ae8d2624447dffe1f74b3"><strong>[orm]</strong> </span><p>Query.statement, Query.subquery(), etc. now transfer
the values of bind parameters, i.e. those specified
by query.params(), into the resulting SQL expression.
Previously the values would not be transferred
and bind parameters would come out as None.</p>
<a class="changelog-reference headerlink reference internal" href="#change-ec68a36d898ae8d2624447dffe1f74b3">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6.2-4"><span class="target" id="change-8e80dd442877d5cc6d55d1eb9f2e27ce"><strong>[orm]</strong> </span><p>Subquery-eager-loading now works with Query objects
which include params(), as well as get() Queries.</p>
<a class="changelog-reference headerlink reference internal" href="#change-8e80dd442877d5cc6d55d1eb9f2e27ce">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6.2-5"><span class="target" id="change-89c7ce031cec5770d7feff6d59f82173"><strong>[orm]</strong> </span><p>Can now call make_transient() on an instance that
is referenced by parent objects via many-to-one,
without the parent’s foreign key value getting
temporarily set to None - this was a function
of the “detect primary key switch” flush handler.
It now ignores objects that are no longer
in the “persistent” state, and the parent’s
foreign key identifier is left unaffected.</p>
<a class="changelog-reference headerlink reference internal" href="#change-89c7ce031cec5770d7feff6d59f82173">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6.2-6"><span class="target" id="change-02c64ac9aea77a533f8caaee63e2dd2e"><strong>[orm]</strong> </span><p>query.order_by() now accepts False, which cancels
any existing order_by() state on the Query, allowing
subsequent generative methods to be called which do
not support ORDER BY.  This is not the same as the
already existing feature of passing None, which
suppresses any existing order_by() settings, including
those configured on the mapper.  False will make it
as though order_by() was never called, while
None is an active setting.</p>
<a class="changelog-reference headerlink reference internal" href="#change-02c64ac9aea77a533f8caaee63e2dd2e">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6.2-7"><span class="target" id="change-fc22e992cca054293cfca434a70f8339"><strong>[orm]</strong> </span><p>An instance which is moved to “transient”, has
an incomplete or missing set of primary key
attributes, and contains expired attributes, will
raise an InvalidRequestError if an expired attribute
is accessed, instead of getting a recursion overflow.</p>
<a class="changelog-reference headerlink reference internal" href="#change-fc22e992cca054293cfca434a70f8339">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6.2-8"><span class="target" id="change-f2c43f7ce40d71c11c2f7faf46d66f4a"><strong>[orm]</strong> </span><p>The make_transient() function is now in the generated
documentation.</p>
<a class="changelog-reference headerlink reference internal" href="#change-f2c43f7ce40d71c11c2f7faf46d66f4a">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6.2-9"><span class="target" id="change-9cb3e05a83cf387929738297b264ccf9"><strong>[orm]</strong> </span><p>make_transient() removes all “loader” callables from
the state being made transient, removing any
“expired” state - all unloaded attributes reset back
to undefined, None/empty on access.</p>
<a class="changelog-reference headerlink reference internal" href="#change-9cb3e05a83cf387929738297b264ccf9">¶</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.6.2-sql">
<h3>sql<a class="headerlink" href="#change-0.6.2-sql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6.2-10"><span class="target" id="change-92eb958a7927c4e9caecec020272c06f"><strong>[sql]</strong> </span><p>The warning emitted by the Unicode and String types
with convert_unicode=True no longer embeds the actual
value passed.   This so that the Python warning
registry does not continue to grow in size, the warning
is emitted once as per the warning filter settings,
and large string values don’t pollute the output.</p>
<a class="changelog-reference headerlink reference internal" href="#change-92eb958a7927c4e9caecec020272c06f">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1822">#1822</a></p>
</p>
</li>
<li><p id="change-0.6.2-11"><span class="target" id="change-7ac2b12e9e86167b88a0806d4cbbe9fb"><strong>[sql]</strong> </span><p>Fixed bug that would prevent overridden clause
compilation from working for “annotated” expression
elements, which are often generated by the ORM.</p>
<a class="changelog-reference headerlink reference internal" href="#change-7ac2b12e9e86167b88a0806d4cbbe9fb">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6.2-12"><span class="target" id="change-5e141a144264b09de7321f5569bcd21d"><strong>[sql]</strong> </span><p>The argument to “ESCAPE” of a LIKE operator or similar
is passed through render_literal_value(), which may
implement escaping of backslashes.</p>
<a class="changelog-reference headerlink reference internal" href="#change-5e141a144264b09de7321f5569bcd21d">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1400">#1400</a></p>
</p>
</li>
<li><p id="change-0.6.2-13"><span class="target" id="change-854fbd022574e164314a3322bae40806"><strong>[sql]</strong> </span><p>Fixed bug in Enum type which blew away native_enum
flag when used with TypeDecorators or other adaption
scenarios.</p>
<a class="changelog-reference headerlink reference internal" href="#change-854fbd022574e164314a3322bae40806">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6.2-14"><span class="target" id="change-da5d7dd83b9b8e3fa3dfc3c698adee89"><strong>[sql]</strong> </span><p>Inspector hits bind.connect() when invoked to ensure
initialize has been called.  the internal name “.conn”
is changed to “.bind”, since that’s what it is.</p>
<a class="changelog-reference headerlink reference internal" href="#change-da5d7dd83b9b8e3fa3dfc3c698adee89">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6.2-15"><span class="target" id="change-7031856f1234d33d0ce85911ecb27356"><strong>[sql]</strong> </span><p>Modified the internals of “column annotation” such that
a custom Column subclass can safely override
_constructor to return Column, for the purposes of
making “configurational” column classes that aren’t
involved in proxying, etc.</p>
<a class="changelog-reference headerlink reference internal" href="#change-7031856f1234d33d0ce85911ecb27356">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6.2-16"><span class="target" id="change-10d73e5cbbe7209624f8a76e237438c6"><strong>[sql]</strong> </span><p>Column.copy() takes along the “unique” attribute
among others, fixes regarding declarative
mixins</p>
<a class="changelog-reference headerlink reference internal" href="#change-10d73e5cbbe7209624f8a76e237438c6">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1829">#1829</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.6.2-postgresql">
<h3>postgresql<a class="headerlink" href="#change-0.6.2-postgresql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6.2-17"><span class="target" id="change-a99b1c9cecc1e928c742b45ef8f90cc3"><strong>[postgresql]</strong> </span><p>render_literal_value() is overridden which escapes
backslashes, currently applies to the ESCAPE clause
of LIKE and similar expressions.
Ultimately this will have to detect the value of
“standard_conforming_strings” for full behavior.</p>
<a class="changelog-reference headerlink reference internal" href="#change-a99b1c9cecc1e928c742b45ef8f90cc3">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1400">#1400</a></p>
</p>
</li>
<li><p id="change-0.6.2-18"><span class="target" id="change-48af7b36fa4c3f12a67261b2f80d7865"><strong>[postgresql]</strong> </span><p>Won’t generate “CREATE TYPE” / “DROP TYPE” if
using types.Enum on a PG version prior to 8.3 -
the supports_native_enum flag is fully
honored.</p>
<a class="changelog-reference headerlink reference internal" href="#change-48af7b36fa4c3f12a67261b2f80d7865">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1836">#1836</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.6.2-mysql">
<h3>mysql<a class="headerlink" href="#change-0.6.2-mysql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6.2-19"><span class="target" id="change-91f3d4d5f1ca37036afc83b8e87c588c"><strong>[mysql]</strong> </span><p>MySQL dialect doesn’t emit CAST() for MySQL version
detected &lt; 4.0.2.  This allows the unicode
check on connect to proceed.</p>
<a class="changelog-reference headerlink reference internal" href="#change-91f3d4d5f1ca37036afc83b8e87c588c">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1826">#1826</a></p>
</p>
</li>
<li><p id="change-0.6.2-20"><span class="target" id="change-5984734c58273d70156013fa76eb8074"><strong>[mysql]</strong> </span><p>MySQL dialect now detects NO_BACKSLASH_ESCAPES sql
mode, in addition to ANSI_QUOTES.</p>
<a class="changelog-reference headerlink reference internal" href="#change-5984734c58273d70156013fa76eb8074">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6.2-21"><span class="target" id="change-a99b1c9cecc1e928c742b45ef8f90cc3"><strong>[mysql]</strong> </span><p>render_literal_value() is overridden which escapes
backslashes, currently applies to the ESCAPE clause
of LIKE and similar expressions.   This behavior
is derived from detecting the value of
NO_BACKSLASH_ESCAPES.</p>
<a class="changelog-reference headerlink reference internal" href="#change-a99b1c9cecc1e928c742b45ef8f90cc3">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1400">#1400</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.6.2-mssql">
<h3>mssql<a class="headerlink" href="#change-0.6.2-mssql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6.2-22"><span class="target" id="change-0e401708966cccc9a7cc010adc04da9a"><strong>[mssql]</strong> </span><p>If server_version_info is outside the usual
range of (8, ), (9, ), (10, ), a warning is emitted
which suggests checking that the FreeTDS version
configuration is using 7.0 or 8.0, not 4.2.</p>
<a class="changelog-reference headerlink reference internal" href="#change-0e401708966cccc9a7cc010adc04da9a">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1825">#1825</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.6.2-oracle">
<h3>oracle<a class="headerlink" href="#change-0.6.2-oracle" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6.2-23"><span class="target" id="change-8d37a789557837ae28f36a0368b2b8a3"><strong>[oracle]</strong> </span><p>Fixed ora-8 compatibility flags such that they
don’t cache a stale value from before the first
database connection actually occurs.</p>
<a class="changelog-reference headerlink reference internal" href="#change-8d37a789557837ae28f36a0368b2b8a3">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1819">#1819</a></p>
</p>
</li>
<li><p id="change-0.6.2-24"><span class="target" id="change-7cd2a1495d29a7ea446ff63e34a7e290"><strong>[oracle]</strong> </span><p>Oracle’s “native decimal” metadata begins to return
ambiguous typing information about numerics
when columns are embedded in subqueries as well
as when ROWNUM is consulted with subqueries, as we
do for limit/offset.  We’ve added these ambiguous
conditions to the cx_oracle “convert to Decimal()”
handler, so that we receive numerics as Decimal
in more cases instead of as floats.  These are
then converted, if requested, into Integer
or Float, or otherwise kept as the lossless
Decimal.</p>
<a class="changelog-reference headerlink reference internal" href="#change-7cd2a1495d29a7ea446ff63e34a7e290">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1840">#1840</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.6.2-firebird">
<h3>firebird<a class="headerlink" href="#change-0.6.2-firebird" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6.2-25"><span class="target" id="change-8020c6a07179eb3773cff83bf7e318ac"><strong>[firebird]</strong> </span><p>Fixed incorrect signature in do_execute(), error
introduced in 0.6.1.</p>
<a class="changelog-reference headerlink reference internal" href="#change-8020c6a07179eb3773cff83bf7e318ac">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1823">#1823</a></p>
</p>
</li>
<li><p id="change-0.6.2-26"><span class="target" id="change-911be84370c3f1ad4939567277f70d73"><strong>[firebird]</strong> </span><p>Firebird dialect adds CHAR, VARCHAR types which
accept a “charset” flag, to support Firebird
“CHARACTER SET” clause.</p>
<a class="changelog-reference headerlink reference internal" href="#change-911be84370c3f1ad4939567277f70d73">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1813">#1813</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.6.2-misc">
<h3>misc<a class="headerlink" href="#change-0.6.2-misc" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6.2-27"><span class="target" id="change-586d7016a7038e911f333b3d048f0c80"><strong>[declarative]</strong> </span><p>Added support for &#64;classproperty to provide
any kind of schema/mapping construct from a
declarative mixin, including columns with foreign
keys, relationships, column_property, deferred.
This solves all such issues on declarative mixins.
An error is raised if any MapperProperty subclass
is specified on a mixin without using &#64;classproperty.</p>
<a class="changelog-reference headerlink reference internal" href="#change-586d7016a7038e911f333b3d048f0c80">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1751">#1751</a>, <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1796">#1796</a>, <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1805">#1805</a></p>
</p>
</li>
<li><p id="change-0.6.2-28"><span class="target" id="change-f1e04d8a9d224260a51570d93bc2bf4b"><strong>[declarative]</strong> </span><p>a mixin class can now define a column that matches
one which is present on a __table__ defined on a
subclass.  It cannot, however, define one that is
not present in the __table__, and the error message
here now works.</p>
<a class="changelog-reference headerlink reference internal" href="#change-f1e04d8a9d224260a51570d93bc2bf4b">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1821">#1821</a></p>
</p>
</li>
<li><p id="change-0.6.2-29"><span class="target" id="change-af1b71d292a858ea4df75271507ce565"><strong>[compiler] [extension]</strong> </span><p>The ‘default’ compiler is automatically copied over
when overriding the compilation of a built in
clause construct, so no KeyError is raised if the
user-defined compiler is specific to certain
backends and compilation for a different backend
is invoked.</p>
<a class="changelog-reference headerlink reference internal" href="#change-af1b71d292a858ea4df75271507ce565">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1838">#1838</a></p>
</p>
</li>
<li><p id="change-0.6.2-30"><span class="target" id="change-848469658bfe0128fab72a42bba6e792"><strong>[documentation]</strong> </span><p>Added documentation for the Inspector.</p>
<a class="changelog-reference headerlink reference internal" href="#change-848469658bfe0128fab72a42bba6e792">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1820">#1820</a></p>
</p>
</li>
<li><p id="change-0.6.2-31"><span class="target" id="change-4e33e10eba62ee01d6af5ccb29637f33"><strong>[documentation]</strong> </span><p>Fixed &#64;memoized_property and &#64;memoized_instancemethod
decorators so that Sphinx documentation picks up
these attributes and methods, such as
ResultProxy.inserted_primary_key.</p>
<a class="changelog-reference headerlink reference internal" href="#change-4e33e10eba62ee01d6af5ccb29637f33">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1830">#1830</a></p>
</p>
</li>
</ul>
</div>
</div>
<div class="section" id="change-0.6.1">
<h2 class="release-version">0.6.1<a class="headerlink" href="#change-0.6.1" title="Permalink to this headline">¶</a></h2>
Released: Mon May 31 2010<div class="section" id="change-0.6.1-orm">
<h3>orm<a class="headerlink" href="#change-0.6.1-orm" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6.1-0"><span class="target" id="change-3ad0634282071d683ecb076a3c1171ba"><strong>[orm]</strong> </span><p>Fixed regression introduced in 0.6.0 involving improper
history accounting on mutable attributes.</p>
<a class="changelog-reference headerlink reference internal" href="#change-3ad0634282071d683ecb076a3c1171ba">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1782">#1782</a></p>
</p>
</li>
<li><p id="change-0.6.1-1"><span class="target" id="change-f27d049a3ba382d9d975d84ab7db1040"><strong>[orm]</strong> </span><p>Fixed regression introduced in 0.6.0 unit of work refactor
that broke updates for bi-directional relationship()
with post_update=True.</p>
<a class="changelog-reference headerlink reference internal" href="#change-f27d049a3ba382d9d975d84ab7db1040">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1807">#1807</a></p>
</p>
</li>
<li><p id="change-0.6.1-2"><span class="target" id="change-a5d06f591c00a5eb1caf7412dbddb887"><strong>[orm]</strong> </span><p>session.merge() will not expire attributes on the returned
instance if that instance is “pending”.</p>
<a class="changelog-reference headerlink reference internal" href="#change-a5d06f591c00a5eb1caf7412dbddb887">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1789">#1789</a></p>
</p>
</li>
<li><p id="change-0.6.1-3"><span class="target" id="change-b9cf399b6f68b033fd9ea792f88bd39b"><strong>[orm]</strong> </span><p>fixed __setstate__ method of CollectionAdapter to not
fail during deserialize where parent InstanceState not
yet unserialized.</p>
<a class="changelog-reference headerlink reference internal" href="#change-b9cf399b6f68b033fd9ea792f88bd39b">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1802">#1802</a></p>
</p>
</li>
<li><p id="change-0.6.1-4"><span class="target" id="change-284309c7b5f31be13e7f4fa173f0d4e6"><strong>[orm]</strong> </span><p>Added internal warning in case an instance without a
full PK happened to be expired and then was asked
to refresh.</p>
<a class="changelog-reference headerlink reference internal" href="#change-284309c7b5f31be13e7f4fa173f0d4e6">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1797">#1797</a></p>
</p>
</li>
<li><p id="change-0.6.1-5"><span class="target" id="change-9092dd0fbb06e94417193ea80605814f"><strong>[orm]</strong> </span><p>Added more aggressive caching to the mapper’s usage of
UPDATE, INSERT, and DELETE expressions.  Assuming the
statement has no per-object SQL expressions attached,
the expression objects are cached by the mapper after
the first create, and their compiled form is stored
persistently in a cache dictionary for the duration of
the related Engine.  The cache is an LRUCache for the
rare case that a mapper receives an extremely
high number of different column patterns as UPDATEs.</p>
<a class="changelog-reference headerlink reference internal" href="#change-9092dd0fbb06e94417193ea80605814f">¶</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.6.1-sql">
<h3>sql<a class="headerlink" href="#change-0.6.1-sql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6.1-6"><span class="target" id="change-b08316c6ff8d2199ee21227c71237c3c"><strong>[sql]</strong> </span><p>expr.in_() now accepts a text() construct as the argument.
Grouping parenthesis are added automatically, i.e. usage
is like <cite>col.in_(text(“select id from table”))</cite>.</p>
<a class="changelog-reference headerlink reference internal" href="#change-b08316c6ff8d2199ee21227c71237c3c">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1793">#1793</a></p>
</p>
</li>
<li><p id="change-0.6.1-7"><span class="target" id="change-72ff9fd4e95f73a9fac5793d46ee1989"><strong>[sql]</strong> </span><p>Columns of _Binary type (i.e. LargeBinary, BLOB, etc.)
will coerce a “basestring” on the right side into a
_Binary as well so that required DBAPI processing
takes place.</p>
<a class="changelog-reference headerlink reference internal" href="#change-72ff9fd4e95f73a9fac5793d46ee1989">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6.1-8"><span class="target" id="change-8d17b953e1ac169718caf18058bcd4a7"><strong>[sql]</strong> </span><p>Added table.add_is_dependent_on(othertable), allows manual
placement of dependency rules between two Table objects
for use within create_all(), drop_all(), sorted_tables.</p>
<a class="changelog-reference headerlink reference internal" href="#change-8d17b953e1ac169718caf18058bcd4a7">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1801">#1801</a></p>
</p>
</li>
<li><p id="change-0.6.1-9"><span class="target" id="change-8952d0409ec113323968a616d7b3ff95"><strong>[sql]</strong> </span><p>Fixed bug that prevented implicit RETURNING from functioning
properly with composite primary key that contained zeroes.</p>
<a class="changelog-reference headerlink reference internal" href="#change-8952d0409ec113323968a616d7b3ff95">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1778">#1778</a></p>
</p>
</li>
<li><p id="change-0.6.1-10"><span class="target" id="change-82e4196d3222e0f8f2f39d0d56b49b68"><strong>[sql]</strong> </span><p>Fixed errant space character when generating ADD CONSTRAINT
for a named UNIQUE constraint.</p>
<a class="changelog-reference headerlink reference internal" href="#change-82e4196d3222e0f8f2f39d0d56b49b68">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6.1-11"><span class="target" id="change-807df8a8ee10aefc7c085e0ae765387d"><strong>[sql]</strong> </span><p>Fixed “table” argument on constructor of ForeignKeyConstraint</p>
<a class="changelog-reference headerlink reference internal" href="#change-807df8a8ee10aefc7c085e0ae765387d">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1571">#1571</a></p>
</p>
</li>
<li><p id="change-0.6.1-12"><span class="target" id="change-e8fbe83ec8fc5eea2bdba7a800b0782f"><strong>[sql]</strong> </span><p>Fixed bug in connection pool cursor wrapper whereby if a
cursor threw an exception on close(), the logging of the
message would fail.</p>
<a class="changelog-reference headerlink reference internal" href="#change-e8fbe83ec8fc5eea2bdba7a800b0782f">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1786">#1786</a></p>
</p>
</li>
<li><p id="change-0.6.1-13"><span class="target" id="change-a4876a0985ffddb6e31acca9c07979e7"><strong>[sql]</strong> </span><p>the _make_proxy() method of ColumnClause and Column now use
self.__class__ to determine the class of object to be returned
instead of hardcoding to ColumnClause/Column, making it slightly
easier to produce specific subclasses of these which work in
alias/subquery situations.</p>
<a class="changelog-reference headerlink reference internal" href="#change-a4876a0985ffddb6e31acca9c07979e7">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6.1-14"><span class="target" id="change-cabf1086effe5bf3e53e5eb62e0a539f"><strong>[sql]</strong> </span><p>func.XXX() doesn’t inadvertently resolve to non-Function
classes (e.g. fixes func.text()).</p>
<a class="changelog-reference headerlink reference internal" href="#change-cabf1086effe5bf3e53e5eb62e0a539f">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1798">#1798</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.6.1-mysql">
<h3>mysql<a class="headerlink" href="#change-0.6.1-mysql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6.1-15"><span class="target" id="change-aa357253b7d4e61fb60fe4179f37c4c4"><strong>[mysql]</strong> </span><p>func.sysdate() emits “SYSDATE()”, i.e. with the ending
parenthesis, on MySQL.</p>
<a class="changelog-reference headerlink reference internal" href="#change-aa357253b7d4e61fb60fe4179f37c4c4">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1794">#1794</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.6.1-sqlite">
<h3>sqlite<a class="headerlink" href="#change-0.6.1-sqlite" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6.1-16"><span class="target" id="change-f93c6942e6696df34b2e495e1a798242"><strong>[sqlite]</strong> </span><p>Fixed concatenation of constraints when “PRIMARY KEY”
constraint gets moved to column level due to SQLite
AUTOINCREMENT keyword being rendered.</p>
<a class="changelog-reference headerlink reference internal" href="#change-f93c6942e6696df34b2e495e1a798242">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1812">#1812</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.6.1-oracle">
<h3>oracle<a class="headerlink" href="#change-0.6.1-oracle" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6.1-17"><span class="target" id="change-921c563fd599609c36d48fca98c94857"><strong>[oracle]</strong> </span><p>Added a check for cx_oracle versions lower than version 5,
in which case the incompatible “output type handler” won’t
be used.   This will impact decimal accuracy and some
unicode handling issues.</p>
<a class="changelog-reference headerlink reference internal" href="#change-921c563fd599609c36d48fca98c94857">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1775">#1775</a></p>
</p>
</li>
<li><p id="change-0.6.1-18"><span class="target" id="change-de39458c5cf40832d3e712046e906059"><strong>[oracle]</strong> </span><p>Fixed use_ansi=False mode, which was producing broken
WHERE clauses in pretty much all cases.</p>
<a class="changelog-reference headerlink reference internal" href="#change-de39458c5cf40832d3e712046e906059">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1790">#1790</a></p>
</p>
</li>
<li><p id="change-0.6.1-19"><span class="target" id="change-c5cd67d9af16519e3e1648d461a6fa18"><strong>[oracle]</strong> </span><p>Re-established support for Oracle 8 with cx_oracle,
including that use_ansi is set to False automatically,
NVARCHAR2 and NCLOB are not rendered for Unicode,
“native unicode” check doesn’t fail, cx_oracle
“native unicode” mode is disabled, VARCHAR() is emitted
with bytes count instead of char count.</p>
<a class="changelog-reference headerlink reference internal" href="#change-c5cd67d9af16519e3e1648d461a6fa18">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1808">#1808</a></p>
</p>
</li>
<li><p id="change-0.6.1-20"><span class="target" id="change-42bad8b40515caa95e779b1bb6592e72"><strong>[oracle]</strong> </span><p>oracle_xe 5 doesn’t accept a Python unicode object in
its connect string in normal Python 2.x mode - so we coerce
to str() directly.  non-ascii characters aren’t supported
in connect strings here since we don’t know what encoding
we could use.</p>
<a class="changelog-reference headerlink reference internal" href="#change-42bad8b40515caa95e779b1bb6592e72">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1670">#1670</a></p>
</p>
</li>
<li><p id="change-0.6.1-21"><span class="target" id="change-c4fb3d2d0a0c5a82038662d1a131caa4"><strong>[oracle]</strong> </span><p>FOR UPDATE is emitted in the syntactically correct position
when limit/offset is used, i.e. the ROWNUM subquery.
However, Oracle can’t really handle FOR UPDATE with ORDER BY
or with subqueries, so its still not very usable, but at
least SQLA gets the SQL past the Oracle parser.</p>
<a class="changelog-reference headerlink reference internal" href="#change-c4fb3d2d0a0c5a82038662d1a131caa4">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1815">#1815</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.6.1-firebird">
<h3>firebird<a class="headerlink" href="#change-0.6.1-firebird" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6.1-22"><span class="target" id="change-91fe7d4094c4263398493a015350a1ed"><strong>[firebird]</strong> </span><p>Added a label to the query used within has_table() and
has_sequence() to work with older versions of Firebird
that don’t provide labels for result columns.</p>
<a class="changelog-reference headerlink reference internal" href="#change-91fe7d4094c4263398493a015350a1ed">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1521">#1521</a></p>
</p>
</li>
<li><p id="change-0.6.1-23"><span class="target" id="change-0d74fea7bfb3e3c84d0515cc593d4d87"><strong>[firebird]</strong> </span><p>Added integer coercion to the “type_conv” attribute when
passed via query string, so that it is properly interpreted
by Kinterbasdb.</p>
<a class="changelog-reference headerlink reference internal" href="#change-0d74fea7bfb3e3c84d0515cc593d4d87">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1779">#1779</a></p>
</p>
</li>
<li><p id="change-0.6.1-24"><span class="target" id="change-03bb6ab00e44c5f02f340d559a5dab0f"><strong>[firebird]</strong> </span><p>Added ‘connection shutdown’ to the list of exception strings
which indicate a dropped connection.</p>
<a class="changelog-reference headerlink reference internal" href="#change-03bb6ab00e44c5f02f340d559a5dab0f">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1646">#1646</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.6.1-misc">
<h3>misc<a class="headerlink" href="#change-0.6.1-misc" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6.1-25"><span class="target" id="change-df53735fe0fac1271ec8b185d92b917c"><strong>[engines]</strong> </span><p>Fixed building the C extensions on Python 2.4.</p>
<a class="changelog-reference headerlink reference internal" href="#change-df53735fe0fac1271ec8b185d92b917c">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1781">#1781</a></p>
</p>
</li>
<li><p id="change-0.6.1-26"><span class="target" id="change-bd1c201152d89a2c0a9fce60d6eb9f10"><strong>[engines]</strong> </span><p>Pool classes will reuse the same “pool_logging_name” setting
after a dispose() occurs.</p>
<a class="changelog-reference headerlink reference internal" href="#change-bd1c201152d89a2c0a9fce60d6eb9f10">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6.1-27"><span class="target" id="change-d98f14529ec58cd4e539be4876c55109"><strong>[engines]</strong> </span><p>Engine gains an “execution_options” argument and
update_execution_options() method, which will apply to
all connections generated by this engine.</p>
<a class="changelog-reference headerlink reference internal" href="#change-d98f14529ec58cd4e539be4876c55109">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6.1-28"><span class="target" id="change-6bd58738b79dc1de9e4c774f875c967e"><strong>[sqlsoup]</strong> </span><p>the SqlSoup constructor accepts a <cite>base</cite> argument which specifies
the base class to use for mapped classes, the default being
<cite>object</cite>.</p>
<a class="changelog-reference headerlink reference internal" href="#change-6bd58738b79dc1de9e4c774f875c967e">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1783">#1783</a></p>
</p>
</li>
</ul>
</div>
</div>
<div class="section" id="change-0.6.0">
<h2 class="release-version">0.6.0<a class="headerlink" href="#change-0.6.0" title="Permalink to this headline">¶</a></h2>
Released: Sun Apr 18 2010<div class="section" id="change-0.6.0-orm">
<h3>orm<a class="headerlink" href="#change-0.6.0-orm" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6.0-0"><span class="target" id="change-3b1217c725cfaca8d0f18b95fec0c71d"><strong>[orm]</strong> </span><p>Unit of work internals have been rewritten.  Units of work
with large numbers of objects interdependent objects
can now be flushed without recursion overflows
as there is no longer reliance upon recursive calls.  The number of internal structures now stays
constant for a particular session state, regardless of
how many relationships are present on mappings.  The flow
of events now corresponds to a linear list of steps,
generated by the mappers and relationships based on actual
work to be done, filtered through a single topological sort
for correct ordering.  Flush actions are assembled using
far fewer steps and less memory.</p>
<a class="changelog-reference headerlink reference internal" href="#change-3b1217c725cfaca8d0f18b95fec0c71d">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1081">#1081</a>, <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1742">#1742</a></p>
</p>
</li>
<li><p id="change-0.6.0-1"><span class="target" id="change-97e2870a10f13e39b21451eade7f34e3"><strong>[orm]</strong> </span><p>Along with the UOW rewrite, this also removes an issue
introduced in 0.6beta3 regarding topological cycle detection
for units of work with long dependency cycles.  We now use
an algorithm written by Guido (thanks Guido!).</p>
<a class="changelog-reference headerlink reference internal" href="#change-97e2870a10f13e39b21451eade7f34e3">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6.0-2"><span class="target" id="change-2c89e63a7b00b521ab6ebefa3e55a3d8"><strong>[orm]</strong> </span><p>one-to-many relationships now maintain a list of positive
parent-child associations within the flush, preventing
previous parents marked as deleted from cascading a
delete or NULL foreign key set on those child objects,
despite the end-user not removing the child from the old
association.</p>
<a class="changelog-reference headerlink reference internal" href="#change-2c89e63a7b00b521ab6ebefa3e55a3d8">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1764">#1764</a></p>
</p>
</li>
<li><p id="change-0.6.0-3"><span class="target" id="change-de68f57cafdd0eff2e36aba90d68a8d9"><strong>[orm]</strong> </span><p>A collection lazy load will switch off default
eagerloading on the reverse many-to-one side, since
that loading is by definition unnecessary.</p>
<a class="changelog-reference headerlink reference internal" href="#change-de68f57cafdd0eff2e36aba90d68a8d9">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1495">#1495</a></p>
</p>
</li>
<li><p id="change-0.6.0-4"><span class="target" id="change-60b9bbf87ecba4f952f15d81c023040f"><strong>[orm]</strong> </span><p>Session.refresh() now does an equivalent expire()
on the given instance first, so that the “refresh-expire”
cascade is propagated.   Previously, refresh() was
not affected in any way by the presence of “refresh-expire”
cascade.   This is a change in behavior versus that
of 0.6beta2, where the “lockmode” flag passed to refresh()
would cause a version check to occur.  Since the instance
is first expired, refresh() always upgrades the object
to the most recent version.</p>
<a class="changelog-reference headerlink reference internal" href="#change-60b9bbf87ecba4f952f15d81c023040f">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6.0-5"><span class="target" id="change-f00123490bb1d2834b93640ea8cbd25d"><strong>[orm]</strong> </span><p>The ‘refresh-expire’ cascade, when reaching a pending object,
will expunge the object if the cascade also includes
“delete-orphan”, or will simply detach it otherwise.</p>
<a class="changelog-reference headerlink reference internal" href="#change-f00123490bb1d2834b93640ea8cbd25d">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1754">#1754</a></p>
</p>
</li>
<li><p id="change-0.6.0-6"><span class="target" id="change-446d9794507b3c1360eb69dd3f886c1b"><strong>[orm]</strong> </span><p>id(obj) is no longer used internally within topological.py,
as the sorting functions now require hashable objects
only.</p>
<a class="changelog-reference headerlink reference internal" href="#change-446d9794507b3c1360eb69dd3f886c1b">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1756">#1756</a></p>
</p>
</li>
<li><p id="change-0.6.0-7"><span class="target" id="change-89d6d3ab3f04efc830987da850dbcd9f"><strong>[orm]</strong> </span><p>The ORM will set the docstring of all generated descriptors
to None by default.  This can be overridden using ‘doc’
(or if using Sphinx, attribute docstrings work too).</p>
<a class="changelog-reference headerlink reference internal" href="#change-89d6d3ab3f04efc830987da850dbcd9f">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6.0-8"><span class="target" id="change-0c5e8a43f7cfd7406db906494f6c86cb"><strong>[orm]</strong> </span><p>Added kw argument ‘doc’ to all mapper property callables
as well as Column().  Will assemble the string ‘doc’ as
the ‘__doc__’ attribute on the descriptor.</p>
<a class="changelog-reference headerlink reference internal" href="#change-0c5e8a43f7cfd7406db906494f6c86cb">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6.0-9"><span class="target" id="change-bfa16822997c1406790421c29fcddf84"><strong>[orm]</strong> </span><p>Usage of version_id_col on a backend that supports
cursor.rowcount for execute() but not executemany() now works
when a delete is issued (already worked for saves, since those
don’t use executemany()). For a backend that doesn’t support
cursor.rowcount at all, a warning is emitted the same
as with saves.</p>
<a class="changelog-reference headerlink reference internal" href="#change-bfa16822997c1406790421c29fcddf84">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1761">#1761</a></p>
</p>
</li>
<li><p id="change-0.6.0-10"><span class="target" id="change-7c8f475376472ec13a1f37c930bcffc9"><strong>[orm]</strong> </span><p>The ORM now short-term caches the “compiled” form of
insert() and update() constructs when flushing lists of
objects of all the same class, thereby avoiding redundant
compilation per individual INSERT/UPDATE within an
individual flush() call.</p>
<a class="changelog-reference headerlink reference internal" href="#change-7c8f475376472ec13a1f37c930bcffc9">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6.0-11"><span class="target" id="change-9b2338aa43fcd0bf730a52d5e1a78bf1"><strong>[orm]</strong> </span><p>internal getattr(), setattr(), getcommitted() methods
on ColumnProperty, CompositeProperty, RelationshipProperty
have been underscored (i.e. are private), signature has
changed.</p>
<a class="changelog-reference headerlink reference internal" href="#change-9b2338aa43fcd0bf730a52d5e1a78bf1">¶</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.6.0-sql">
<h3>sql<a class="headerlink" href="#change-0.6.0-sql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6.0-12"><span class="target" id="change-2ad00fb1fb1dc9fb7c58e6eea6830e93"><strong>[sql]</strong> </span><p>Restored some bind-labeling logic from 0.5 which ensures
that tables with column names that overlap another column
of the form “&lt;tablename&gt;_&lt;columnname&gt;” won’t produce
errors if column._label is used as a bind name during
an UPDATE.  Test coverage which wasn’t present in 0.5
has been added.</p>
<a class="changelog-reference headerlink reference internal" href="#change-2ad00fb1fb1dc9fb7c58e6eea6830e93">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1755">#1755</a></p>
</p>
</li>
<li><p id="change-0.6.0-13"><span class="target" id="change-8a0a290dfd11b9c9f0b759cacd2c60e7"><strong>[sql]</strong> </span><p>somejoin.select(fold_equivalents=True) is no longer
deprecated, and will eventually be rolled into a more
comprehensive version of the feature for.</p>
<a class="changelog-reference headerlink reference internal" href="#change-8a0a290dfd11b9c9f0b759cacd2c60e7">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1729">#1729</a></p>
</p>
</li>
<li><p id="change-0.6.0-14"><span class="target" id="change-f49c7dce36721a3b7fff421faf1e347f"><strong>[sql]</strong> </span><p>the Numeric type raises an <em>enormous</em> warning when expected
to convert floats to Decimal from a DBAPI that returns floats.
This includes SQLite, Sybase, MS-SQL.</p>
<a class="changelog-reference headerlink reference internal" href="#change-f49c7dce36721a3b7fff421faf1e347f">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1759">#1759</a></p>
</p>
</li>
<li><p id="change-0.6.0-15"><span class="target" id="change-79bb81f03cb8e5df4f9dd9a451f01db2"><strong>[sql]</strong> </span><p>Fixed an error in expression typing which caused an endless
loop for expressions with two NULL types.</p>
<a class="changelog-reference headerlink reference internal" href="#change-79bb81f03cb8e5df4f9dd9a451f01db2">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6.0-16"><span class="target" id="change-9a48a170841006eca908993bdd32d73e"><strong>[sql]</strong> </span><p>Fixed bug in execution_options() feature whereby the existing
Transaction and other state information from the parent
connection would not be propagated to the sub-connection.</p>
<a class="changelog-reference headerlink reference internal" href="#change-9a48a170841006eca908993bdd32d73e">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6.0-17"><span class="target" id="change-60e732c087d2155ba7f95c3372a0b9e0"><strong>[sql]</strong> </span><p>Added new ‘compiled_cache’ execution option.  A dictionary
where Compiled objects will be cached when the Connection
compiles a clause expression into a dialect- and parameter-
specific Compiled object.  It is the user’s responsibility to
manage the size of this dictionary, which will have keys
corresponding to the dialect, clause element, the column
names within the VALUES or SET clause of an INSERT or UPDATE,
as well as the “batch” mode for an INSERT or UPDATE statement.</p>
<a class="changelog-reference headerlink reference internal" href="#change-60e732c087d2155ba7f95c3372a0b9e0">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6.0-18"><span class="target" id="change-768b947e2c0ef47ccdae7a24bea4fc76"><strong>[sql]</strong> </span><p>Added get_pk_constraint() to reflection.Inspector, similar
to get_primary_keys() except returns a dict that includes the
name of the constraint, for supported backends (PG so far).</p>
<a class="changelog-reference headerlink reference internal" href="#change-768b947e2c0ef47ccdae7a24bea4fc76">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1769">#1769</a></p>
</p>
</li>
<li><p id="change-0.6.0-19"><span class="target" id="change-9e9da1b03603fbea0a497194ff379a0f"><strong>[sql]</strong> </span><p>Table.create() and Table.drop() no longer apply metadata-
level create/drop events.</p>
<a class="changelog-reference headerlink reference internal" href="#change-9e9da1b03603fbea0a497194ff379a0f">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1771">#1771</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.6.0-postgresql">
<h3>postgresql<a class="headerlink" href="#change-0.6.0-postgresql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6.0-20"><span class="target" id="change-d421c18a9fff9b91b885bc27708574df"><strong>[postgresql]</strong> </span><p>PostgreSQL now reflects sequence names associated with
SERIAL columns correctly, after the name of the sequence
has been changed.  Thanks to Kumar McMillan for the patch.</p>
<a class="changelog-reference headerlink reference internal" href="#change-d421c18a9fff9b91b885bc27708574df">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1071">#1071</a></p>
</p>
</li>
<li><p id="change-0.6.0-21"><span class="target" id="change-f9a992cccbd35a7929c4a9fc18106789"><strong>[postgresql]</strong> </span><p>Repaired missing import in psycopg2._PGNumeric type when
unknown numeric is received.</p>
<a class="changelog-reference headerlink reference internal" href="#change-f9a992cccbd35a7929c4a9fc18106789">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6.0-22"><span class="target" id="change-b98fd25854c44f76b567995a581b059f"><strong>[postgresql]</strong> </span><p>psycopg2/pg8000 dialects now aware of REAL[], FLOAT[],
DOUBLE_PRECISION[], NUMERIC[] return types without
raising an exception.</p>
<a class="changelog-reference headerlink reference internal" href="#change-b98fd25854c44f76b567995a581b059f">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6.0-23"><span class="target" id="change-c0161ab7ad2d1d8afa5d01457f65d50f"><strong>[postgresql]</strong> </span><p>PostgreSQL reflects the name of primary key constraints,
if one exists.</p>
<a class="changelog-reference headerlink reference internal" href="#change-c0161ab7ad2d1d8afa5d01457f65d50f">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1769">#1769</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.6.0-oracle">
<h3>oracle<a class="headerlink" href="#change-0.6.0-oracle" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6.0-24"><span class="target" id="change-e256b03edc9a352999ab763c545d8369"><strong>[oracle]</strong> </span><p>Now using cx_oracle output converters so that the
DBAPI returns natively the kinds of values we prefer:</p>
<a class="changelog-reference headerlink reference internal" href="#change-e256b03edc9a352999ab763c545d8369">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6.0-25"><span class="target" id="change-f9a62b0f03f5c58cd9451cf9002cb497"><strong>[oracle]</strong> </span><p>NUMBER values with positive precision + scale convert
to cx_oracle.STRING and then to Decimal.   This
allows perfect precision for the Numeric type when
using cx_oracle.</p>
<a class="changelog-reference headerlink reference internal" href="#change-f9a62b0f03f5c58cd9451cf9002cb497">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1759">#1759</a></p>
</p>
</li>
<li><p id="change-0.6.0-26"><span class="target" id="change-ddda48d09bea40d9663e1537a8b7b708"><strong>[oracle]</strong> </span><p>STRING/FIXED_CHAR now convert to unicode natively.
SQLAlchemy’s String types then don’t need to
apply any kind of conversions.</p>
<a class="changelog-reference headerlink reference internal" href="#change-ddda48d09bea40d9663e1537a8b7b708">¶</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.6.0-firebird">
<h3>firebird<a class="headerlink" href="#change-0.6.0-firebird" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6.0-27"><span class="target" id="change-605572f4fbe5fbe913e1c270b3de66b4"><strong>[firebird]</strong> </span><p>The functionality of result.rowcount can be disabled on a
per-engine basis by setting ‘enable_rowcount=False’
on create_engine().  Normally, cursor.rowcount is called
after any UPDATE or DELETE statement unconditionally,
because the cursor is then closed and Firebird requires
an open cursor in order to get a rowcount.  This
call is slightly expensive however so it can be disabled.
To re-enable on a per-execution basis, the
‘enable_rowcount=True’ execution option may be used.</p>
<a class="changelog-reference headerlink reference internal" href="#change-605572f4fbe5fbe913e1c270b3de66b4">¶</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.6.0-misc">
<h3>misc<a class="headerlink" href="#change-0.6.0-misc" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6.0-28"><span class="target" id="change-e0c034dd38e58d6263b4417bd5b20d8a"><strong>[engines]</strong> </span><p>The C extension now also works with DBAPIs which use custom
sequences as row (and not only tuples).</p>
<a class="changelog-reference headerlink reference internal" href="#change-e0c034dd38e58d6263b4417bd5b20d8a">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1757">#1757</a></p>
</p>
</li>
<li><p id="change-0.6.0-29"><span class="target" id="change-aa50f37469eba982996cc17bb2685a72"><strong>[ext]</strong> </span><p>the compiler extension now allows &#64;compiles decorators
on base classes that extend to child classes, &#64;compiles
decorators on child classes that aren’t broken by a
&#64;compiles decorator on the base class.</p>
<a class="changelog-reference headerlink reference internal" href="#change-aa50f37469eba982996cc17bb2685a72">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6.0-30"><span class="target" id="change-0507e611abb0fe0ac48260501435bd99"><strong>[ext]</strong> </span><p>Declarative will raise an informative error message
if a non-mapped class attribute is referenced in the
string-based relationship() arguments.</p>
<a class="changelog-reference headerlink reference internal" href="#change-0507e611abb0fe0ac48260501435bd99">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6.0-31"><span class="target" id="change-deb0113981b96ffb2348bb3031d2e553"><strong>[ext]</strong> </span><p>Further reworked the “mixin” logic in declarative to
additionally allow __mapper_args__ as a &#64;classproperty
on a mixin, such as to dynamically assign polymorphic_identity.</p>
<a class="changelog-reference headerlink reference internal" href="#change-deb0113981b96ffb2348bb3031d2e553">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6.0-32"><span class="target" id="change-cbe6875d1367b7c3a0bbeb9dddead99a"><strong>[examples]</strong> </span><p>Updated attribute_shard.py example to use a more robust
method of searching a Query for binary expressions which
compare columns against literal values.</p>
<a class="changelog-reference headerlink reference internal" href="#change-cbe6875d1367b7c3a0bbeb9dddead99a">¶</a><p></p>
</p>
</li>
</ul>
</div>
</div>
<div class="section" id="change-0.6beta3">
<h2 class="release-version">0.6beta3<a class="headerlink" href="#change-0.6beta3" title="Permalink to this headline">¶</a></h2>
Released: Sun Mar 28 2010<div class="section" id="change-0.6beta3-orm">
<h3>orm<a class="headerlink" href="#change-0.6beta3-orm" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6beta3-0"><span class="target" id="change-f967d8dbf3c4194f9e0b1af4d5804fd6"><strong>[orm]</strong> </span><p>Major feature: Added new “subquery” loading capability to
relationship().   This is an eager loading option which
generates a second SELECT for each collection represented
in a query, across all parents at once.  The query
re-issues the original end-user query wrapped in a subquery,
applies joins out to the target collection, and loads
all those collections fully in one result, similar to
“joined” eager loading but using all inner joins and not
re-fetching full parent rows repeatedly (as most DBAPIs seem
to do, even if columns are skipped).   Subquery loading is
available at mapper config level using “lazy=’subquery’” and
at the query options level using “subqueryload(props..)”,
“subqueryload_all(props…)”.</p>
<a class="changelog-reference headerlink reference internal" href="#change-f967d8dbf3c4194f9e0b1af4d5804fd6">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1675">#1675</a></p>
</p>
</li>
<li><p id="change-0.6beta3-1"><span class="target" id="change-18a93528ced9a2629dcac08a74e933e0"><strong>[orm]</strong> </span><p>To accommodate the fact that there are now two kinds of eager
loading available, the new names for eagerload() and
eagerload_all() are joinedload() and joinedload_all().  The
old names will remain as synonyms for the foreseeable future.</p>
<a class="changelog-reference headerlink reference internal" href="#change-18a93528ced9a2629dcac08a74e933e0">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta3-2"><span class="target" id="change-5660c8fd9cb4729f0f6017950bde5b27"><strong>[orm]</strong> </span><p>The “lazy” flag on the relationship() function now accepts
a string argument for all kinds of loading: “select”, “joined”,
“subquery”, “noload” and “dynamic”, where the default is now
“select”.  The old values of True/
False/None still retain their usual meanings and will remain
as synonyms for the foreseeable future.</p>
<a class="changelog-reference headerlink reference internal" href="#change-5660c8fd9cb4729f0f6017950bde5b27">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta3-3"><span class="target" id="change-cc53079a38c2d284e5b3d878ed0120c4"><strong>[orm]</strong> </span><p>Added with_hint() method to Query() construct.  This calls
directly down to select().with_hint() and also accepts
entities as well as tables and aliases.  See with_hint() in the
SQL section below.</p>
<a class="changelog-reference headerlink reference internal" href="#change-cc53079a38c2d284e5b3d878ed0120c4">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/921">#921</a></p>
</p>
</li>
<li><p id="change-0.6beta3-4"><span class="target" id="change-3ccda2938593dbe9607247dd4ea3f042"><strong>[orm]</strong> </span><p>Fixed bug in Query whereby calling q.join(prop).from_self(…).
join(prop) would fail to render the second join outside the
subquery, when joining on the same criterion as was on the
inside.</p>
<a class="changelog-reference headerlink reference internal" href="#change-3ccda2938593dbe9607247dd4ea3f042">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta3-5"><span class="target" id="change-2546a2848e4b1fdee1a5cacf7b6e9177"><strong>[orm]</strong> </span><p>Fixed bug in Query whereby the usage of aliased() constructs
would fail if the underlying table (but not the actual alias)
were referenced inside the subquery generated by
q.from_self() or q.select_from().</p>
<a class="changelog-reference headerlink reference internal" href="#change-2546a2848e4b1fdee1a5cacf7b6e9177">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta3-6"><span class="target" id="change-69588e4d5fc29aebd7af673e5d4ec0ae"><strong>[orm]</strong> </span><p>Fixed bug which affected all eagerload() and similar options
such that “remote” eager loads, i.e. eagerloads off of a lazy
load such as query(A).options(eagerload(A.b, B.c))
wouldn’t eagerload anything, but using eagerload(“b.c”) would
work fine.</p>
<a class="changelog-reference headerlink reference internal" href="#change-69588e4d5fc29aebd7af673e5d4ec0ae">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta3-7"><span class="target" id="change-f79b8419ad3bbd5244a090f0a35e6c22"><strong>[orm]</strong> </span><p>Query gains an add_columns(*columns) method which is a multi-
version of add_column(col).  add_column(col) is future
deprecated.</p>
<a class="changelog-reference headerlink reference internal" href="#change-f79b8419ad3bbd5244a090f0a35e6c22">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta3-8"><span class="target" id="change-965b0258f91345cb3a06eb1191ba4dd6"><strong>[orm]</strong> </span><p>Query.join() will detect if the end result will be
“FROM A JOIN A”, and will raise an error if so.</p>
<a class="changelog-reference headerlink reference internal" href="#change-965b0258f91345cb3a06eb1191ba4dd6">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta3-9"><span class="target" id="change-33de22e92c0ea512daaf2bf928b86233"><strong>[orm]</strong> </span><p>Query.join(Cls.propname, from_joinpoint=True) will check more
carefully that “Cls” is compatible with the current joinpoint,
and act the same way as Query.join(“propname”, from_joinpoint=True)
in that regard.</p>
<a class="changelog-reference headerlink reference internal" href="#change-33de22e92c0ea512daaf2bf928b86233">¶</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.6beta3-sql">
<h3>sql<a class="headerlink" href="#change-0.6beta3-sql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6beta3-10"><span class="target" id="change-8921f11442b55f634ffd5da10a321a10"><strong>[sql]</strong> </span><p>Added with_hint() method to select() construct.  Specify
a table/alias, hint text, and optional dialect name, and
“hints” will be rendered in the appropriate place in the
statement.  Works for Oracle, Sybase, MySQL.</p>
<a class="changelog-reference headerlink reference internal" href="#change-8921f11442b55f634ffd5da10a321a10">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/921">#921</a></p>
</p>
</li>
<li><p id="change-0.6beta3-11"><span class="target" id="change-dbf96f0ccd57bb7e5c8878762570f98e"><strong>[sql]</strong> </span><p>Fixed bug introduced in 0.6beta2 where column labels would
render inside of column expressions already assigned a label.</p>
<a class="changelog-reference headerlink reference internal" href="#change-dbf96f0ccd57bb7e5c8878762570f98e">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1747">#1747</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.6beta3-postgresql">
<h3>postgresql<a class="headerlink" href="#change-0.6beta3-postgresql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6beta3-12"><span class="target" id="change-51b8f6239dcbf5719eeda7f33fb074ad"><strong>[postgresql]</strong> </span><p>The psycopg2 dialect will log NOTICE messages via the
“sqlalchemy.dialects.postgresql” logger name.</p>
<a class="changelog-reference headerlink reference internal" href="#change-51b8f6239dcbf5719eeda7f33fb074ad">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/877">#877</a></p>
</p>
</li>
<li><p id="change-0.6beta3-13"><span class="target" id="change-b06780742c82dc402af8d0b581c9eebe"><strong>[postgresql]</strong> </span><p>the TIME and TIMESTAMP types are now available from the
postgresql dialect directly, which add the PG-specific
argument ‘precision’ to both.   ‘precision’ and
‘timezone’ are correctly reflected for both TIME and
TIMEZONE types.</p>
<a class="changelog-reference headerlink reference internal" href="#change-b06780742c82dc402af8d0b581c9eebe">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/997">#997</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.6beta3-mysql">
<h3>mysql<a class="headerlink" href="#change-0.6beta3-mysql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6beta3-14"><span class="target" id="change-683fd67a66959dc8c853731f14b2cc81"><strong>[mysql]</strong> </span><p>No longer guessing that TINYINT(1) should be BOOLEAN
when reflecting - TINYINT(1) is returned.  Use Boolean/
BOOLEAN in table definition to get boolean conversion
behavior.</p>
<a class="changelog-reference headerlink reference internal" href="#change-683fd67a66959dc8c853731f14b2cc81">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1752">#1752</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.6beta3-oracle">
<h3>oracle<a class="headerlink" href="#change-0.6beta3-oracle" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6beta3-15"><span class="target" id="change-5c94b49a397096685020b6e1e5702ec7"><strong>[oracle]</strong> </span><p>The Oracle dialect will issue VARCHAR type definitions
using character counts, i.e. VARCHAR2(50 CHAR), so that
the column is sized in terms of characters and not bytes.
Column reflection of character types will also use
ALL_TAB_COLUMNS.CHAR_LENGTH instead of
ALL_TAB_COLUMNS.DATA_LENGTH.  Both of these behaviors take
effect when the server version is 9 or higher - for
version 8, the old behaviors are used.</p>
<a class="changelog-reference headerlink reference internal" href="#change-5c94b49a397096685020b6e1e5702ec7">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1744">#1744</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.6beta3-misc">
<h3>misc<a class="headerlink" href="#change-0.6beta3-misc" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6beta3-16"><span class="target" id="change-830637c55ffba2f2e096ea3c18f4f4a7"><strong>[declarative]</strong> </span><p>Using a mixin won’t break if the mixin implements an
unpredictable __getattribute__(), i.e. Zope interfaces.</p>
<a class="changelog-reference headerlink reference internal" href="#change-830637c55ffba2f2e096ea3c18f4f4a7">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1746">#1746</a></p>
</p>
</li>
<li><p id="change-0.6beta3-17"><span class="target" id="change-bd6f8eba3f3862d4d8d1011707f7b4cf"><strong>[declarative]</strong> </span><p>Using &#64;classdecorator and similar on mixins to define
__tablename__, __table_args__, etc. now works if
the method references attributes on the ultimate
subclass.</p>
<a class="changelog-reference headerlink reference internal" href="#change-bd6f8eba3f3862d4d8d1011707f7b4cf">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1749">#1749</a></p>
</p>
</li>
<li><p id="change-0.6beta3-18"><span class="target" id="change-1330f1fe92881e1fd934e9d4505add81"><strong>[declarative]</strong> </span><p>relationships and columns with foreign keys aren’t
allowed on declarative mixins, sorry.</p>
<a class="changelog-reference headerlink reference internal" href="#change-1330f1fe92881e1fd934e9d4505add81">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1751">#1751</a></p>
</p>
</li>
<li><p id="change-0.6beta3-19"><span class="target" id="change-caaf4140d3b5e7c3c34a1234538341e4"><strong>[ext]</strong> </span><p>The sqlalchemy.orm.shard module now becomes an extension,
sqlalchemy.ext.horizontal_shard.   The old import
works with a deprecation warning.</p>
<a class="changelog-reference headerlink reference internal" href="#change-caaf4140d3b5e7c3c34a1234538341e4">¶</a><p></p>
</p>
</li>
</ul>
</div>
</div>
<div class="section" id="change-0.6beta2">
<h2 class="release-version">0.6beta2<a class="headerlink" href="#change-0.6beta2" title="Permalink to this headline">¶</a></h2>
Released: Sat Mar 20 2010<div class="section" id="change-0.6beta2-orm">
<h3>orm<a class="headerlink" href="#change-0.6beta2-orm" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6beta2-0"><span class="target" id="change-91f89136c1aa2ba8d36ba9cf940655b3"><strong>[orm]</strong> </span><p>The official name for the relation() function is now
relationship(), to eliminate confusion over the relational
algebra term.  relation() however will remain available
in equal capacity for the foreseeable future.</p>
<a class="changelog-reference headerlink reference internal" href="#change-91f89136c1aa2ba8d36ba9cf940655b3">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1740">#1740</a></p>
</p>
</li>
<li><p id="change-0.6beta2-1"><span class="target" id="change-9037d3b9977b0f3a6fcc6590008b9b44"><strong>[orm]</strong> </span><p>Added “version_id_generator” argument to Mapper, this is a
callable that, given the current value of the “version_id_col”,
returns the next version number.  Can be used for alternate
versioning schemes such as uuid, timestamps.</p>
<a class="changelog-reference headerlink reference internal" href="#change-9037d3b9977b0f3a6fcc6590008b9b44">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1692">#1692</a></p>
</p>
</li>
<li><p id="change-0.6beta2-2"><span class="target" id="change-ac4f20719ab810598a0f3c8590bb9e48"><strong>[orm]</strong> </span><p>added “lockmode” kw argument to Session.refresh(), will
pass through the string value to Query the same as
in with_lockmode(), will also do version check for a
version_id_col-enabled mapping.</p>
<a class="changelog-reference headerlink reference internal" href="#change-ac4f20719ab810598a0f3c8590bb9e48">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta2-3"><span class="target" id="change-2edc56abe56b8a124e046abb661dc5db"><strong>[orm]</strong> </span><p>Fixed bug whereby calling query(A).join(A.bs).add_entity(B)
in a joined inheritance scenario would double-add B as a
target and produce an invalid query.</p>
<a class="changelog-reference headerlink reference internal" href="#change-2edc56abe56b8a124e046abb661dc5db">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1188">#1188</a></p>
</p>
</li>
<li><p id="change-0.6beta2-4"><span class="target" id="change-58c0d0b1848c816ae294a332245af234"><strong>[orm]</strong> </span><p>Fixed bug in session.rollback() which involved not removing
formerly “pending” objects from the session before
re-integrating “deleted” objects, typically occurred with
natural primary keys. If there was a primary key conflict
between them, the attach of the deleted would fail
internally. The formerly “pending” objects are now expunged
first.</p>
<a class="changelog-reference headerlink reference internal" href="#change-58c0d0b1848c816ae294a332245af234">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1674">#1674</a></p>
</p>
</li>
<li><p id="change-0.6beta2-5"><span class="target" id="change-1f41c5a5c9f337a6608e0d4f75069739"><strong>[orm]</strong> </span><p>Removed a lot of logging that nobody really cares about,
logging that remains will respond to live changes in the
log level.  No significant overhead is added.</p>
<a class="changelog-reference headerlink reference internal" href="#change-1f41c5a5c9f337a6608e0d4f75069739">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1719">#1719</a></p>
</p>
</li>
<li><p id="change-0.6beta2-6"><span class="target" id="change-a1907a9674f8eb93bed9c80372b1b3b1"><strong>[orm]</strong> </span><p>Fixed bug in session.merge() which prevented dict-like
collections from merging.</p>
<a class="changelog-reference headerlink reference internal" href="#change-a1907a9674f8eb93bed9c80372b1b3b1">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta2-7"><span class="target" id="change-2388f0254684db431b5a06c72016ec42"><strong>[orm]</strong> </span><p>session.merge() works with relations that specifically
don’t include “merge” in their cascade options - the target
is ignored completely.</p>
<a class="changelog-reference headerlink reference internal" href="#change-2388f0254684db431b5a06c72016ec42">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta2-8"><span class="target" id="change-c3b6834f3e3153d50e1c2975e838d44c"><strong>[orm]</strong> </span><p>session.merge() will not expire existing scalar attributes
on an existing target if the target has a value for that
attribute, even if the incoming merged doesn’t have
a value for the attribute.  This prevents unnecessary loads
on existing items.  Will still mark the attr as expired
if the destination doesn’t have the attr, though, which
fulfills some contracts of deferred cols.</p>
<a class="changelog-reference headerlink reference internal" href="#change-c3b6834f3e3153d50e1c2975e838d44c">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1681">#1681</a></p>
</p>
</li>
<li><p id="change-0.6beta2-9"><span class="target" id="change-666a289821dc312f5ae2b810b4f61a61"><strong>[orm]</strong> </span><p>The “allow_null_pks” flag is now called “allow_partial_pks”,
defaults to True, acts like it did in 0.5 again.  Except,
it also is implemented within merge() such that a SELECT
won’t be issued for an incoming instance with partially
NULL primary key if the flag is False.</p>
<a class="changelog-reference headerlink reference internal" href="#change-666a289821dc312f5ae2b810b4f61a61">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1680">#1680</a></p>
</p>
</li>
<li><p id="change-0.6beta2-10"><span class="target" id="change-340360d984e646cb2c8c8da0d5cc11b8"><strong>[orm]</strong> </span><p>Fixed bug in 0.6-reworked “many-to-one” optimizations
such that a many-to-one that is against a non-primary key
column on the remote table (i.e. foreign key against a
UNIQUE column) will pull the “old” value in from the
database during a change, since if it’s in the session
we will need it for proper history/backref accounting,
and we can’t pull from the local identity map on a
non-primary key column.</p>
<a class="changelog-reference headerlink reference internal" href="#change-340360d984e646cb2c8c8da0d5cc11b8">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1737">#1737</a></p>
</p>
</li>
<li><p id="change-0.6beta2-11"><span class="target" id="change-2848fed5c8fca096477e50f01a83b6c3"><strong>[orm]</strong> </span><p>fixed internal error which would occur if calling has()
or similar complex expression on a single-table inheritance
relation().</p>
<a class="changelog-reference headerlink reference internal" href="#change-2848fed5c8fca096477e50f01a83b6c3">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1731">#1731</a></p>
</p>
</li>
<li><p id="change-0.6beta2-12"><span class="target" id="change-5033bb4d60482fdc7e61d81f6412cea4"><strong>[orm]</strong> </span><p>query.one() no longer applies LIMIT to the query, this to
ensure that it fully counts all object identities present
in the result, even in the case where joins may conceal
multiple identities for two or more rows.  As a bonus,
one() can now also be called with a query that issued
from_statement() to start with since it no longer modifies
the query.</p>
<a class="changelog-reference headerlink reference internal" href="#change-5033bb4d60482fdc7e61d81f6412cea4">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1688">#1688</a></p>
</p>
</li>
<li><p id="change-0.6beta2-13"><span class="target" id="change-52b4d6b9d3562cdaf43788184ae1805f"><strong>[orm]</strong> </span><p>query.get() now returns None if queried for an identifier
that is present in the identity map with a different class
than the one requested, i.e. when using polymorphic loading.</p>
<a class="changelog-reference headerlink reference internal" href="#change-52b4d6b9d3562cdaf43788184ae1805f">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1727">#1727</a></p>
</p>
</li>
<li><p id="change-0.6beta2-14"><span class="target" id="change-655aaf64d072c58ce2e64a5d6dc12323"><strong>[orm]</strong> </span><p>A major fix in query.join(), when the “on” clause is an
attribute of an aliased() construct, but there is already
an existing join made out to a compatible target, query properly
joins to the right aliased() construct instead of sticking
onto the right side of the existing join.</p>
<a class="changelog-reference headerlink reference internal" href="#change-655aaf64d072c58ce2e64a5d6dc12323">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1706">#1706</a></p>
</p>
</li>
<li><p id="change-0.6beta2-15"><span class="target" id="change-fd6cb3f54f47c27d18ce7c8dd343525d"><strong>[orm]</strong> </span><p>Slight improvement to the fix for to not issue
needless updates of the primary key column during a so-called
“row switch” operation, i.e. add + delete of two objects
with the same PK.</p>
<a class="changelog-reference headerlink reference internal" href="#change-fd6cb3f54f47c27d18ce7c8dd343525d">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1362">#1362</a></p>
</p>
</li>
<li><p id="change-0.6beta2-16"><span class="target" id="change-149e924d04484755c0a14ec239f22076"><strong>[orm]</strong> </span><p>Now uses sqlalchemy.orm.exc.DetachedInstanceError when an
attribute load or refresh action fails due to object
being detached from any Session.   UnboundExecutionError
is specific to engines bound to sessions and statements.</p>
<a class="changelog-reference headerlink reference internal" href="#change-149e924d04484755c0a14ec239f22076">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta2-17"><span class="target" id="change-7312d2f689d678c6e4d0799defdb8511"><strong>[orm]</strong> </span><p>Query called in the context of an expression will render
disambiguating labels in all cases.    Note that this does
not apply to the existing .statement and .subquery()
accessor/method, which still honors the .with_labels()
setting that defaults to False.</p>
<a class="changelog-reference headerlink reference internal" href="#change-7312d2f689d678c6e4d0799defdb8511">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta2-18"><span class="target" id="change-69ee650c673044a6587e8f1a25fd2e9b"><strong>[orm]</strong> </span><p>Query.union() retains disambiguating labels within the
returned statement, thus avoiding various SQL composition
errors which can result from column name conflicts.</p>
<a class="changelog-reference headerlink reference internal" href="#change-69ee650c673044a6587e8f1a25fd2e9b">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1676">#1676</a></p>
</p>
</li>
<li><p id="change-0.6beta2-19"><span class="target" id="change-9366c0432f49557b000d6930b7f2b0c8"><strong>[orm]</strong> </span><p>Fixed bug in attribute history that inadvertently invoked
__eq__ on mapped instances.</p>
<a class="changelog-reference headerlink reference internal" href="#change-9366c0432f49557b000d6930b7f2b0c8">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta2-20"><span class="target" id="change-9b042559ccc515464dca31a9da9e25d6"><strong>[orm]</strong> </span><p>Some internal streamlining of object loading grants a
small speedup for large results, estimates are around
10-15%.   Gave the “state” internals a good solid
cleanup with less complexity, datamembers,
method calls, blank dictionary creates.</p>
<a class="changelog-reference headerlink reference internal" href="#change-9b042559ccc515464dca31a9da9e25d6">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta2-21"><span class="target" id="change-99a73658e5e4c367df4688c45bbda9aa"><strong>[orm]</strong> </span><p>Documentation clarification for query.delete()</p>
<a class="changelog-reference headerlink reference internal" href="#change-99a73658e5e4c367df4688c45bbda9aa">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1689">#1689</a></p>
</p>
</li>
<li><p id="change-0.6beta2-22"><span class="target" id="change-3b02e92cb9ea00b598b21503acc970d0"><strong>[orm]</strong> </span><p>Fixed cascade bug in many-to-one relation() when attribute
was set to None, introduced in r6711 (cascade deleted
items into session during add()).</p>
<a class="changelog-reference headerlink reference internal" href="#change-3b02e92cb9ea00b598b21503acc970d0">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta2-23"><span class="target" id="change-931a758f3fb2e353bb842566bd92c153"><strong>[orm]</strong> </span><p>Calling query.order_by() or query.distinct() before calling
query.select_from(), query.with_polymorphic(), or
query.from_statement() raises an exception now instead of
silently dropping those criterion.</p>
<a class="changelog-reference headerlink reference internal" href="#change-931a758f3fb2e353bb842566bd92c153">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1736">#1736</a></p>
</p>
</li>
<li><p id="change-0.6beta2-24"><span class="target" id="change-c2ae6c50721c4f5bc949b93ea8f29055"><strong>[orm]</strong> </span><p>query.scalar() now raises an exception if more than one
row is returned.  All other behavior remains the same.</p>
<a class="changelog-reference headerlink reference internal" href="#change-c2ae6c50721c4f5bc949b93ea8f29055">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1735">#1735</a></p>
</p>
</li>
<li><p id="change-0.6beta2-25"><span class="target" id="change-714ce6498d2c194488bf5337d8787134"><strong>[orm]</strong> </span><p>Fixed bug which caused “row switch” logic, that is an
INSERT and DELETE replaced by an UPDATE, to fail when
version_id_col was in use.</p>
<a class="changelog-reference headerlink reference internal" href="#change-714ce6498d2c194488bf5337d8787134">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1692">#1692</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.6beta2-sql">
<h3>sql<a class="headerlink" href="#change-0.6beta2-sql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6beta2-26"><span class="target" id="change-b53712fca734ff4d0164b00e61f53cf1"><strong>[sql]</strong> </span><p>join() will now simulate a NATURAL JOIN by default.  Meaning,
if the left side is a join, it will attempt to join the right
side to the rightmost side of the left first, and not raise
any exceptions about ambiguous join conditions if successful
even if there are further join targets across the rest of
the left.</p>
<a class="changelog-reference headerlink reference internal" href="#change-b53712fca734ff4d0164b00e61f53cf1">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1714">#1714</a></p>
</p>
</li>
<li><p id="change-0.6beta2-27"><span class="target" id="change-e6678947026dc69d573ba7f06fa6dcc0"><strong>[sql]</strong> </span><p>The most common result processors conversion function were
moved to the new “processors” module.  Dialect authors are
encouraged to use those functions whenever they correspond
to their needs instead of implementing custom ones.</p>
<a class="changelog-reference headerlink reference internal" href="#change-e6678947026dc69d573ba7f06fa6dcc0">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta2-28"><span class="target" id="change-787fd3a6677f8ba4f979ea8f6fb383fd"><strong>[sql]</strong> </span><p>SchemaType and subclasses Boolean, Enum are now serializable,
including their ddl listener and other event callables.</p>
<a class="changelog-reference headerlink reference internal" href="#change-787fd3a6677f8ba4f979ea8f6fb383fd">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1694">#1694</a>, <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1698">#1698</a></p>
</p>
</li>
<li><p id="change-0.6beta2-29"><span class="target" id="change-b8980f5d17caec1e2e5b563b1e15b8b2"><strong>[sql]</strong> </span><p>Some platforms will now interpret certain literal values
as non-bind parameters, rendered literally into the SQL
statement.   This to support strict SQL-92 rules that are
enforced by some platforms including MS-SQL and Sybase.
In this model, bind parameters aren’t allowed in the
columns clause of a SELECT, nor are certain ambiguous
expressions like “?=?”.  When this mode is enabled, the base
compiler will render the binds as inline literals, but only across
strings and numeric values.  Other types such as dates
will raise an error, unless the dialect subclass defines
a literal rendering function for those.  The bind parameter
must have an embedded literal value already or an error
is raised (i.e. won’t work with straight bindparam(‘x’)).
Dialects can also expand upon the areas where binds are not
accepted, such as within argument lists of functions
(which don’t work on MS-SQL when native SQL binding is used).</p>
<a class="changelog-reference headerlink reference internal" href="#change-b8980f5d17caec1e2e5b563b1e15b8b2">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta2-30"><span class="target" id="change-4add0a3ae9513d98fa991274564b4e51"><strong>[sql]</strong> </span><p>Added “unicode_errors” parameter to String, Unicode, etc.
Behaves like the ‘errors’ keyword argument to
the standard library’s string.decode() functions.   This flag
requires that <cite>convert_unicode</cite> is set to <cite>“force”</cite> - otherwise,
SQLAlchemy is not guaranteed to handle the task of unicode
conversion.   Note that this flag adds significant performance
overhead to row-fetching operations for backends that already
return unicode objects natively (which most DBAPIs do).  This
flag should only be used as an absolute last resort for reading
strings from a column with varied or corrupted encodings,
which only applies to databases that accept invalid encodings
in the first place (i.e. MySQL. <em>not</em> PG, Sqlite, etc.)</p>
<a class="changelog-reference headerlink reference internal" href="#change-4add0a3ae9513d98fa991274564b4e51">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta2-31"><span class="target" id="change-fd8105345e50a3b6986674cfa2db831c"><strong>[sql]</strong> </span><p>Added math negation operator support, -x.</p>
<a class="changelog-reference headerlink reference internal" href="#change-fd8105345e50a3b6986674cfa2db831c">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta2-32"><span class="target" id="change-375720ffaaf3679f497e76385994a25c"><strong>[sql]</strong> </span><p>FunctionElement subclasses are now directly executable the
same way any func.foo() construct is, with automatic
SELECT being applied when passed to execute().</p>
<a class="changelog-reference headerlink reference internal" href="#change-375720ffaaf3679f497e76385994a25c">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta2-33"><span class="target" id="change-a8e7f19cf6b70ec1d6540a17f847c531"><strong>[sql]</strong> </span><p>The “type” and “bind” keyword arguments of a func.foo()
construct are now local to “func.” constructs and are
not part of the FunctionElement base class, allowing
a “type” to be handled in a custom constructor or
class-level variable.</p>
<a class="changelog-reference headerlink reference internal" href="#change-a8e7f19cf6b70ec1d6540a17f847c531">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta2-34"><span class="target" id="change-4e51f442ae41f22cc4bff3527f97bf33"><strong>[sql]</strong> </span><p>Restored the keys() method to ResultProxy.</p>
<a class="changelog-reference headerlink reference internal" href="#change-4e51f442ae41f22cc4bff3527f97bf33">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta2-35"><span class="target" id="change-543013779b4c9e5cad66c4531f5053e0"><strong>[sql]</strong> </span><p>The type/expression system now does a more complete job
of determining the return type from an expression
as well as the adaptation of the Python operator into
a SQL operator, based on the full left/right/operator
of the given expression.  In particular
the date/time/interval system created for PostgreSQL
EXTRACT in has now been generalized into
the type system.   The previous behavior which often
occurred of an expression “column + literal” forcing
the type of “literal” to be the same as that of “column”
will now usually not occur - the type of
“literal” is first derived from the Python type of the
literal, assuming standard native Python types + date
types, before falling back to that of the known type
on the other side of the expression.  If the
“fallback” type is compatible (i.e. CHAR from String),
the literal side will use that.  TypeDecorator
types override this by default to coerce the “literal”
side unconditionally, which can be changed by implementing
the coerce_compared_value() method. Also part of.</p>
<a class="changelog-reference headerlink reference internal" href="#change-543013779b4c9e5cad66c4531f5053e0">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1647">#1647</a>, <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1683">#1683</a></p>
</p>
</li>
<li><p id="change-0.6beta2-36"><span class="target" id="change-4b04f7b3b18249863369ddef13e98ada"><strong>[sql]</strong> </span><p>Made sqlalchemy.sql.expressions.Executable part of public
API, used for any expression construct that can be sent to
execute().  FunctionElement now inherits Executable so that
it gains execution_options(), which are also propagated
to the select() that’s generated within execute().
Executable in turn subclasses _Generative which marks
any ClauseElement that supports the &#64;_generative
decorator - these may also become “public” for the benefit
of the compiler extension at some point.</p>
<a class="changelog-reference headerlink reference internal" href="#change-4b04f7b3b18249863369ddef13e98ada">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta2-37"><span class="target" id="change-e18872438ff47328adbe402a50ef19b8"><strong>[sql]</strong> </span><p>A change to the solution for - an end-user
defined bind parameter name that directly conflicts with
a column-named bind generated directly from the SET or
VALUES clause of an update/insert generates a compile error.
This reduces call counts and eliminates some cases where
undesirable name conflicts could still occur.</p>
<a class="changelog-reference headerlink reference internal" href="#change-e18872438ff47328adbe402a50ef19b8">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1579">#1579</a></p>
</p>
</li>
<li><p id="change-0.6beta2-38"><span class="target" id="change-25e52b132f46c6da5df9e4d2d1b3629e"><strong>[sql]</strong> </span><p>Column() requires a type if it has no foreign keys (this is
not new).  An error is now raised if a Column() has no type
and no foreign keys.</p>
<a class="changelog-reference headerlink reference internal" href="#change-25e52b132f46c6da5df9e4d2d1b3629e">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1705">#1705</a></p>
</p>
</li>
<li><p id="change-0.6beta2-39"><span class="target" id="change-1bd09db2f45aebf370068907a549222d"><strong>[sql]</strong> </span><p>the “scale” argument of the Numeric() type is honored when
coercing a returned floating point value into a string
on its way to Decimal - this allows accuracy to function
on SQLite, MySQL.</p>
<a class="changelog-reference headerlink reference internal" href="#change-1bd09db2f45aebf370068907a549222d">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1717">#1717</a></p>
</p>
</li>
<li><p id="change-0.6beta2-40"><span class="target" id="change-d1540ed7293cf73f522c47764b34b8db"><strong>[sql]</strong> </span><p>the copy() method of Column now copies over uninitialized
“on table attach” events.  Helps with the new declarative
“mixin” capability.</p>
<a class="changelog-reference headerlink reference internal" href="#change-d1540ed7293cf73f522c47764b34b8db">¶</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.6beta2-mysql">
<h3>mysql<a class="headerlink" href="#change-0.6beta2-mysql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6beta2-41"><span class="target" id="change-a35014255c51338d324794124dabec73"><strong>[mysql]</strong> </span><p>Fixed reflection bug whereby when COLLATE was present,
nullable flag and server defaults would not be reflected.</p>
<a class="changelog-reference headerlink reference internal" href="#change-a35014255c51338d324794124dabec73">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1655">#1655</a></p>
</p>
</li>
<li><p id="change-0.6beta2-42"><span class="target" id="change-0a377528b158add95b51614355824b86"><strong>[mysql]</strong> </span><p>Fixed reflection of TINYINT(1) “boolean” columns defined with
integer flags like UNSIGNED.</p>
<a class="changelog-reference headerlink reference internal" href="#change-0a377528b158add95b51614355824b86">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta2-43"><span class="target" id="change-c4476c66267aa9d53e5d3104352f2460"><strong>[mysql]</strong> </span><p>Further fixes for the mysql-connector dialect.</p>
<a class="changelog-reference headerlink reference internal" href="#change-c4476c66267aa9d53e5d3104352f2460">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1668">#1668</a></p>
</p>
</li>
<li><p id="change-0.6beta2-44"><span class="target" id="change-e5eef98bf3b744b814f45de869fa2400"><strong>[mysql]</strong> </span><p>Composite PK table on InnoDB where the “autoincrement” column
isn’t first will emit an explicit “KEY” phrase within
CREATE TABLE thereby avoiding errors.</p>
<a class="changelog-reference headerlink reference internal" href="#change-e5eef98bf3b744b814f45de869fa2400">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1496">#1496</a></p>
</p>
</li>
<li><p id="change-0.6beta2-45"><span class="target" id="change-eabba2ee40f19b4f83f4b62f38ac3b3e"><strong>[mysql]</strong> </span><p>Added reflection/create table support for a wide range
of MySQL keywords.</p>
<a class="changelog-reference headerlink reference internal" href="#change-eabba2ee40f19b4f83f4b62f38ac3b3e">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1634">#1634</a></p>
</p>
</li>
<li><p id="change-0.6beta2-46"><span class="target" id="change-a4024dfc8c4693eea7c02add1a5b72f4"><strong>[mysql]</strong> </span><p>Fixed import error which could occur reflecting tables on
a Windows host</p>
<a class="changelog-reference headerlink reference internal" href="#change-a4024dfc8c4693eea7c02add1a5b72f4">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1580">#1580</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.6beta2-sqlite">
<h3>sqlite<a class="headerlink" href="#change-0.6beta2-sqlite" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6beta2-47"><span class="target" id="change-686860a49e344194295bd7ddef459b1a"><strong>[sqlite]</strong> </span><p>Added “native_datetime=True” flag to create_engine().
This will cause the DATE and TIMESTAMP types to skip
all bind parameter and result row processing, under
the assumption that PARSE_DECLTYPES has been enabled
on the connection.  Note that this is not entirely
compatible with the “func.current_date()”, which
will be returned as a string.</p>
<a class="changelog-reference headerlink reference internal" href="#change-686860a49e344194295bd7ddef459b1a">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1685">#1685</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.6beta2-mssql">
<h3>mssql<a class="headerlink" href="#change-0.6beta2-mssql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6beta2-48"><span class="target" id="change-c43171d5ad2afdb8be0210f4345e7c3b"><strong>[mssql]</strong> </span><p>Re-established support for the pymssql dialect.</p>
<a class="changelog-reference headerlink reference internal" href="#change-c43171d5ad2afdb8be0210f4345e7c3b">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta2-49"><span class="target" id="change-afec227c9a875855720b6369b4193326"><strong>[mssql]</strong> </span><p>Various fixes for implicit returning, reflection,
etc. - the MS-SQL dialects aren’t quite complete
in 0.6 yet (but are close)</p>
<a class="changelog-reference headerlink reference internal" href="#change-afec227c9a875855720b6369b4193326">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta2-50"><span class="target" id="change-0541548f6903480b3a322de8c54929ce"><strong>[mssql]</strong> </span><p>Added basic support for mxODBC.</p>
<a class="changelog-reference headerlink reference internal" href="#change-0541548f6903480b3a322de8c54929ce">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1710">#1710</a></p>
</p>
</li>
<li><p id="change-0.6beta2-51"><span class="target" id="change-dba80448eeea205b1bbaec327ac1de55"><strong>[mssql]</strong> </span><p>Removed the text_as_varchar option.</p>
<a class="changelog-reference headerlink reference internal" href="#change-dba80448eeea205b1bbaec327ac1de55">¶</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.6beta2-oracle">
<h3>oracle<a class="headerlink" href="#change-0.6beta2-oracle" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6beta2-52"><span class="target" id="change-f2a132a1d5c7974e390d588eac834b3b"><strong>[oracle]</strong> </span><p>“out” parameters require a type that is supported by
cx_oracle.  An error will be raised if no cx_oracle
type can be found.</p>
<a class="changelog-reference headerlink reference internal" href="#change-f2a132a1d5c7974e390d588eac834b3b">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta2-53"><span class="target" id="change-ab6e812d286cec34322fb6829527927b"><strong>[oracle]</strong> </span><p>Oracle ‘DATE’ now does not perform any result processing,
as the DATE type in Oracle stores full date+time objects,
that’s what you’ll get.  Note that the generic types.Date
type <em>will</em> still call value.date() on incoming values,
however.  When reflecting a table, the reflected type
will be ‘DATE’.</p>
<a class="changelog-reference headerlink reference internal" href="#change-ab6e812d286cec34322fb6829527927b">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta2-54"><span class="target" id="change-62c558744df2f44f9cb4bf1ff987ce86"><strong>[oracle]</strong> </span><p>Added preliminary support for Oracle’s WITH_UNICODE
mode.  At the very least this establishes initial
support for cx_Oracle with Python 3.  When WITH_UNICODE
mode is used in Python 2.xx, a large and scary warning
is emitted asking that the user seriously consider
the usage of this difficult mode of operation.</p>
<a class="changelog-reference headerlink reference internal" href="#change-62c558744df2f44f9cb4bf1ff987ce86">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1670">#1670</a></p>
</p>
</li>
<li><p id="change-0.6beta2-55"><span class="target" id="change-774d1f88602325ba20cca6ce5c10734b"><strong>[oracle]</strong> </span><p>The except_() method now renders as MINUS on Oracle,
which is more or less equivalent on that platform.</p>
<a class="changelog-reference headerlink reference internal" href="#change-774d1f88602325ba20cca6ce5c10734b">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1712">#1712</a></p>
</p>
</li>
<li><p id="change-0.6beta2-56"><span class="target" id="change-0e995c38104f4a4175d2a741f88b12bc"><strong>[oracle]</strong> </span><p>Added support for rendering and reflecting
TIMESTAMP WITH TIME ZONE, i.e. TIMESTAMP(timezone=True).</p>
<a class="changelog-reference headerlink reference internal" href="#change-0e995c38104f4a4175d2a741f88b12bc">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/651">#651</a></p>
</p>
</li>
<li><p id="change-0.6beta2-57"><span class="target" id="change-21af7340803f01c63bb39084313092b9"><strong>[oracle]</strong> </span><p>Oracle INTERVAL type can now be reflected.</p>
<a class="changelog-reference headerlink reference internal" href="#change-21af7340803f01c63bb39084313092b9">¶</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.6beta2-misc">
<h3>misc<a class="headerlink" href="#change-0.6beta2-misc" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6beta2-58"><span class="target" id="change-30f2fc874b9df7b7d141eef33c5d2468"><strong>[py3k]</strong> </span><p>Improved the installation/test setup regarding Python 3,
now that Distribute runs on Py3k.   distribute_setup.py
is now included.  See README.py3k for Python 3 installation/
testing instructions.</p>
<a class="changelog-reference headerlink reference internal" href="#change-30f2fc874b9df7b7d141eef33c5d2468">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta2-59"><span class="target" id="change-cdd5ac4118fc526b3b6e424254f9f575"><strong>[engines]</strong> </span><p>Added an optional C extension to speed up the sql layer by
reimplementing RowProxy and the most common result processors.
The actual speedups will depend heavily on your DBAPI and
the mix of datatypes used in your tables, and can vary from
a 30% improvement to more than 200%.  It also provides a modest
(~15-20%) indirect improvement to ORM speed for large queries.
Note that it is <em>not</em> built/installed by default.
See README for installation instructions.</p>
<a class="changelog-reference headerlink reference internal" href="#change-cdd5ac4118fc526b3b6e424254f9f575">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta2-60"><span class="target" id="change-582f4dfd426b3da60af448476c0d9049"><strong>[engines]</strong> </span><p>the execution sequence pulls all rowcount/last inserted ID
info from the cursor before commit() is called on the
DBAPI connection in an “autocommit” scenario.  This helps
mxodbc with rowcount and is probably a good idea overall.</p>
<a class="changelog-reference headerlink reference internal" href="#change-582f4dfd426b3da60af448476c0d9049">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta2-61"><span class="target" id="change-8339a8f6f9f054e9871057ff44eb310b"><strong>[engines]</strong> </span><p>Opened up logging a bit such that isEnabledFor() is called
more often, so that changes to the log level for engine/pool
will be reflected on next connect.   This adds a small
amount of method call overhead.  It’s negligible and will make
life a lot easier for all those situations when logging
just happens to be configured after create_engine() is called.</p>
<a class="changelog-reference headerlink reference internal" href="#change-8339a8f6f9f054e9871057ff44eb310b">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1719">#1719</a></p>
</p>
</li>
<li><p id="change-0.6beta2-62"><span class="target" id="change-44b744d4299fe9fd0c15e0b51548c21c"><strong>[engines]</strong> </span><p>The assert_unicode flag is deprecated.  SQLAlchemy will raise
a warning in all cases where it is asked to encode a non-unicode
Python string, as well as when a Unicode or UnicodeType type
is explicitly passed a bytestring.  The String type will do nothing
for DBAPIs that already accept Python unicode objects.</p>
<a class="changelog-reference headerlink reference internal" href="#change-44b744d4299fe9fd0c15e0b51548c21c">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta2-63"><span class="target" id="change-e486cdddb6da9fcd5b78a7e384f517e3"><strong>[engines]</strong> </span><p>Bind parameters are sent as a tuple instead of a list. Some
backend drivers will not accept bind parameters as a list.</p>
<a class="changelog-reference headerlink reference internal" href="#change-e486cdddb6da9fcd5b78a7e384f517e3">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta2-64"><span class="target" id="change-31babb385ad99c9c8dfef800a188b08f"><strong>[engines]</strong> </span><p>threadlocal engine wasn’t properly closing the connection
upon close() - fixed that.</p>
<a class="changelog-reference headerlink reference internal" href="#change-31babb385ad99c9c8dfef800a188b08f">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta2-65"><span class="target" id="change-6a84cce20a490a05b2ae3aa704d0b11f"><strong>[engines]</strong> </span><p>Transaction object doesn’t rollback or commit if it isn’t
“active”, allows more accurate nesting of begin/rollback/commit.</p>
<a class="changelog-reference headerlink reference internal" href="#change-6a84cce20a490a05b2ae3aa704d0b11f">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta2-66"><span class="target" id="change-2e55f14274c2191236e3104fac4e24de"><strong>[engines]</strong> </span><p>Python unicode objects as binds result in the Unicode type,
not string, thus eliminating a certain class of unicode errors
on drivers that don’t support unicode binds.</p>
<a class="changelog-reference headerlink reference internal" href="#change-2e55f14274c2191236e3104fac4e24de">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta2-67"><span class="target" id="change-2a0cef92888b2be98785ecc9a097653c"><strong>[engines]</strong> </span><p>Added “logging_name” argument to create_engine(), Pool() constructor
as well as “pool_logging_name” argument to create_engine() which
filters down to that of Pool.   Issues the given string name
within the “name” field of logging messages instead of the default
hex identifier string.</p>
<a class="changelog-reference headerlink reference internal" href="#change-2a0cef92888b2be98785ecc9a097653c">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1555">#1555</a></p>
</p>
</li>
<li><p id="change-0.6beta2-68"><span class="target" id="change-81eacba0128286c062f03c539e3fb32a"><strong>[engines]</strong> </span><p>The visit_pool() method of Dialect is removed, and replaced with
on_connect().  This method returns a callable which receives
the raw DBAPI connection after each one is created.   The callable
is assembled into a first_connect/connect pool listener by the
connection strategy if non-None.   Provides a simpler interface
for dialects.</p>
<a class="changelog-reference headerlink reference internal" href="#change-81eacba0128286c062f03c539e3fb32a">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta2-69"><span class="target" id="change-6fb3ebb61d325e02bee2444d540be282"><strong>[engines]</strong> </span><p>StaticPool now initializes, disposes and recreates without
opening a new connection - the connection is only opened when
first requested. dispose() also works on AssertionPool now.</p>
<a class="changelog-reference headerlink reference internal" href="#change-6fb3ebb61d325e02bee2444d540be282">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1728">#1728</a></p>
</p>
</li>
<li><p id="change-0.6beta2-70"><span class="target" id="change-19e2f337ca9a7555b3e2cd9f34026221"><strong>[metadata] [ticket: 1673]</strong> </span><p>Added the ability to strip schema information when using
“tometadata” by passing “schema=None” as an argument. If schema
is not specified then the table’s schema is retained.</p>
<a class="changelog-reference headerlink reference internal" href="#change-19e2f337ca9a7555b3e2cd9f34026221">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta2-71"><span class="target" id="change-17e6d2319b8bfe217416295a2d06d196"><strong>[declarative]</strong> </span><p>DeclarativeMeta exclusively uses cls.__dict__ (not dict_)
as the source of class information; _as_declarative exclusively
uses the  dict_ passed to it as the source of class information
(which when using DeclarativeMeta is cls.__dict__).  This should
in theory make it easier for custom metaclasses to modify
the state passed into _as_declarative.</p>
<a class="changelog-reference headerlink reference internal" href="#change-17e6d2319b8bfe217416295a2d06d196">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta2-72"><span class="target" id="change-a6fb16c5b4efc1b1336ae57e0611eb05"><strong>[declarative]</strong> </span><p>declarative now accepts mixin classes directly, as a means
to provide common functional and column-based elements on
all subclasses, as well as a means to propagate a fixed
set of __table_args__ or __mapper_args__ to subclasses.
For custom combinations of __table_args__/__mapper_args__ from
an inherited mixin to local, descriptors can now be used.
New details are all up in the Declarative documentation.
Thanks to Chris Withers for putting up with my strife
on this.</p>
<a class="changelog-reference headerlink reference internal" href="#change-a6fb16c5b4efc1b1336ae57e0611eb05">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1707">#1707</a></p>
</p>
</li>
<li><p id="change-0.6beta2-73"><span class="target" id="change-712b74c929fe77fb05e228b508010508"><strong>[declarative]</strong> </span><p>the __mapper_args__ dict is copied when propagating to a subclass,
and is taken straight off the class __dict__ to avoid any
propagation from the parent.  mapper inheritance already
propagates the things you want from the parent mapper.</p>
<a class="changelog-reference headerlink reference internal" href="#change-712b74c929fe77fb05e228b508010508">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1393">#1393</a></p>
</p>
</li>
<li><p id="change-0.6beta2-74"><span class="target" id="change-cdbe265dab1874af885c1b8130cb2eee"><strong>[declarative]</strong> </span><p>An exception is raised when a single-table subclass specifies
a column that is already present on the base class.</p>
<a class="changelog-reference headerlink reference internal" href="#change-cdbe265dab1874af885c1b8130cb2eee">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1732">#1732</a></p>
</p>
</li>
<li><p id="change-0.6beta2-75"><span class="target" id="change-59b20e0d794888b5924ddb106a96ce97"><strong>[sybase]</strong> </span><p>Implemented a preliminary working dialect for Sybase,
with sub-implementations for Python-Sybase as well
as Pyodbc.  Handles table
creates/drops and basic round trip functionality.
Does not yet include reflection or comprehensive
support of unicode/special expressions/etc.</p>
<a class="changelog-reference headerlink reference internal" href="#change-59b20e0d794888b5924ddb106a96ce97">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta2-76"><span class="target" id="change-2fba82fbacb3e70a6a774aa1e8e81f74"><strong>[examples]</strong> </span><p>Changed the beaker cache example a bit to have a separate
RelationCache option for lazyload caching.  This object
does a lookup among any number of potential attributes
more efficiently by grouping several into a common structure.
Both FromCache and RelationCache are simpler individually.</p>
<a class="changelog-reference headerlink reference internal" href="#change-2fba82fbacb3e70a6a774aa1e8e81f74">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta2-77"><span class="target" id="change-e7846468739660d7e6ad96f9435b4871"><strong>[documentation]</strong> </span><p>Major cleanup work in the docs to link class, function, and
method names into the API docs.</p>
<a class="changelog-reference headerlink reference internal" href="#change-e7846468739660d7e6ad96f9435b4871">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1700">#1700</a></p>
</p>
</li>
</ul>
</div>
</div>
<div class="section" id="change-0.6beta1">
<h2 class="release-version">0.6beta1<a class="headerlink" href="#change-0.6beta1" title="Permalink to this headline">¶</a></h2>
Released: Wed Feb 03 2010<div class="section" id="change-0.6beta1-orm">
<h3>orm<a class="headerlink" href="#change-0.6beta1-orm" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6beta1-0"><span class="target" id="change-dc6ff9eba416b02d740a8dd8fcf216cb"><strong>[orm]</strong> </span><dl class="simple">
<dt>Changes to query.update() and query.delete():</dt><dd><ul>
<li><p>the ‘expire’ option on query.update() has been renamed to
‘fetch’, thus matching that of query.delete().
‘expire’ is deprecated and issues a warning.</p></li>
<li><p>query.update() and query.delete() both default to
‘evaluate’ for the synchronize strategy.</p></li>
<li><p>the ‘synchronize’ strategy for update() and delete()
raises an error on failure. There is no implicit fallback
onto “fetch”. Failure of evaluation is based on the
structure of criteria, so success/failure is deterministic
based on code structure.</p></li>
</ul>
</dd>
</dl>
<a class="changelog-reference headerlink reference internal" href="#change-dc6ff9eba416b02d740a8dd8fcf216cb">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-1"><span class="target" id="change-b0f39f3d2c314fb24db07687b5d6ce5c"><strong>[orm]</strong> </span><dl class="simple">
<dt>Enhancements on many-to-one relations:</dt><dd><ul>
<li><p>many-to-one relations now fire off a lazyload in fewer
cases, including in most cases will not fetch the “old”
value when a new one is replaced.</p></li>
<li><p>many-to-one relation to a joined-table subclass now uses
get() for a simple load (known as the “use_get”
condition), i.e. Related-&gt;Sub(Base), without the need to
redefine the primaryjoin condition in terms of the base
table.</p></li>
<li><p>specifying a foreign key with a declarative column, i.e.
ForeignKey(MyRelatedClass.id) doesn’t break the “use_get”
condition from taking place</p></li>
<li><p>relation(), eagerload(), and eagerload_all() now feature
an option called “innerjoin”. Specify <cite>True</cite> or <cite>False</cite> to
control whether an eager join is constructed as an INNER
or OUTER join. Default is <cite>False</cite> as always. The mapper
options will override whichever setting is specified on
relation(). Should generally be set for many-to-one, not
nullable foreign key relations to allow improved join
performance.</p></li>
<li><p>the behavior of eagerloading such that the main query is
wrapped in a subquery when LIMIT/OFFSET are present now
makes an exception for the case when all eager loads are
many-to-one joins. In those cases, the eager joins are
against the parent table directly along with the
limit/offset without the extra overhead of a subquery,
since a many-to-one join does not add rows to the result.</p></li>
</ul>
</dd>
</dl>
<a class="changelog-reference headerlink reference internal" href="#change-b0f39f3d2c314fb24db07687b5d6ce5c">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1186">#1186</a>, <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1492">#1492</a>, <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1544">#1544</a></p>
</p>
</li>
<li><p id="change-0.6beta1-2"><span class="target" id="change-214672957cd89d4ecddac4104c865548"><strong>[orm]</strong> </span><p>Enhancements / Changes on Session.merge():</p>
<a class="changelog-reference headerlink reference internal" href="#change-214672957cd89d4ecddac4104c865548">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-3"><span class="target" id="change-2ec8e6a30ef412d4ca9f79d541de4fd2"><strong>[orm]</strong> </span><p>the “dont_load=True” flag on Session.merge() is deprecated
and is now “load=False”.</p>
<a class="changelog-reference headerlink reference internal" href="#change-2ec8e6a30ef412d4ca9f79d541de4fd2">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-4"><span class="target" id="change-54940eafb98ef2da97a3d986ce185a1a"><strong>[orm]</strong> </span><p>Session.merge() is performance optimized, using half the
call counts for “load=False” mode compared to 0.5 and
significantly fewer SQL queries in the case of collections
for “load=True” mode.</p>
<a class="changelog-reference headerlink reference internal" href="#change-54940eafb98ef2da97a3d986ce185a1a">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-5"><span class="target" id="change-2bed1f32297bbc130f45b4d30b89c291"><strong>[orm]</strong> </span><p>merge() will not issue a needless merge of attributes if the
given instance is the same instance which is already present.</p>
<a class="changelog-reference headerlink reference internal" href="#change-2bed1f32297bbc130f45b4d30b89c291">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-6"><span class="target" id="change-2bbbf3e1665069128942de0c7eef6060"><strong>[orm]</strong> </span><p>merge() now also merges the “options” associated with a given
state, i.e. those passed through query.options() which follow
along with an instance, such as options to eagerly- or
lazyily- load various attributes.   This is essential for
the construction of highly integrated caching schemes.  This
is a subtle behavioral change vs. 0.5.</p>
<a class="changelog-reference headerlink reference internal" href="#change-2bbbf3e1665069128942de0c7eef6060">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-7"><span class="target" id="change-2a96bff0a75bb240bdfc1fd98a705c7b"><strong>[orm]</strong> </span><p>A bug was fixed regarding the serialization of the “loader
path” present on an instance’s state, which is also necessary
when combining the usage of merge() with serialized state
and associated options that should be preserved.</p>
<a class="changelog-reference headerlink reference internal" href="#change-2a96bff0a75bb240bdfc1fd98a705c7b">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-8"><span class="target" id="change-023079a39b7b68c5ea1d0a6ae57374d8"><strong>[orm]</strong> </span><p>The all new merge() is showcased in a new comprehensive
example of how to integrate Beaker with SQLAlchemy.  See
the notes in the “examples” note below.</p>
<a class="changelog-reference headerlink reference internal" href="#change-023079a39b7b68c5ea1d0a6ae57374d8">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-9"><span class="target" id="change-d92b5ce0bd2745798d570f1d7a477427"><strong>[orm]</strong> </span><p>Primary key values can now be changed on a joined-table inheritance
object, and ON UPDATE CASCADE will be taken into account when
the flush happens.  Set the new “passive_updates” flag to False
on mapper() when using SQLite or MySQL/MyISAM.</p>
<a class="changelog-reference headerlink reference internal" href="#change-d92b5ce0bd2745798d570f1d7a477427">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1362">#1362</a></p>
</p>
</li>
<li><p id="change-0.6beta1-10"><span class="target" id="change-acdcc601f3f43f3d50ffd4a7eccab5ee"><strong>[orm]</strong> </span><p>flush() now detects when a primary key column was updated by
an ON UPDATE CASCADE operation from another primary key, and
can then locate the row for a subsequent UPDATE on the new PK
value.  This occurs when a relation() is there to establish
the relationship as well as passive_updates=True.</p>
<a class="changelog-reference headerlink reference internal" href="#change-acdcc601f3f43f3d50ffd4a7eccab5ee">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1671">#1671</a></p>
</p>
</li>
<li><p id="change-0.6beta1-11"><span class="target" id="change-7885463e500d075f4f8777f53615642f"><strong>[orm]</strong> </span><p>the “save-update” cascade will now cascade the pending <em>removed</em>
values from a scalar or collection attribute into the new session
during an add() operation.  This so that the flush() operation
will also delete or modify rows of those disconnected items.</p>
<a class="changelog-reference headerlink reference internal" href="#change-7885463e500d075f4f8777f53615642f">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-12"><span class="target" id="change-77148312513d999f0abe3daa49304c4d"><strong>[orm]</strong> </span><p>Using a “dynamic” loader with a “secondary” table now produces
a query where the “secondary” table is <em>not</em> aliased.  This
allows the secondary Table object to be used in the “order_by”
attribute of the relation(), and also allows it to be used
in filter criterion against the dynamic relation.</p>
<a class="changelog-reference headerlink reference internal" href="#change-77148312513d999f0abe3daa49304c4d">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1531">#1531</a></p>
</p>
</li>
<li><p id="change-0.6beta1-13"><span class="target" id="change-5e3ba4eff181a0ee2c6a2fae40497392"><strong>[orm]</strong> </span><p>relation() with uselist=False will emit a warning when
an eager or lazy load locates more than one valid value for
the row.  This may be due to primaryjoin/secondaryjoin
conditions which aren’t appropriate for an eager LEFT OUTER
JOIN or for other conditions.</p>
<a class="changelog-reference headerlink reference internal" href="#change-5e3ba4eff181a0ee2c6a2fae40497392">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1643">#1643</a></p>
</p>
</li>
<li><p id="change-0.6beta1-14"><span class="target" id="change-928ff4154d8bca4127164af262f91d97"><strong>[orm]</strong> </span><p>an explicit check occurs when a synonym() is used with
map_column=True, when a ColumnProperty (deferred or otherwise)
exists separately in the properties dictionary sent to mapper
with the same keyname.   Instead of silently replacing
the existing property (and possible options on that property),
an error is raised.</p>
<a class="changelog-reference headerlink reference internal" href="#change-928ff4154d8bca4127164af262f91d97">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1633">#1633</a></p>
</p>
</li>
<li><p id="change-0.6beta1-15"><span class="target" id="change-07718a8de32eb50efa4fbd07e5184cb6"><strong>[orm]</strong> </span><p>a “dynamic” loader sets up its query criterion at construction
time so that the actual query is returned from non-cloning
accessors like “statement”.</p>
<a class="changelog-reference headerlink reference internal" href="#change-07718a8de32eb50efa4fbd07e5184cb6">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-16"><span class="target" id="change-9dd1e1039ec6832335cf05098fdffa0c"><strong>[orm]</strong> </span><p>the “named tuple” objects returned when iterating a
Query() are now pickleable.</p>
<a class="changelog-reference headerlink reference internal" href="#change-9dd1e1039ec6832335cf05098fdffa0c">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-17"><span class="target" id="change-06b035d8abba0f380e9761dbd450e938"><strong>[orm]</strong> </span><p>mapping to a select() construct now requires that you
make an alias() out of it distinctly.   This to eliminate
confusion over such issues as</p>
<a class="changelog-reference headerlink reference internal" href="#change-06b035d8abba0f380e9761dbd450e938">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1542">#1542</a></p>
</p>
</li>
<li><p id="change-0.6beta1-18"><span class="target" id="change-2f33bb379421251fd948d3fc38923eb1"><strong>[orm]</strong> </span><p>query.join() has been reworked to provide more consistent
behavior and more flexibility (includes)</p>
<a class="changelog-reference headerlink reference internal" href="#change-2f33bb379421251fd948d3fc38923eb1">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1537">#1537</a></p>
</p>
</li>
<li><p id="change-0.6beta1-19"><span class="target" id="change-6f2e3f51e6cb88f3cc790e88cde5f7c3"><strong>[orm]</strong> </span><p>query.select_from() accepts multiple clauses to produce
multiple comma separated entries within the FROM clause.
Useful when selecting from multiple-homed join() clauses.</p>
<a class="changelog-reference headerlink reference internal" href="#change-6f2e3f51e6cb88f3cc790e88cde5f7c3">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-20"><span class="target" id="change-0b82102fe6a1de325bd22dc40d50c613"><strong>[orm]</strong> </span><p>query.select_from() also accepts mapped classes, aliased()
constructs, and mappers as arguments.  In particular this
helps when querying from multiple joined-table classes to ensure
the full join gets rendered.</p>
<a class="changelog-reference headerlink reference internal" href="#change-0b82102fe6a1de325bd22dc40d50c613">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-21"><span class="target" id="change-3d610c09f7696ca04d48bc82efab5c5b"><strong>[orm]</strong> </span><p>query.get() can be used with a mapping to an outer join
where one or more of the primary key values are None.</p>
<a class="changelog-reference headerlink reference internal" href="#change-3d610c09f7696ca04d48bc82efab5c5b">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1135">#1135</a></p>
</p>
</li>
<li><p id="change-0.6beta1-22"><span class="target" id="change-0138642ce02e6d403c6713a13a4f9802"><strong>[orm]</strong> </span><p>query.from_self(), query.union(), others which do a
“SELECT * from (SELECT…)” type of nesting will do
a better job translating column expressions within the subquery
to the columns clause of the outer query.  This is
potentially backwards incompatible with 0.5, in that this
may break queries with literal expressions that do not have labels
applied (i.e. literal(‘foo’), etc.)</p>
<a class="changelog-reference headerlink reference internal" href="#change-0138642ce02e6d403c6713a13a4f9802">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1568">#1568</a></p>
</p>
</li>
<li><p id="change-0.6beta1-23"><span class="target" id="change-e03cf72a3995480562eafd69ef7d11f0"><strong>[orm]</strong> </span><p>relation primaryjoin and secondaryjoin now check that they
are column-expressions, not just clause elements.  this prohibits
things like FROM expressions being placed there directly.</p>
<a class="changelog-reference headerlink reference internal" href="#change-e03cf72a3995480562eafd69ef7d11f0">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1622">#1622</a></p>
</p>
</li>
<li><p id="change-0.6beta1-24"><span class="target" id="change-0469e777a8df1fc45afc3ecfd6383189"><strong>[orm]</strong> </span><p><cite>expression.null()</cite> is fully understood the same way
None is when comparing an object/collection-referencing
attribute within query.filter(), filter_by(), etc.</p>
<a class="changelog-reference headerlink reference internal" href="#change-0469e777a8df1fc45afc3ecfd6383189">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1415">#1415</a></p>
</p>
</li>
<li><p id="change-0.6beta1-25"><span class="target" id="change-9d19cad8b2bcb624aa80df1327549f23"><strong>[orm]</strong> </span><p>added “make_transient()” helper function which transforms a
persistent/ detached instance into a transient one (i.e.
deletes the instance_key and removes from any session.)</p>
<a class="changelog-reference headerlink reference internal" href="#change-9d19cad8b2bcb624aa80df1327549f23">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1052">#1052</a></p>
</p>
</li>
<li><p id="change-0.6beta1-26"><span class="target" id="change-cd19ca85ff6299764da7a16446668186"><strong>[orm]</strong> </span><p>the allow_null_pks flag on mapper() is deprecated, and
the feature is turned “on” by default.  This means that
a row which has a non-null value for any of its primary key
columns will be considered an identity.  The need for this
scenario typically only occurs when mapping to an outer join.</p>
<a class="changelog-reference headerlink reference internal" href="#change-cd19ca85ff6299764da7a16446668186">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1339">#1339</a></p>
</p>
</li>
<li><p id="change-0.6beta1-27"><span class="target" id="change-889fc60ec4cd97646ec09e69b067e826"><strong>[orm]</strong> </span><p>the mechanics of “backref” have been fully merged into the
finer grained “back_populates” system, and take place entirely
within the _generate_backref() method of RelationProperty.  This
makes the initialization procedure of RelationProperty
simpler and allows easier propagation of settings (such as from
subclasses of RelationProperty) into the reverse reference.
The internal BackRef() is gone and backref() returns a plain
tuple that is understood by RelationProperty.</p>
<a class="changelog-reference headerlink reference internal" href="#change-889fc60ec4cd97646ec09e69b067e826">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-28"><span class="target" id="change-99cae53917a87e88ac70a5d5a153cdf9"><strong>[orm]</strong> </span><p>The version_id_col feature on mapper() will raise a warning when
used with dialects that don’t support “rowcount” adequately.</p>
<a class="changelog-reference headerlink reference internal" href="#change-99cae53917a87e88ac70a5d5a153cdf9">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1569">#1569</a></p>
</p>
</li>
<li><p id="change-0.6beta1-29"><span class="target" id="change-d516d907637bb775eebd34e7ee58ed13"><strong>[orm]</strong> </span><p>added “execution_options()” to Query, to so options can be
passed to the resulting statement. Currently only
Select-statements have these options, and the only option
used is “stream_results”, and the only dialect which knows
“stream_results” is psycopg2.</p>
<a class="changelog-reference headerlink reference internal" href="#change-d516d907637bb775eebd34e7ee58ed13">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-30"><span class="target" id="change-573842e45f126bdd2938caf4c37f003e"><strong>[orm]</strong> </span><p>Query.yield_per() will set the “stream_results” statement
option automatically.</p>
<a class="changelog-reference headerlink reference internal" href="#change-573842e45f126bdd2938caf4c37f003e">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-31"><span class="target" id="change-d843edca2b75b293e8e6826030ff0227"><strong>[orm]</strong> </span><dl class="simple">
<dt>Deprecated or removed:</dt><dd><ul>
<li><p>’allow_null_pks’ flag on mapper() is deprecated.  It does
nothing now and the setting is “on” in all cases.</p></li>
<li><p>’transactional’ flag on sessionmaker() and others is
removed. Use ‘autocommit=True’ to indicate ‘transactional=False’.</p></li>
<li><p>’polymorphic_fetch’ argument on mapper() is removed.
Loading can be controlled using the ‘with_polymorphic’
option.</p></li>
<li><p>’select_table’ argument on mapper() is removed.  Use
‘with_polymorphic=(“*”, &lt;some selectable&gt;)’ for this
functionality.</p></li>
<li><p>’proxy’ argument on synonym() is removed.  This flag
did nothing throughout 0.5, as the “proxy generation”
behavior is now automatic.</p></li>
<li><p>Passing a single list of elements to eagerload(),
eagerload_all(), contains_eager(), lazyload(),
defer(), and undefer() instead of multiple positional
*args is deprecated.</p></li>
<li><p>Passing a single list of elements to query.order_by(),
query.group_by(), query.join(), or query.outerjoin()
instead of multiple positional *args is deprecated.</p></li>
<li><p>query.iterate_instances() is removed.  Use query.instances().</p></li>
<li><p>Query.query_from_parent() is removed.  Use the
sqlalchemy.orm.with_parent() function to produce a
“parent” clause, or alternatively query.with_parent().</p></li>
<li><p>query._from_self() is removed, use query.from_self()
instead.</p></li>
<li><p>the “comparator” argument to composite() is removed.
Use “comparator_factory”.</p></li>
<li><p>RelationProperty._get_join() is removed.</p></li>
<li><p>the ‘echo_uow’ flag on Session is removed.  Use
logging on the “sqlalchemy.orm.unitofwork” name.</p></li>
<li><p>session.clear() is removed.  use session.expunge_all().</p></li>
<li><p>session.save(), session.update(), session.save_or_update()
are removed.  Use session.add() and session.add_all().</p></li>
<li><p>the “objects” flag on session.flush() remains deprecated.</p></li>
<li><p>the “dont_load=True” flag on session.merge() is deprecated
in favor of “load=False”.</p></li>
<li><p>ScopedSession.mapper remains deprecated.  See the
usage recipe at
<a class="reference external" href="http://www.sqlalchemy.org/trac/wiki/UsageRecipes/SessionAwareMapper">http://www.sqlalchemy.org/trac/wiki/UsageRecipes/SessionAwareMapper</a></p></li>
<li><p>passing an InstanceState (internal SQLAlchemy state object) to
attributes.init_collection() or attributes.get_history() is
deprecated.  These functions are public API and normally
expect a regular mapped object instance.</p></li>
<li><p>the ‘engine’ parameter to declarative_base() is removed.
Use the ‘bind’ keyword argument.</p></li>
</ul>
</dd>
</dl>
<a class="changelog-reference headerlink reference internal" href="#change-d843edca2b75b293e8e6826030ff0227">¶</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.6beta1-sql">
<h3>sql<a class="headerlink" href="#change-0.6beta1-sql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6beta1-32"><span class="target" id="change-fb7c367607c59c771a13ad200c90eff3"><strong>[sql]</strong> </span><p>the “autocommit” flag on select() and text() as well
as select().autocommit() are deprecated - now call
.execution_options(autocommit=True) on either of those
constructs, also available directly on Connection and orm.Query.</p>
<a class="changelog-reference headerlink reference internal" href="#change-fb7c367607c59c771a13ad200c90eff3">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-33"><span class="target" id="change-02d9b147f287fd9766176ef94cdc13cc"><strong>[sql]</strong> </span><p>the autoincrement flag on column now indicates the column
which should be linked to cursor.lastrowid, if that method
is used.  See the API docs for details.</p>
<a class="changelog-reference headerlink reference internal" href="#change-02d9b147f287fd9766176ef94cdc13cc">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-34"><span class="target" id="change-44921036aa99c1e3663922170c206e27"><strong>[sql]</strong> </span><p>an executemany() now requires that all bound parameter
sets require that all keys are present which are
present in the first bound parameter set.  The structure
and behavior of an insert/update statement is very much
determined by the first parameter set, including which
defaults are going to fire off, and a minimum of
guesswork is performed with all the rest so that performance
is not impacted.  For this reason defaults would otherwise
silently “fail” for missing parameters, so this is now guarded
against.</p>
<a class="changelog-reference headerlink reference internal" href="#change-44921036aa99c1e3663922170c206e27">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1566">#1566</a></p>
</p>
</li>
<li><p id="change-0.6beta1-35"><span class="target" id="change-e095b275cd65347bb96a118ac93a37c4"><strong>[sql]</strong> </span><p>returning() support is native to insert(), update(),
delete(). Implementations of varying levels of
functionality exist for PostgreSQL, Firebird, MSSQL and
Oracle. returning() can be called explicitly with column
expressions which are then returned in the resultset,
usually via fetchone() or first().</p>
<p>insert() constructs will also use RETURNING implicitly to
get newly generated primary key values, if the database
version in use supports it (a version number check is
performed). This occurs if no end-user returning() was
specified.</p>
<a class="changelog-reference headerlink reference internal" href="#change-e095b275cd65347bb96a118ac93a37c4">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-36"><span class="target" id="change-8bc93521d51aa26c8f23a0d45da1f78f"><strong>[sql]</strong> </span><p>union(), intersect(), except() and other “compound” types
of statements have more consistent behavior w.r.t.
parenthesizing.   Each compound element embedded within
another will now be grouped with parenthesis - previously,
the first compound element in the list would not be grouped,
as SQLite doesn’t like a statement to start with
parenthesis.   However, PostgreSQL in particular has
precedence rules regarding INTERSECT, and it is
more consistent for parenthesis to be applied equally
to all sub-elements.   So now, the workaround for SQLite
is also what the workaround for PG was previously -
when nesting compound elements, the first one usually needs
“.alias().select()” called on it to wrap it inside
of a subquery.</p>
<a class="changelog-reference headerlink reference internal" href="#change-8bc93521d51aa26c8f23a0d45da1f78f">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1665">#1665</a></p>
</p>
</li>
<li><p id="change-0.6beta1-37"><span class="target" id="change-ddbccf30154057e0b830866c4813ff38"><strong>[sql]</strong> </span><p>insert() and update() constructs can now embed bindparam()
objects using names that match the keys of columns.  These
bind parameters will circumvent the usual route to those
keys showing up in the VALUES or SET clause of the generated
SQL.</p>
<a class="changelog-reference headerlink reference internal" href="#change-ddbccf30154057e0b830866c4813ff38">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1579">#1579</a></p>
</p>
</li>
<li><p id="change-0.6beta1-38"><span class="target" id="change-2234986f2a344f994dd47e033a358adf"><strong>[sql]</strong> </span><p>the Binary type now returns data as a Python string
(or a “bytes” type in Python 3), instead of the built-
in “buffer” type.  This allows symmetric round trips
of binary data.</p>
<a class="changelog-reference headerlink reference internal" href="#change-2234986f2a344f994dd47e033a358adf">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1524">#1524</a></p>
</p>
</li>
<li><p id="change-0.6beta1-39"><span class="target" id="change-d289821e49dd5b365135f2c232b5cf05"><strong>[sql]</strong> </span><p>Added a tuple_() construct, allows sets of expressions
to be compared to another set, typically with IN against
composite primary keys or similar.  Also accepts an
IN with multiple columns.   The “scalar select can
have only one column” error message is removed - will
rely upon the database to report problems with
col mismatch.</p>
<a class="changelog-reference headerlink reference internal" href="#change-d289821e49dd5b365135f2c232b5cf05">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-40"><span class="target" id="change-d00d40f3ec5206589179af88c62a6276"><strong>[sql]</strong> </span><p>User-defined “default” and “onupdate” callables which
accept a context should now call upon
“context.current_parameters” to get at the dictionary
of bind parameters currently being processed.  This
dict is available in the same way regardless of
single-execute or executemany-style statement execution.</p>
<a class="changelog-reference headerlink reference internal" href="#change-d00d40f3ec5206589179af88c62a6276">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-41"><span class="target" id="change-7d51e4139db389357f578e2a93a26383"><strong>[sql]</strong> </span><p>multi-part schema names, i.e. with dots such as
“dbo.master”, are now rendered in select() labels
with underscores for dots, i.e. “dbo_master_table_column”.
This is a “friendly” label that behaves better
in result sets.</p>
<a class="changelog-reference headerlink reference internal" href="#change-7d51e4139db389357f578e2a93a26383">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1428">#1428</a></p>
</p>
</li>
<li><p id="change-0.6beta1-42"><span class="target" id="change-37c425d83297ecedcb415b054cbfb50d"><strong>[sql]</strong> </span><p>removed needless “counter” behavior with select()
labelnames that match a column name in the table,
i.e. generates “tablename_id” for “id”, instead of
“tablename_id_1” in an attempt to avoid naming
conflicts, when the table has a column actually
named “tablename_id” - this is because
the labeling logic is always applied to all columns
so a naming conflict will never occur.</p>
<a class="changelog-reference headerlink reference internal" href="#change-37c425d83297ecedcb415b054cbfb50d">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-43"><span class="target" id="change-1577657989ab5d5a2f90784ad84ebc9c"><strong>[sql]</strong> </span><p>calling expr.in_([]), i.e. with an empty list, emits a warning
before issuing the usual “expr != expr” clause.  The
“expr != expr” can be very expensive, and it’s preferred
that the user not issue in_() if the list is empty,
instead simply not querying, or modifying the criterion
as appropriate for more complex situations.</p>
<a class="changelog-reference headerlink reference internal" href="#change-1577657989ab5d5a2f90784ad84ebc9c">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1628">#1628</a></p>
</p>
</li>
<li><p id="change-0.6beta1-44"><span class="target" id="change-68e1263644f8e10f85069545aa29651b"><strong>[sql]</strong> </span><p>Added “execution_options()” to select()/text(), which set the
default options for the Connection.  See the note in “engines”.</p>
<a class="changelog-reference headerlink reference internal" href="#change-68e1263644f8e10f85069545aa29651b">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-45"><span class="target" id="change-75e0f1cc822ddf23d6706587c9fff333"><strong>[sql]</strong> </span><dl class="simple">
<dt>Deprecated or removed:</dt><dd><ul>
<li><p>”scalar” flag on select() is removed, use
select.as_scalar().</p></li>
<li><p>”shortname” attribute on bindparam() is removed.</p></li>
<li><p>postgres_returning, firebird_returning flags on
insert(), update(), delete() are deprecated, use
the new returning() method.</p></li>
<li><p>fold_equivalents flag on join is deprecated (will remain
until is implemented)</p></li>
</ul>
</dd>
</dl>
<a class="changelog-reference headerlink reference internal" href="#change-75e0f1cc822ddf23d6706587c9fff333">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1131">#1131</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.6beta1-schema">
<h3>schema<a class="headerlink" href="#change-0.6beta1-schema" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6beta1-46"><span class="target" id="change-ff302fdf3eae53485eaf643550894fce"><strong>[schema]</strong> </span><p>the <cite>__contains__()</cite> method of <cite>MetaData</cite> now accepts
strings or <cite>Table</cite> objects as arguments.  If given
a <cite>Table</cite>, the argument is converted to <cite>table.key</cite> first,
i.e. “[schemaname.]&lt;tablename&gt;”</p>
<a class="changelog-reference headerlink reference internal" href="#change-ff302fdf3eae53485eaf643550894fce">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1541">#1541</a></p>
</p>
</li>
<li><p id="change-0.6beta1-47"><span class="target" id="change-a9146fbceff794c8fb5012e08c8f2197"><strong>[schema]</strong> </span><p>deprecated MetaData.connect() and
ThreadLocalMetaData.connect() have been removed - send
the “bind” attribute to bind a metadata.</p>
<a class="changelog-reference headerlink reference internal" href="#change-a9146fbceff794c8fb5012e08c8f2197">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-48"><span class="target" id="change-d414bfe8495de9441bb1bf9a225a8196"><strong>[schema]</strong> </span><p>deprecated metadata.table_iterator() method removed (use
sorted_tables)</p>
<a class="changelog-reference headerlink reference internal" href="#change-d414bfe8495de9441bb1bf9a225a8196">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-49"><span class="target" id="change-bc8dd4045ac44c12d17016986c52e8a4"><strong>[schema]</strong> </span><p>deprecated PassiveDefault - use DefaultClause.</p>
<a class="changelog-reference headerlink reference internal" href="#change-bc8dd4045ac44c12d17016986c52e8a4">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-50"><span class="target" id="change-6438f724479e0e0d1cc699f14e1cd25b"><strong>[schema]</strong> </span><p>the “metadata” argument is removed from DefaultGenerator
and subclasses, but remains locally present on Sequence,
which is a standalone construct in DDL.</p>
<a class="changelog-reference headerlink reference internal" href="#change-6438f724479e0e0d1cc699f14e1cd25b">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-51"><span class="target" id="change-1289d6e528c69ff4828bd5851baaeb61"><strong>[schema]</strong> </span><p>Removed public mutability from Index and Constraint
objects:</p>
<blockquote>
<div><ul>
<li><p>ForeignKeyConstraint.append_element()</p></li>
<li><p>Index.append_column()</p></li>
<li><p>UniqueConstraint.append_column()</p></li>
<li><p>PrimaryKeyConstraint.add()</p></li>
<li><p>PrimaryKeyConstraint.remove()</p></li>
</ul>
</div></blockquote>
<p>These should be constructed declaratively (i.e. in one
construction).</p>
<a class="changelog-reference headerlink reference internal" href="#change-1289d6e528c69ff4828bd5851baaeb61">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-52"><span class="target" id="change-ffb3a65d9b8484533b1fb233f819985e"><strong>[schema]</strong> </span><p>The “start” and “increment” attributes on Sequence now
generate “START WITH” and “INCREMENT BY” by default,
on Oracle and PostgreSQL.  Firebird doesn’t support
these keywords right now.</p>
<a class="changelog-reference headerlink reference internal" href="#change-ffb3a65d9b8484533b1fb233f819985e">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1545">#1545</a></p>
</p>
</li>
<li><p id="change-0.6beta1-53"><span class="target" id="change-a8942fa6a4323b73e46a368c718b08e8"><strong>[schema]</strong> </span><p>UniqueConstraint, Index, PrimaryKeyConstraint all accept
lists of column names or column objects as arguments.</p>
<a class="changelog-reference headerlink reference internal" href="#change-a8942fa6a4323b73e46a368c718b08e8">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-54"><span class="target" id="change-9888d956fff0bd32aa9a418e14e7df29"><strong>[schema]</strong> </span><dl class="simple">
<dt>Other removed things:</dt><dd><ul>
<li><p>Table.key (no idea what this was for)</p></li>
<li><p>Table.primary_key is not assignable - use
table.append_constraint(PrimaryKeyConstraint(…))</p></li>
<li><p>Column.bind       (get via column.table.bind)</p></li>
<li><p>Column.metadata   (get via column.table.metadata)</p></li>
<li><p>Column.sequence   (use column.default)</p></li>
<li><p>ForeignKey(constraint=some_parent) (is now private _constraint)</p></li>
</ul>
</dd>
</dl>
<a class="changelog-reference headerlink reference internal" href="#change-9888d956fff0bd32aa9a418e14e7df29">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-55"><span class="target" id="change-45384a58304926e78dbc93a8bc4bdbea"><strong>[schema]</strong> </span><p>The use_alter flag on ForeignKey is now a shortcut option
for operations that can be hand-constructed using the
DDL() event system. A side effect of this refactor is
that ForeignKeyConstraint objects with use_alter=True
will <em>not</em> be emitted on SQLite, which does not support
ALTER for foreign keys.</p>
<a class="changelog-reference headerlink reference internal" href="#change-45384a58304926e78dbc93a8bc4bdbea">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-56"><span class="target" id="change-39be51b87c7530f3281ae5dc05fc5294"><strong>[schema]</strong> </span><p>ForeignKey and ForeignKeyConstraint objects now correctly
copy() all their public keyword arguments.</p>
<a class="changelog-reference headerlink reference internal" href="#change-39be51b87c7530f3281ae5dc05fc5294">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1605">#1605</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.6beta1-postgresql">
<h3>postgresql<a class="headerlink" href="#change-0.6beta1-postgresql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6beta1-57"><span class="target" id="change-8e276ba771e1923acab769effd7fdebf"><strong>[postgresql]</strong> </span><p>New dialects: pg8000, zxjdbc, and pypostgresql
on py3k.</p>
<a class="changelog-reference headerlink reference internal" href="#change-8e276ba771e1923acab769effd7fdebf">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-58"><span class="target" id="change-0ce9ee480a5a66cb9f77e0207f6dfc70"><strong>[postgresql]</strong> </span><p>The “postgres” dialect is now named “postgresql” !
Connection strings look like:</p>
<blockquote>
<div><blockquote>
<div><p>postgresql://scott:tiger&#64;localhost/test
postgresql+pg8000://scott:tiger&#64;localhost/test</p>
</div></blockquote>
<p>The “postgres” name remains for backwards compatibility
in the following ways:</p>
<blockquote>
<div><ul>
<li><p>There is a “postgres.py” dummy dialect which
allows old URLs to work, i.e.
postgres://scott:tiger&#64;localhost/test</p></li>
<li><p>The “postgres” name can be imported from the old
“databases” module, i.e. “from
sqlalchemy.databases import postgres” as well as
“dialects”, “from sqlalchemy.dialects.postgres
import base as pg”, will send a deprecation
warning.</p></li>
<li><p>Special expression arguments are now named
“postgresql_returning” and “postgresql_where”, but
the older “postgres_returning” and
“postgres_where” names still work with a
deprecation warning.</p></li>
</ul>
</div></blockquote>
</div></blockquote>
<a class="changelog-reference headerlink reference internal" href="#change-0ce9ee480a5a66cb9f77e0207f6dfc70">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-59"><span class="target" id="change-32e87704d92335d84d218fb1a739484d"><strong>[postgresql]</strong> </span><p>“postgresql_where” now accepts SQL expressions which
can also include literals, which will be quoted as needed.</p>
<a class="changelog-reference headerlink reference internal" href="#change-32e87704d92335d84d218fb1a739484d">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-60"><span class="target" id="change-eb44c66b3b7d732aeac35e9d8ea81bdc"><strong>[postgresql]</strong> </span><p>The psycopg2 dialect now uses psycopg2’s “unicode extension”
on all new connections, which allows all String/Text/etc.
types to skip the need to post-process bytestrings into
unicode (an expensive step due to its volume).  Other
dialects which return unicode natively (pg8000, zxjdbc)
also skip unicode post-processing.</p>
<a class="changelog-reference headerlink reference internal" href="#change-eb44c66b3b7d732aeac35e9d8ea81bdc">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-61"><span class="target" id="change-38d3d336ce046ae00fc5d2a0a17fae47"><strong>[postgresql]</strong> </span><p>Added new ENUM type, which exists as a schema-level
construct and extends the generic Enum type.  Automatically
associates itself with tables and their parent metadata
to issue the appropriate CREATE TYPE/DROP TYPE
commands as needed, supports unicode labels, supports
reflection.</p>
<a class="changelog-reference headerlink reference internal" href="#change-38d3d336ce046ae00fc5d2a0a17fae47">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1511">#1511</a></p>
</p>
</li>
<li><p id="change-0.6beta1-62"><span class="target" id="change-0efdc52b41c7cbb4edde516d0cf35ebd"><strong>[postgresql]</strong> </span><p>INTERVAL supports an optional “precision” argument
corresponding to the argument that PG accepts.</p>
<a class="changelog-reference headerlink reference internal" href="#change-0efdc52b41c7cbb4edde516d0cf35ebd">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-63"><span class="target" id="change-ce8ff886d9ea060a749895bb38ba108c"><strong>[postgresql]</strong> </span><p>using new dialect.initialize() feature to set up
version-dependent behavior.</p>
<a class="changelog-reference headerlink reference internal" href="#change-ce8ff886d9ea060a749895bb38ba108c">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-64"><span class="target" id="change-525b22121367b91b5ed308272c08ce24"><strong>[postgresql]</strong> </span><p>somewhat better support for % signs in table/column names;
psycopg2 can’t handle a bind parameter name of
%(foobar)s however and SQLA doesn’t want to add overhead
just to treat that one non-existent use case.</p>
<a class="changelog-reference headerlink reference internal" href="#change-525b22121367b91b5ed308272c08ce24">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1279">#1279</a></p>
</p>
</li>
<li><p id="change-0.6beta1-65"><span class="target" id="change-4fe9c121af9d9045fdae2cb23d04a9bd"><strong>[postgresql]</strong> </span><p>Inserting NULL into a primary key + foreign key column
will allow the “not null constraint” error to raise,
not an attempt to execute a nonexistent “col_id_seq”
sequence.</p>
<a class="changelog-reference headerlink reference internal" href="#change-4fe9c121af9d9045fdae2cb23d04a9bd">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1516">#1516</a></p>
</p>
</li>
<li><p id="change-0.6beta1-66"><span class="target" id="change-cf8ec160ec789b23afbd8a5fffd65a67"><strong>[postgresql]</strong> </span><p>autoincrement SELECT statements, i.e. those which
select from a procedure that modifies rows, now work
with server-side cursor mode (the named cursor isn’t
used for such statements.)</p>
<a class="changelog-reference headerlink reference internal" href="#change-cf8ec160ec789b23afbd8a5fffd65a67">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-67"><span class="target" id="change-b98cc90c64cb3bba3ab1bda67c0d1dbd"><strong>[postgresql]</strong> </span><p>postgresql dialect can properly detect pg “devel” version
strings, i.e. “8.5devel”</p>
<a class="changelog-reference headerlink reference internal" href="#change-b98cc90c64cb3bba3ab1bda67c0d1dbd">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1636">#1636</a></p>
</p>
</li>
<li><p id="change-0.6beta1-68"><span class="target" id="change-df47fe2890dbf80af0c731002686995e"><strong>[postgresql]</strong> </span><p>The psycopg2 now respects the statement option
“stream_results”. This option overrides the connection setting
“server_side_cursors”. If true, server side cursors will be
used for the statement. If false, they will not be used, even
if “server_side_cursors” is true on the
connection.</p>
<a class="changelog-reference headerlink reference internal" href="#change-df47fe2890dbf80af0c731002686995e">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1619">#1619</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.6beta1-mysql">
<h3>mysql<a class="headerlink" href="#change-0.6beta1-mysql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6beta1-69"><span class="target" id="change-7a47739bb4cdfd029d2ad396df7e6bd3"><strong>[mysql]</strong> </span><p>New dialects: oursql, a new native dialect,
MySQL Connector/Python, a native Python port of MySQLdb,
and of course zxjdbc on Jython.</p>
<a class="changelog-reference headerlink reference internal" href="#change-7a47739bb4cdfd029d2ad396df7e6bd3">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-70"><span class="target" id="change-7f170bebdb4d3fbbf03679e858799239"><strong>[mysql]</strong> </span><p>VARCHAR/NVARCHAR will not render without a length, raises
an error before passing to MySQL.   Doesn’t impact
CAST since VARCHAR is not allowed in MySQL CAST anyway,
the dialect renders CHAR/NCHAR in those cases.</p>
<a class="changelog-reference headerlink reference internal" href="#change-7f170bebdb4d3fbbf03679e858799239">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-71"><span class="target" id="change-5a1277f6fa3da9da056c0b6ab7278415"><strong>[mysql]</strong> </span><p>all the _detect_XXX() functions now run once underneath
dialect.initialize()</p>
<a class="changelog-reference headerlink reference internal" href="#change-5a1277f6fa3da9da056c0b6ab7278415">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-72"><span class="target" id="change-3392dd5483c5d3b9c1d83017e78bf58e"><strong>[mysql]</strong> </span><p>somewhat better support for % signs in table/column names;
MySQLdb can’t handle % signs in SQL when executemany() is used,
and SQLA doesn’t want to add overhead just to treat that one
non-existent use case.</p>
<a class="changelog-reference headerlink reference internal" href="#change-3392dd5483c5d3b9c1d83017e78bf58e">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1279">#1279</a></p>
</p>
</li>
<li><p id="change-0.6beta1-73"><span class="target" id="change-5ecc352d1de84aa90c39746ab807efe1"><strong>[mysql]</strong> </span><p>the BINARY and MSBinary types now generate “BINARY” in all
cases.  Omitting the “length” parameter will generate
“BINARY” with no length.  Use BLOB to generate an unlengthed
binary column.</p>
<a class="changelog-reference headerlink reference internal" href="#change-5ecc352d1de84aa90c39746ab807efe1">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-74"><span class="target" id="change-188cc3f410c74dcfcbee1067d88343f8"><strong>[mysql]</strong> </span><p>the “quoting=’quoted’” argument to MSEnum/ENUM is deprecated.
It’s best to rely upon the automatic quoting.</p>
<a class="changelog-reference headerlink reference internal" href="#change-188cc3f410c74dcfcbee1067d88343f8">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-75"><span class="target" id="change-9857837ab57118c270956f183581049e"><strong>[mysql]</strong> </span><p>ENUM now subclasses the new generic Enum type, and also handles
unicode values implicitly, if the given labelnames are unicode
objects.</p>
<a class="changelog-reference headerlink reference internal" href="#change-9857837ab57118c270956f183581049e">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-76"><span class="target" id="change-3a5af57ac623dd1f8cfef840898452b2"><strong>[mysql]</strong> </span><p>a column of type TIMESTAMP now defaults to NULL if
“nullable=False” is not passed to Column(), and no default
is present. This is now consistent with all other types,
and in the case of TIMESTAMP explicitly renders “NULL”
due to MySQL’s “switching” of default nullability
for TIMESTAMP columns.</p>
<a class="changelog-reference headerlink reference internal" href="#change-3a5af57ac623dd1f8cfef840898452b2">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1539">#1539</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.6beta1-sqlite">
<h3>sqlite<a class="headerlink" href="#change-0.6beta1-sqlite" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6beta1-77"><span class="target" id="change-cdd833e10180536b712d6cf4e72992c4"><strong>[sqlite]</strong> </span><p>DATE, TIME and DATETIME types can now take optional storage_format
and regexp argument. storage_format can be used to store those types
using a custom string format. regexp allows to use a custom regular
expression to match string values from the database.</p>
<a class="changelog-reference headerlink reference internal" href="#change-cdd833e10180536b712d6cf4e72992c4">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-78"><span class="target" id="change-f1b7d03a6b936597bce7908effb557cc"><strong>[sqlite]</strong> </span><p>Time and DateTime types now use by a default a stricter regular
expression to match strings from the database. Use the regexp
argument if you are using data stored in a legacy format.</p>
<a class="changelog-reference headerlink reference internal" href="#change-f1b7d03a6b936597bce7908effb557cc">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-79"><span class="target" id="change-c35f7a555ea6c9d52e60250e368f50dc"><strong>[sqlite]</strong> </span><p>__legacy_microseconds__ on SQLite Time and DateTime types is not
supported anymore. You should use the storage_format argument
instead.</p>
<a class="changelog-reference headerlink reference internal" href="#change-c35f7a555ea6c9d52e60250e368f50dc">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-80"><span class="target" id="change-7158af5ebe6bfe2924688710bf9d16c4"><strong>[sqlite]</strong> </span><p>Date, Time and DateTime types are now stricter in what they accept as
bind parameters: Date type only accepts date objects (and datetime
ones, because they inherit from date), Time only accepts time
objects, and DateTime only accepts date and datetime objects.</p>
<a class="changelog-reference headerlink reference internal" href="#change-7158af5ebe6bfe2924688710bf9d16c4">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-81"><span class="target" id="change-24b4b7e7be9ca2ec058e2bb450f0cde1"><strong>[sqlite]</strong> </span><p>Table() supports a keyword argument “sqlite_autoincrement”, which
applies the SQLite keyword “AUTOINCREMENT” to the single integer
primary key column when generating DDL. Will prevent generation of
a separate PRIMARY KEY constraint.</p>
<a class="changelog-reference headerlink reference internal" href="#change-24b4b7e7be9ca2ec058e2bb450f0cde1">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1016">#1016</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.6beta1-mssql">
<h3>mssql<a class="headerlink" href="#change-0.6beta1-mssql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6beta1-82"><span class="target" id="change-57d985c44bc4a8846cafda5cde966ab5"><strong>[mssql]</strong> </span><p>MSSQL + Pyodbc + FreeTDS now works for the most part,
with possible exceptions regarding binary data as well as
unicode schema identifiers.</p>
<a class="changelog-reference headerlink reference internal" href="#change-57d985c44bc4a8846cafda5cde966ab5">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-83"><span class="target" id="change-870c7f02908eaf9dd76a606a56561da7"><strong>[mssql]</strong> </span><p>the “has_window_funcs” flag is removed. LIMIT/OFFSET
usage will use ROW NUMBER as always, and if on an older
version of SQL Server, the operation fails. The behavior
is exactly the same except the error is raised by SQL
server instead of the dialect, and no flag setting is
required to enable it.</p>
<a class="changelog-reference headerlink reference internal" href="#change-870c7f02908eaf9dd76a606a56561da7">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-84"><span class="target" id="change-83e8899feb9e875a26f54ec93b6d891e"><strong>[mssql]</strong> </span><p>the “auto_identity_insert” flag is removed. This feature
always takes effect when an INSERT statement overrides a
column that is known to have a sequence on it. As with
“has_window_funcs”, if the underlying driver doesn’t
support this, then you can’t do this operation in any
case, so there’s no point in having a flag.</p>
<a class="changelog-reference headerlink reference internal" href="#change-83e8899feb9e875a26f54ec93b6d891e">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-85"><span class="target" id="change-ce8ff886d9ea060a749895bb38ba108c"><strong>[mssql]</strong> </span><p>using new dialect.initialize() feature to set up
version-dependent behavior.</p>
<a class="changelog-reference headerlink reference internal" href="#change-ce8ff886d9ea060a749895bb38ba108c">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-86"><span class="target" id="change-23bb79f6af16be836727eca4716407b3"><strong>[mssql]</strong> </span><p>removed references to sequence which is no longer used.
implicit identities in mssql work the same as implicit
sequences on any other dialects. Explicit sequences are
enabled through the use of “default=Sequence()”. See
the MSSQL dialect documentation for more information.</p>
<a class="changelog-reference headerlink reference internal" href="#change-23bb79f6af16be836727eca4716407b3">¶</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.6beta1-oracle">
<h3>oracle<a class="headerlink" href="#change-0.6beta1-oracle" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6beta1-87"><span class="target" id="change-113b8b0993a9fa2dc0b7edd4704fbb42"><strong>[oracle]</strong> </span><p>unit tests pass 100% with cx_oracle !</p>
<a class="changelog-reference headerlink reference internal" href="#change-113b8b0993a9fa2dc0b7edd4704fbb42">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-88"><span class="target" id="change-ab3ce587a20ea73535ae07213b287bd2"><strong>[oracle]</strong> </span><p>support for cx_Oracle’s “native unicode” mode which does
not require NLS_LANG to be set. Use the latest 5.0.2 or
later of cx_oracle.</p>
<a class="changelog-reference headerlink reference internal" href="#change-ab3ce587a20ea73535ae07213b287bd2">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-89"><span class="target" id="change-b2948a9f95dde029f129261698424123"><strong>[oracle]</strong> </span><p>an NCLOB type is added to the base types.</p>
<a class="changelog-reference headerlink reference internal" href="#change-b2948a9f95dde029f129261698424123">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-90"><span class="target" id="change-7ca8af81feacfd6b9f2ce42f5828e1a4"><strong>[oracle]</strong> </span><p>use_ansi=False won’t leak into the FROM/WHERE clause of
a statement that’s selecting from a subquery that also
uses JOIN/OUTERJOIN.</p>
<a class="changelog-reference headerlink reference internal" href="#change-7ca8af81feacfd6b9f2ce42f5828e1a4">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-91"><span class="target" id="change-393f3fb1ddbce4735e553646ae6233f1"><strong>[oracle]</strong> </span><p>added native INTERVAL type to the dialect.  This supports
only the DAY TO SECOND interval type so far due to lack
of support in cx_oracle for YEAR TO MONTH.</p>
<a class="changelog-reference headerlink reference internal" href="#change-393f3fb1ddbce4735e553646ae6233f1">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1467">#1467</a></p>
</p>
</li>
<li><p id="change-0.6beta1-92"><span class="target" id="change-0991def0de5a17cae52ca7d4d7bc71fe"><strong>[oracle]</strong> </span><p>usage of the CHAR type results in cx_oracle’s
FIXED_CHAR dbapi type being bound to statements.</p>
<a class="changelog-reference headerlink reference internal" href="#change-0991def0de5a17cae52ca7d4d7bc71fe">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-93"><span class="target" id="change-17dc85d30f2488fe7b6895a6e18faf2d"><strong>[oracle]</strong> </span><p>the Oracle dialect now features NUMBER which intends
to act justlike Oracle’s NUMBER type.  It is the primary
numeric type returned by table reflection and attempts
to return Decimal()/float/int based on the precision/scale
parameters.</p>
<a class="changelog-reference headerlink reference internal" href="#change-17dc85d30f2488fe7b6895a6e18faf2d">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/885">#885</a></p>
</p>
</li>
<li><p id="change-0.6beta1-94"><span class="target" id="change-96d06864792feffb4a6a52695b5756ef"><strong>[oracle]</strong> </span><p>func.char_length is a generic function for LENGTH</p>
<a class="changelog-reference headerlink reference internal" href="#change-96d06864792feffb4a6a52695b5756ef">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-95"><span class="target" id="change-8736cc2e4e76ced8e037e0353686bc90"><strong>[oracle]</strong> </span><p>ForeignKey() which includes onupdate=&lt;value&gt; will emit a
warning, not emit ON UPDATE CASCADE which is unsupported
by oracle</p>
<a class="changelog-reference headerlink reference internal" href="#change-8736cc2e4e76ced8e037e0353686bc90">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-96"><span class="target" id="change-f427ca1185fb9a016f0a48f421816d0d"><strong>[oracle]</strong> </span><p>the keys() method of RowProxy() now returns the result
column names <em>normalized</em> to be SQLAlchemy case
insensitive names. This means they will be lower case for
case insensitive names, whereas the DBAPI would normally
return them as UPPERCASE names. This allows row keys() to
be compatible with further SQLAlchemy operations.</p>
<a class="changelog-reference headerlink reference internal" href="#change-f427ca1185fb9a016f0a48f421816d0d">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-97"><span class="target" id="change-ce8ff886d9ea060a749895bb38ba108c"><strong>[oracle]</strong> </span><p>using new dialect.initialize() feature to set up
version-dependent behavior.</p>
<a class="changelog-reference headerlink reference internal" href="#change-ce8ff886d9ea060a749895bb38ba108c">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-98"><span class="target" id="change-695adf4c5253eb83c2d4d5bd3288f373"><strong>[oracle]</strong> </span><p>using types.BigInteger with Oracle will generate
NUMBER(19)</p>
<a class="changelog-reference headerlink reference internal" href="#change-695adf4c5253eb83c2d4d5bd3288f373">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1125">#1125</a></p>
</p>
</li>
<li><p id="change-0.6beta1-99"><span class="target" id="change-10e463fe98ba913938ae4afeb008d31f"><strong>[oracle]</strong> </span><p>“case sensitivity” feature will detect an all-lowercase
case-sensitive column name during reflect and add
“quote=True” to the generated Column, so that proper
quoting is maintained.</p>
<a class="changelog-reference headerlink reference internal" href="#change-10e463fe98ba913938ae4afeb008d31f">¶</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.6beta1-firebird">
<h3>firebird<a class="headerlink" href="#change-0.6beta1-firebird" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6beta1-100"><span class="target" id="change-f427ca1185fb9a016f0a48f421816d0d"><strong>[firebird]</strong> </span><p>the keys() method of RowProxy() now returns the result
column names <em>normalized</em> to be SQLAlchemy case
insensitive names. This means they will be lower case for
case insensitive names, whereas the DBAPI would normally
return them as UPPERCASE names. This allows row keys() to
be compatible with further SQLAlchemy operations.</p>
<a class="changelog-reference headerlink reference internal" href="#change-f427ca1185fb9a016f0a48f421816d0d">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-101"><span class="target" id="change-ce8ff886d9ea060a749895bb38ba108c"><strong>[firebird]</strong> </span><p>using new dialect.initialize() feature to set up
version-dependent behavior.</p>
<a class="changelog-reference headerlink reference internal" href="#change-ce8ff886d9ea060a749895bb38ba108c">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-102"><span class="target" id="change-10e463fe98ba913938ae4afeb008d31f"><strong>[firebird]</strong> </span><p>“case sensitivity” feature will detect an all-lowercase
case-sensitive column name during reflect and add
“quote=True” to the generated Column, so that proper
quoting is maintained.</p>
<a class="changelog-reference headerlink reference internal" href="#change-10e463fe98ba913938ae4afeb008d31f">¶</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.6beta1-misc">
<h3>misc<a class="headerlink" href="#change-0.6beta1-misc" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.6beta1-103"><span class="target" id="change-374d89c5dff54be911662891a3cd65da"><strong>[major] [release]</strong> </span><p>For the full set of feature descriptions, see
<a class="reference external" href="http://docs.sqlalchemy.org/en/latest/changelog/migration_06.html">http://docs.sqlalchemy.org/en/latest/changelog/migration_06.html</a> .
This document is a work in progress.</p>
<a class="changelog-reference headerlink reference internal" href="#change-374d89c5dff54be911662891a3cd65da">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-104"><span class="target" id="change-dca0b8a1f7cb8e1b45d9da364f11087f"><strong>[major] [release]</strong> </span><p>All bug fixes and feature enhancements from the most
recent 0.5 version and below are also included within 0.6.</p>
<a class="changelog-reference headerlink reference internal" href="#change-dca0b8a1f7cb8e1b45d9da364f11087f">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-105"><span class="target" id="change-7001ff18ae62ae8b4d16f9e25afcedbc"><strong>[major] [release]</strong> </span><p>Platforms targeted now include Python 2.4/2.5/2.6, Python
3.1, Jython2.5.</p>
<a class="changelog-reference headerlink reference internal" href="#change-7001ff18ae62ae8b4d16f9e25afcedbc">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-106"><span class="target" id="change-58e8499ff9cfdf3231dcf8c076a480fb"><strong>[engines]</strong> </span><p>transaction isolation level may be specified with
create_engine(… isolation_level=”…”); available on
postgresql and sqlite.</p>
<a class="changelog-reference headerlink reference internal" href="#change-58e8499ff9cfdf3231dcf8c076a480fb">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/443">#443</a></p>
</p>
</li>
<li><p id="change-0.6beta1-107"><span class="target" id="change-ff2e47b0d631ce1a4cf0a598c8f24df2"><strong>[engines]</strong> </span><p>Connection has execution_options(), generative method
which accepts keywords that affect how the statement
is executed w.r.t. the DBAPI.   Currently supports
“stream_results”, causes psycopg2 to use a server
side cursor for that statement, as well as
“autocommit”, which is the new location for the “autocommit”
option from select() and text().   select() and
text() also have .execution_options() as well as
ORM Query().</p>
<a class="changelog-reference headerlink reference internal" href="#change-ff2e47b0d631ce1a4cf0a598c8f24df2">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-108"><span class="target" id="change-e139a9a5cd97f4d218b570024523f623"><strong>[engines]</strong> </span><p>fixed the import for entrypoint-driven dialects to
not rely upon silly tb_info trick to determine import
error status.</p>
<a class="changelog-reference headerlink reference internal" href="#change-e139a9a5cd97f4d218b570024523f623">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1630">#1630</a></p>
</p>
</li>
<li><p id="change-0.6beta1-109"><span class="target" id="change-90c8f734ee1abef927dbda0035beb0a0"><strong>[engines]</strong> </span><p>added first() method to ResultProxy, returns first row and
closes result set immediately.</p>
<a class="changelog-reference headerlink reference internal" href="#change-90c8f734ee1abef927dbda0035beb0a0">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-110"><span class="target" id="change-9dbc573a39f6fcf29d1f3dd9858ce826"><strong>[engines]</strong> </span><p>RowProxy objects are now pickleable, i.e. the object returned
by result.fetchone(), result.fetchall() etc.</p>
<a class="changelog-reference headerlink reference internal" href="#change-9dbc573a39f6fcf29d1f3dd9858ce826">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-111"><span class="target" id="change-558e9b15b66e5afa84cb889e23f27300"><strong>[engines]</strong> </span><p>RowProxy no longer has a close() method, as the row no longer
maintains a reference to the parent.  Call close() on
the parent ResultProxy instead, or use autoclose.</p>
<a class="changelog-reference headerlink reference internal" href="#change-558e9b15b66e5afa84cb889e23f27300">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-112"><span class="target" id="change-ec1f0e67ce08a7a3f706dce2d3fbfae6"><strong>[engines]</strong> </span><p>ResultProxy internals have been overhauled to greatly reduce
method call counts when fetching columns.  Can provide a large
speed improvement (up to more than 100%) when fetching large
result sets.  The improvement is larger when fetching columns
that have no type-level processing applied and when using
results as tuples (instead of as dictionaries).  Many
thanks to Elixir’s Gaëtan de Menten for this dramatic
improvement !</p>
<a class="changelog-reference headerlink reference internal" href="#change-ec1f0e67ce08a7a3f706dce2d3fbfae6">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1586">#1586</a></p>
</p>
</li>
<li><p id="change-0.6beta1-113"><span class="target" id="change-647fd2ee66339752a6882b790cad9b87"><strong>[engines]</strong> </span><p>Databases which rely upon postfetch of “last inserted id”
to get at a generated sequence value (i.e. MySQL, MS-SQL)
now work correctly when there is a composite primary key
where the “autoincrement” column is not the first primary
key column in the table.</p>
<a class="changelog-reference headerlink reference internal" href="#change-647fd2ee66339752a6882b790cad9b87">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-114"><span class="target" id="change-ab905cc7be5146eb11d1c1de8bd07df9"><strong>[engines]</strong> </span><p>the last_inserted_ids() method has been renamed to the
descriptor “inserted_primary_key”.</p>
<a class="changelog-reference headerlink reference internal" href="#change-ab905cc7be5146eb11d1c1de8bd07df9">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-115"><span class="target" id="change-2687369260aafbe26535c7f07241f7df"><strong>[engines]</strong> </span><p>setting echo=False on create_engine() now sets the loglevel
to WARN instead of NOTSET.  This so that logging can be
disabled for a particular engine even if logging
for “sqlalchemy.engine” is enabled overall.  Note that the
default setting of “echo” is <cite>None</cite>.</p>
<a class="changelog-reference headerlink reference internal" href="#change-2687369260aafbe26535c7f07241f7df">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1554">#1554</a></p>
</p>
</li>
<li><p id="change-0.6beta1-116"><span class="target" id="change-17f0cb7bf2b9ebfb365311e17d0bd7f4"><strong>[engines]</strong> </span><p>ConnectionProxy now has wrapper methods for all transaction
lifecycle events, including begin(), rollback(), commit()
begin_nested(), begin_prepared(), prepare(), release_savepoint(),
etc.</p>
<a class="changelog-reference headerlink reference internal" href="#change-17f0cb7bf2b9ebfb365311e17d0bd7f4">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-117"><span class="target" id="change-1fe7fc3f57be368cd7f20fa804fa9056"><strong>[engines]</strong> </span><p>Connection pool logging now uses both INFO and DEBUG
log levels for logging.  INFO is for major events such
as invalidated connections, DEBUG for all the acquire/return
logging.  <cite>echo_pool</cite> can be False, None, True or “debug”
the same way as <cite>echo</cite> works.</p>
<a class="changelog-reference headerlink reference internal" href="#change-1fe7fc3f57be368cd7f20fa804fa9056">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-118"><span class="target" id="change-76cd53cd2b1cfd0a85a475a50a5f2ea3"><strong>[engines]</strong> </span><p>All pyodbc-dialects now support extra pyodbc-specific
kw arguments ‘ansi’, ‘unicode_results’, ‘autocommit’.</p>
<a class="changelog-reference headerlink reference internal" href="#change-76cd53cd2b1cfd0a85a475a50a5f2ea3">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1621">#1621</a></p>
</p>
</li>
<li><p id="change-0.6beta1-119"><span class="target" id="change-9b7a4ecd72a4dc2579674f3e678873ff"><strong>[engines]</strong> </span><p>the “threadlocal” engine has been rewritten and simplified
and now supports SAVEPOINT operations.</p>
<a class="changelog-reference headerlink reference internal" href="#change-9b7a4ecd72a4dc2579674f3e678873ff">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-120"><span class="target" id="change-1adc08ecf95db03925768081293804a4"><strong>[engines]</strong> </span><dl class="simple">
<dt>deprecated or removed</dt><dd><ul>
<li><p>result.last_inserted_ids() is deprecated.  Use
result.inserted_primary_key</p></li>
<li><p>dialect.get_default_schema_name(connection) is now
public via dialect.default_schema_name.</p></li>
<li><p>the “connection” argument from engine.transaction() and
engine.run_callable() is removed - Connection itself
now has those methods.   All four methods accept
*args and **kwargs which are passed to the given callable,
as well as the operating connection.</p></li>
</ul>
</dd>
</dl>
<a class="changelog-reference headerlink reference internal" href="#change-1adc08ecf95db03925768081293804a4">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-121"><span class="target" id="change-fe9d3b373816dc2ba59fe43fa591d219"><strong>[reflection/inspection]</strong> </span><p>Table reflection has been expanded and generalized into
a new API called “sqlalchemy.engine.reflection.Inspector”.
The Inspector object provides fine-grained information about
a wide variety of schema information, with room for expansion,
including table names, column names, view definitions, sequences,
indexes, etc.</p>
<a class="changelog-reference headerlink reference internal" href="#change-fe9d3b373816dc2ba59fe43fa591d219">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-122"><span class="target" id="change-66a10b68814b0d202a3f73d3abaad4c7"><strong>[reflection/inspection]</strong> </span><p>Views are now reflectable as ordinary Table objects.  The same
Table constructor is used, with the caveat that “effective”
primary and foreign key constraints aren’t part of the reflection
results; these have to be specified explicitly if desired.</p>
<a class="changelog-reference headerlink reference internal" href="#change-66a10b68814b0d202a3f73d3abaad4c7">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-123"><span class="target" id="change-7d9c40c47ab45cde78a91ac3f513b242"><strong>[reflection/inspection]</strong> </span><p>The existing autoload=True system now uses Inspector underneath
so that each dialect need only return “raw” data about tables
and other objects - Inspector is the single place that information
is compiled into Table objects so that consistency is at a maximum.</p>
<a class="changelog-reference headerlink reference internal" href="#change-7d9c40c47ab45cde78a91ac3f513b242">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-124"><span class="target" id="change-a6a9a63e0053aafa663dea40ade905f0"><strong>[ddl]</strong> </span><p>the DDL system has been greatly expanded.  the DDL() class
now extends the more generic DDLElement(), which forms the basis
of many new constructs:</p>
<blockquote>
<div><blockquote>
<div><ul>
<li><p>CreateTable()</p></li>
<li><p>DropTable()</p></li>
<li><p>AddConstraint()</p></li>
<li><p>DropConstraint()</p></li>
<li><p>CreateIndex()</p></li>
<li><p>DropIndex()</p></li>
<li><p>CreateSequence()</p></li>
<li><p>DropSequence()</p></li>
</ul>
</div></blockquote>
<p>These support “on” and “execute-at()” just like plain DDL()
does.  User-defined DDLElement subclasses can be created and
linked to a compiler using the sqlalchemy.ext.compiler extension.</p>
</div></blockquote>
<a class="changelog-reference headerlink reference internal" href="#change-a6a9a63e0053aafa663dea40ade905f0">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-125"><span class="target" id="change-5db087b2333b39be3609cd5ea92c38fe"><strong>[ddl]</strong> </span><p>The signature of the “on” callable passed to DDL() and
DDLElement() is revised as follows:</p>
<blockquote>
<div><dl class="simple">
<dt>ddl</dt><dd><p>the DDLElement object itself</p>
</dd>
<dt>event</dt><dd><p>the string event name.</p>
</dd>
<dt>target</dt><dd><p>previously “schema_item”, the Table or MetaData object triggering the event.</p>
</dd>
<dt>connection</dt><dd><p>the Connection object in use for the operation.</p>
</dd>
<dt>**kw</dt><dd><p>keyword arguments.  In the case of MetaData before/after
create/drop, the list of Table objects for which
CREATE/DROP DDL is to be issued is passed as the kw
argument “tables”. This is necessary for metadata-level
DDL that is dependent on the presence of specific tables.</p>
</dd>
</dl>
</div></blockquote>
<dl class="simple">
<dt>The “schema_item” attribute of DDL has been renamed to</dt><dd><p>”target”.</p>
</dd>
</dl>
<a class="changelog-reference headerlink reference internal" href="#change-5db087b2333b39be3609cd5ea92c38fe">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-126"><span class="target" id="change-309ea6a05094c41ff3447b7aeb64cd22"><strong>[dialect] [refactor]</strong> </span><p>Dialect modules are now broken into database dialects
plus DBAPI implementations. Connect URLs are now
preferred to be specified using dialect+driver://…,
i.e. “mysql+mysqldb://scott:tiger&#64;localhost/test”. See
the 0.6 documentation for examples.</p>
<a class="changelog-reference headerlink reference internal" href="#change-309ea6a05094c41ff3447b7aeb64cd22">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-127"><span class="target" id="change-c50c8d68a80a22e1cace4b16d0b405e1"><strong>[dialect] [refactor]</strong> </span><p>the setuptools entrypoint for external dialects is now
called “sqlalchemy.dialects”.</p>
<a class="changelog-reference headerlink reference internal" href="#change-c50c8d68a80a22e1cace4b16d0b405e1">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-128"><span class="target" id="change-4dda1aa78046eb29914b005241fb0eb6"><strong>[dialect] [refactor]</strong> </span><p>the “owner” keyword argument is removed from Table. Use
“schema” to represent any namespaces to be prepended to
the table name.</p>
<a class="changelog-reference headerlink reference internal" href="#change-4dda1aa78046eb29914b005241fb0eb6">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-129"><span class="target" id="change-20dfe96a61f245f370f47bd3d9e28791"><strong>[dialect] [refactor]</strong> </span><p>server_version_info becomes a static attribute.</p>
<a class="changelog-reference headerlink reference internal" href="#change-20dfe96a61f245f370f47bd3d9e28791">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-130"><span class="target" id="change-d886ab16ae25f489620c28fd52a6a00a"><strong>[dialect] [refactor]</strong> </span><p>dialects receive an initialize() event on initial
connection to determine connection properties.</p>
<a class="changelog-reference headerlink reference internal" href="#change-d886ab16ae25f489620c28fd52a6a00a">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-131"><span class="target" id="change-4861423f4ff36544dc83545d48d8523d"><strong>[dialect] [refactor]</strong> </span><p>dialects receive a visit_pool event have an opportunity
to establish pool listeners.</p>
<a class="changelog-reference headerlink reference internal" href="#change-4861423f4ff36544dc83545d48d8523d">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-132"><span class="target" id="change-77a8bc1484dc353cc24fd4772244f757"><strong>[dialect] [refactor]</strong> </span><p>cached TypeEngine classes are cached per-dialect class
instead of per-dialect.</p>
<a class="changelog-reference headerlink reference internal" href="#change-77a8bc1484dc353cc24fd4772244f757">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-133"><span class="target" id="change-4ad2b7d81680c7f34705e3613b7e36fb"><strong>[dialect] [refactor]</strong> </span><p>new UserDefinedType should be used as a base class for
new types, which preserves the 0.5 behavior of
get_col_spec().</p>
<a class="changelog-reference headerlink reference internal" href="#change-4ad2b7d81680c7f34705e3613b7e36fb">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-134"><span class="target" id="change-461c903cb377ff8681ec08be16613ab4"><strong>[dialect] [refactor]</strong> </span><p>The result_processor() method of all type classes now
accepts a second argument “coltype”, which is the DBAPI
type argument from cursor.description.  This argument
can help some types decide on the most efficient processing
of result values.</p>
<a class="changelog-reference headerlink reference internal" href="#change-461c903cb377ff8681ec08be16613ab4">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-135"><span class="target" id="change-99c23fa8c33e3f526d98bf39d26e3f0f"><strong>[dialect] [refactor]</strong> </span><p>Deprecated Dialect.get_params() removed.</p>
<a class="changelog-reference headerlink reference internal" href="#change-99c23fa8c33e3f526d98bf39d26e3f0f">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-136"><span class="target" id="change-6ada9c457b2d323fc3c2bd369bf4e07b"><strong>[dialect] [refactor]</strong> </span><p>Dialect.get_rowcount() has been renamed to a descriptor
“rowcount”, and calls cursor.rowcount directly. Dialects
which need to hardwire a rowcount in for certain calls
should override the method to provide different behavior.</p>
<a class="changelog-reference headerlink reference internal" href="#change-6ada9c457b2d323fc3c2bd369bf4e07b">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-137"><span class="target" id="change-c02c74322d7c1ece9af8ad1704c033e1"><strong>[dialect] [refactor]</strong> </span><p>DefaultRunner and subclasses have been removed.  The job
of this object has been simplified and moved into
ExecutionContext.  Dialects which support sequences should
add a <cite>fire_sequence()</cite> method to their execution context
implementation.</p>
<a class="changelog-reference headerlink reference internal" href="#change-c02c74322d7c1ece9af8ad1704c033e1">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1566">#1566</a></p>
</p>
</li>
<li><p id="change-0.6beta1-138"><span class="target" id="change-e3eaf58468be38fd781277edac3a7140"><strong>[dialect] [refactor]</strong> </span><p>Functions and operators generated by the compiler now use
(almost) regular dispatch functions of the form
“visit_&lt;opname&gt;” and “visit_&lt;funcname&gt;_fn” to provide
customed processing. This replaces the need to copy the
“functions” and “operators” dictionaries in compiler
subclasses with straightforward visitor methods, and also
allows compiler subclasses complete control over
rendering, as the full _Function or _BinaryExpression
object is passed in.</p>
<a class="changelog-reference headerlink reference internal" href="#change-e3eaf58468be38fd781277edac3a7140">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-139"><span class="target" id="change-7074e3d7c0f7233a8b5e8bacdb068ad6"><strong>[types]</strong> </span><p>The construction of types within dialects has been totally
overhauled.  Dialects now define publicly available types
as UPPERCASE names exclusively, and internal implementation
types using underscore identifiers (i.e. are private).
The system by which types are expressed in SQL and DDL
has been moved to the compiler system.  This has the
effect that there are much fewer type objects within
most dialects. A detailed document on this architecture
for dialect authors is in
lib/sqlalchemy/dialects/type_migration_guidelines.txt .</p>
<a class="changelog-reference headerlink reference internal" href="#change-7074e3d7c0f7233a8b5e8bacdb068ad6">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-140"><span class="target" id="change-a1738683c3d87b598a5a039c7faed0e0"><strong>[types]</strong> </span><p>Types no longer make any guesses as to default
parameters. In particular, Numeric, Float, NUMERIC,
FLOAT, DECIMAL don’t generate any length or scale unless
specified.</p>
<a class="changelog-reference headerlink reference internal" href="#change-a1738683c3d87b598a5a039c7faed0e0">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-141"><span class="target" id="change-0e50f446360f471e031c78a9fef201a3"><strong>[types]</strong> </span><p>types.Binary is renamed to types.LargeBinary, it only
produces BLOB, BYTEA, or a similar “long binary” type.
New base BINARY and VARBINARY
types have been added to access these MySQL/MS-SQL specific
types in an agnostic way.</p>
<a class="changelog-reference headerlink reference internal" href="#change-0e50f446360f471e031c78a9fef201a3">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1664">#1664</a></p>
</p>
</li>
<li><p id="change-0.6beta1-142"><span class="target" id="change-236aba55b2dc30a153e666c8d4fc745f"><strong>[types]</strong> </span><p>String/Text/Unicode types now skip the unicode() check
on each result column value if the dialect has
detected the DBAPI as returning Python unicode objects
natively.  This check is issued on first connect
using “SELECT CAST ‘some text’ AS VARCHAR(10)” or
equivalent, then checking if the returned object
is a Python unicode.   This allows vast performance
increases for native-unicode DBAPIs, including
pysqlite/sqlite3, psycopg2, and pg8000.</p>
<a class="changelog-reference headerlink reference internal" href="#change-236aba55b2dc30a153e666c8d4fc745f">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-143"><span class="target" id="change-48d0f246a76fcd18e2d43a473beab4ba"><strong>[types]</strong> </span><p>Most types result processors have been checked for possible speed
improvements. Specifically, the following generic types have been
optimized, resulting in varying speed improvements:
Unicode, PickleType, Interval, TypeDecorator, Binary.
Also the following dbapi-specific implementations have been improved:
Time, Date and DateTime on Sqlite, ARRAY on PostgreSQL,
Time on MySQL, Numeric(as_decimal=False) on MySQL, oursql and
pypostgresql, DateTime on cx_oracle and LOB-based types on cx_oracle.</p>
<a class="changelog-reference headerlink reference internal" href="#change-48d0f246a76fcd18e2d43a473beab4ba">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-144"><span class="target" id="change-9d4508b066c6e6fd68af58a2488b24a6"><strong>[types]</strong> </span><p>Reflection of types now returns the exact UPPERCASE
type within types.py, or the UPPERCASE type within
the dialect itself if the type is not a standard SQL
type.  This means reflection now returns more accurate
information about reflected types.</p>
<a class="changelog-reference headerlink reference internal" href="#change-9d4508b066c6e6fd68af58a2488b24a6">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-145"><span class="target" id="change-7ac9dceee42e42dc8a5c9472df0e1d2a"><strong>[types]</strong> </span><p>Added a new Enum generic type. Enum is a schema-aware object
to support databases which require specific DDL in order to
use enum or equivalent; in the case of PG it handles the
details of <cite>CREATE TYPE</cite>, and on other databases without
native enum support will by generate VARCHAR + an inline CHECK
constraint to enforce the enum.</p>
<a class="changelog-reference headerlink reference internal" href="#change-7ac9dceee42e42dc8a5c9472df0e1d2a">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1109">#1109</a>, <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1511">#1511</a></p>
</p>
</li>
<li><p id="change-0.6beta1-146"><span class="target" id="change-ab51cd0f5146920fb998f5c5a93cabdd"><strong>[types]</strong> </span><p>The Interval type includes a “native” flag which controls
if native INTERVAL types (postgresql + oracle) are selected
if available, or not.  “day_precision” and “second_precision”
arguments are also added which propagate as appropriately
to these native types. Related to.</p>
<a class="changelog-reference headerlink reference internal" href="#change-ab51cd0f5146920fb998f5c5a93cabdd">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1467">#1467</a></p>
</p>
</li>
<li><p id="change-0.6beta1-147"><span class="target" id="change-26f9fec07b187541c0098597a7197ff8"><strong>[types]</strong> </span><p>The Boolean type, when used on a backend that doesn’t
have native boolean support, will generate a CHECK
constraint “col IN (0, 1)” along with the int/smallint-
based column type.  This can be switched off if
desired with create_constraint=False.
Note that MySQL has no native boolean <em>or</em> CHECK constraint
support so this feature isn’t available on that platform.</p>
<a class="changelog-reference headerlink reference internal" href="#change-26f9fec07b187541c0098597a7197ff8">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1589">#1589</a></p>
</p>
</li>
<li><p id="change-0.6beta1-148"><span class="target" id="change-bbd25c78a1c3340579717367777509bc"><strong>[types]</strong> </span><p>PickleType now uses == for comparison of values when
mutable=True, unless the “comparator” argument with a
comparison function is specified to the type. Objects
being pickled will be compared based on identity (which
defeats the purpose of mutable=True) if __eq__() is not
overridden or a comparison function is not provided.</p>
<a class="changelog-reference headerlink reference internal" href="#change-bbd25c78a1c3340579717367777509bc">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-149"><span class="target" id="change-23a61cc6adace380c1a9e342d1174c32"><strong>[types]</strong> </span><p>The default “precision” and “scale” arguments of Numeric
and Float have been removed and now default to None.
NUMERIC and FLOAT will be rendered with no numeric
arguments by default unless these values are provided.</p>
<a class="changelog-reference headerlink reference internal" href="#change-23a61cc6adace380c1a9e342d1174c32">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-150"><span class="target" id="change-d18a18e76aea7383243090429523e54c"><strong>[types]</strong> </span><p>AbstractType.get_search_list() is removed - the games
that was used for are no longer necessary.</p>
<a class="changelog-reference headerlink reference internal" href="#change-d18a18e76aea7383243090429523e54c">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-151"><span class="target" id="change-d76a27861917c6bf030a837acf9ce8fe"><strong>[types]</strong> </span><p>Added a generic BigInteger type, compiles to
BIGINT or NUMBER(19).</p>
<a class="changelog-reference headerlink reference internal" href="#change-d76a27861917c6bf030a837acf9ce8fe">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1125">#1125</a></p>
</p>
</li>
<li><p id="change-0.6beta1-152"><span class="target" id="change-05b2ce683e77d35a420cda187f7222ab"><strong>[types]</strong> </span><p>sqlsoup has been overhauled to explicitly support an 0.5 style
session, using autocommit=False, autoflush=True. Default
behavior of SQLSoup now requires the usual usage of commit()
and rollback(), which have been added to its interface. An
explicit Session or scoped_session can be passed to the
constructor, allowing these arguments to be overridden.</p>
<a class="changelog-reference headerlink reference internal" href="#change-05b2ce683e77d35a420cda187f7222ab">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-153"><span class="target" id="change-55a1682d2cbda5fbf6dd2d58744f5dbe"><strong>[types]</strong> </span><p>sqlsoup db.&lt;sometable&gt;.update() and delete() now call
query(cls).update() and delete(), respectively.</p>
<a class="changelog-reference headerlink reference internal" href="#change-55a1682d2cbda5fbf6dd2d58744f5dbe">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-154"><span class="target" id="change-a22079daeb20e98393c35a74d11c0259"><strong>[types]</strong> </span><p>sqlsoup now has execute() and connection(), which call upon
the Session methods of those names, ensuring that the bind is
in terms of the SqlSoup object’s bind.</p>
<a class="changelog-reference headerlink reference internal" href="#change-a22079daeb20e98393c35a74d11c0259">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-155"><span class="target" id="change-99c1ecd3203ef2d370b542d1b605ca61"><strong>[types]</strong> </span><p>sqlsoup objects no longer have the ‘query’ attribute - it’s
not needed for sqlsoup’s usage paradigm and it gets in the
way of a column that is actually named ‘query’.</p>
<a class="changelog-reference headerlink reference internal" href="#change-99c1ecd3203ef2d370b542d1b605ca61">¶</a><p></p>
</p>
</li>
<li><p id="change-0.6beta1-156"><span class="target" id="change-351b0756ad5ba1266508d1dea1de559e"><strong>[types]</strong> </span><p>The signature of the proxy_factory callable passed to
association_proxy is now (lazy_collection, creator,
value_attr, association_proxy), adding a fourth argument
that is the parent AssociationProxy argument.  Allows
serializability and subclassing of the built in collections.</p>
<a class="changelog-reference headerlink reference internal" href="#change-351b0756ad5ba1266508d1dea1de559e">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1259">#1259</a></p>
</p>
</li>
<li><p id="change-0.6beta1-157"><span class="target" id="change-c0b751885f79648b1e07bd4f1d5aa0c8"><strong>[types]</strong> </span><p>association_proxy now has basic comparator methods .any(),
.has(), .contains(), ==, !=, thanks to Scott Torborg.</p>
<a class="changelog-reference headerlink reference internal" href="#change-c0b751885f79648b1e07bd4f1d5aa0c8">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1372">#1372</a></p>
</p>
</li>
</ul>
</div>
</div>
</div>

    </div>

</div>

<div id="docs-bottom-navigation" class="docs-navigation-links, withsidebar">
        Previous:
        <a href="changelog_07.html" title="previous chapter">0.7 Changelog</a>
        Next:
        <a href="changelog_05.html" title="next chapter">0.5 Changelog</a>

    <div id="docs-copyright">
        &copy; <a href="../copyright.html">Copyright</a> 2007-2020, the SQLAlchemy authors and contributors.
        Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 3.0.3.
    </div>
</div>

</div>



        
        

    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
          URL_ROOT:    '../',
          VERSION:     '1.3.17',
          COLLAPSE_MODINDEX: false,
          FILE_SUFFIX: '.html'
      };
    </script>

    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>

    <!-- begin iterate through sphinx environment script_files -->
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    <!-- end iterate through sphinx environment script_files -->

    <script type="text/javascript" src="../_static/detectmobile.js"></script>
    <script type="text/javascript" src="../_static/init.js"></script>


    </body>
</html>


