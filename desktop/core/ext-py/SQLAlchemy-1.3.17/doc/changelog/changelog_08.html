<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">



<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        
        <title>
            
    
    0.8 Changelog
 &mdash;
    SQLAlchemy 1.3 Documentation

        </title>

        
            <!-- begin iterate through site-imported + sphinx environment css_files -->
                <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
                <link rel="stylesheet" href="../_static/docs.css" type="text/css" />
                <link rel="stylesheet" href="../_static/changelog.css" type="text/css" />
                <link rel="stylesheet" href="../_static/sphinx_paramlinks.css" type="text/css" />
            <!-- end iterate through site-imported + sphinx environment css_files -->
        

        

    

    <!-- begin layout.mako headers -->

    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
        <link rel="copyright" title="Copyright" href="../copyright.html" />
    <link rel="top" title="SQLAlchemy 1.3 Documentation" href="../index.html" />
        <link rel="up" title="Changes and Migration" href="index.html" />
        <link rel="next" title="0.7 Changelog" href="changelog_07.html" />
        <link rel="prev" title="0.9 Changelog" href="changelog_09.html" />
    <!-- end layout.mako headers -->


    </head>
    <body>
        
















<div id="docs-container">





<div id="docs-top-navigation-container" class="body-background">
<div id="docs-header">
    <div id="docs-version-header">
        Release: <span class="version-num">1.3.17</span>


        | Release Date: May 13, 2020

    </div>

    <h1>SQLAlchemy 1.3 Documentation</h1>

</div>
</div>

<div id="docs-body-container">

    <div id="fixed-sidebar" class="withsidebar">


        <div id="docs-sidebar-popout">
            <h3><a href="../index.html">SQLAlchemy 1.3 Documentation</a></h3>
            <p id="sidebar-topnav">
                <a href="../contents.html">Contents</a> |
                <a href="../genindex.html">Index</a>
            </p>

            <div id="sidebar-search">
                <form class="search" action="../search.html" method="get">
                  <label>
                  Search terms:
                  <input type="text" placeholder="search..." name="q" size="12" />
                  </label>
                  <input type="hidden" name="check_keywords" value="yes" />
                  <input type="hidden" name="area" value="default" />
                </form>
            </div>

        </div>

        <div id="docs-sidebar">

        <div id="sidebar-banner">
            
        </div>

        <div id="docs-sidebar-inner">

        
        <h3>
            <a href="index.html" title="Changes and Migration">Changes and Migration</a>
        </h3>

        <ul>
<li><span class="link-container"><a class="reference external" href="migration_13.html">What’s New in SQLAlchemy 1.3?</a></span></li>
<li><span class="link-container"><a class="reference external" href="changelog_13.html">1.3 Changelog</a></span></li>
<li><span class="link-container"><a class="reference external" href="changelog_12.html">1.2 Changelog</a></span></li>
<li><span class="link-container"><a class="reference external" href="changelog_11.html">1.1 Changelog</a></span></li>
<li><span class="link-container"><a class="reference external" href="changelog_10.html">1.0 Changelog</a></span></li>
<li><span class="link-container"><a class="reference external" href="changelog_09.html">0.9 Changelog</a></span></li>
<li class="selected"><span class="link-container"><strong>0.8 Changelog</strong><a class="paramlink headerlink reference internal" href="#">¶</a></span><ul>
<li><span class="link-container"><a class="reference external" href="#change-0.8.7">0.8.7</a></span><ul>
<li><span class="link-container"><a class="reference external" href="#change-0.8.7-orm">orm</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.8.7-sql">sql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.8.7-postgresql">postgresql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.8.7-mysql">mysql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.8.7-mssql">mssql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.8.7-misc">misc</a></span></li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="#change-0.8.6">0.8.6</a></span><ul>
<li><span class="link-container"><a class="reference external" href="#change-0.8.6-general">general</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.8.6-orm">orm</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.8.6-sql">sql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.8.6-postgresql">postgresql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.8.6-misc">misc</a></span></li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="#change-0.8.5">0.8.5</a></span><ul>
<li><span class="link-container"><a class="reference external" href="#change-0.8.5-orm">orm</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.8.5-engine">engine</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.8.5-sql">sql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.8.5-postgresql">postgresql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.8.5-mysql">mysql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.8.5-sqlite">sqlite</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.8.5-mssql">mssql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.8.5-firebird">firebird</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.8.5-misc">misc</a></span></li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="#change-0.8.4">0.8.4</a></span><ul>
<li><span class="link-container"><a class="reference external" href="#change-0.8.4-orm">orm</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.8.4-engine">engine</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.8.4-sql">sql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.8.4-postgresql">postgresql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.8.4-mssql">mssql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.8.4-oracle">oracle</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.8.4-misc">misc</a></span></li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="#change-0.8.3">0.8.3</a></span><ul>
<li><span class="link-container"><a class="reference external" href="#change-0.8.3-orm">orm</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.8.3-orm-declarative">orm declarative</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.8.3-engine">engine</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.8.3-sql">sql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.8.3-postgresql">postgresql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.8.3-mysql">mysql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.8.3-sqlite">sqlite</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.8.3-oracle">oracle</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.8.3-misc">misc</a></span></li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="#change-0.8.2">0.8.2</a></span><ul>
<li><span class="link-container"><a class="reference external" href="#change-0.8.2-orm">orm</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.8.2-orm-declarative">orm declarative</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.8.2-engine">engine</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.8.2-sql">sql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.8.2-postgresql">postgresql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.8.2-mysql">mysql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.8.2-sqlite">sqlite</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.8.2-mssql">mssql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.8.2-firebird">firebird</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.8.2-misc">misc</a></span></li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="#change-0.8.1">0.8.1</a></span><ul>
<li><span class="link-container"><a class="reference external" href="#change-0.8.1-orm">orm</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.8.1-orm-declarative">orm declarative</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.8.1-sql">sql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.8.1-postgresql">postgresql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.8.1-mysql">mysql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.8.1-mssql">mssql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.8.1-misc">misc</a></span></li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="#change-0.8.0">0.8.0</a></span><ul>
<li><span class="link-container"><a class="reference external" href="#change-0.8.0-orm">orm</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.8.0-sql">sql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.8.0-schema">schema</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.8.0-postgresql">postgresql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.8.0-mysql">mysql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.8.0-mssql">mssql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.8.0-oracle">oracle</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.8.0-misc">misc</a></span></li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="#change-0.8.0b2">0.8.0b2</a></span><ul>
<li><span class="link-container"><a class="reference external" href="#change-0.8.0b2-orm">orm</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.8.0b2-engine">engine</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.8.0b2-sql">sql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.8.0b2-postgresql">postgresql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.8.0b2-sqlite">sqlite</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.8.0b2-mssql">mssql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.8.0b2-oracle">oracle</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.8.0b2-firebird">firebird</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.8.0b2-misc">misc</a></span></li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="#change-0.8.0b1">0.8.0b1</a></span><ul>
<li><span class="link-container"><a class="reference external" href="#change-0.8.0b1-general">general</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.8.0b1-orm">orm</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.8.0b1-engine">engine</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.8.0b1-sql">sql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.8.0b1-postgresql">postgresql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.8.0b1-mysql">mysql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.8.0b1-sqlite">sqlite</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.8.0b1-mssql">mssql</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.8.0b1-oracle">oracle</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.8.0b1-firebird">firebird</a></span></li>
<li><span class="link-container"><a class="reference external" href="#change-0.8.0b1-misc">misc</a></span></li>
</ul>
</li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="changelog_07.html">0.7 Changelog</a></span></li>
<li><span class="link-container"><a class="reference external" href="changelog_06.html">0.6 Changelog</a></span></li>
<li><span class="link-container"><a class="reference external" href="changelog_05.html">0.5 Changelog</a></span></li>
<li><span class="link-container"><a class="reference external" href="changelog_04.html">0.4 Changelog</a></span></li>
<li><span class="link-container"><a class="reference external" href="changelog_03.html">0.3 Changelog</a></span></li>
<li><span class="link-container"><a class="reference external" href="changelog_02.html">0.2 Changelog</a></span></li>
<li><span class="link-container"><a class="reference external" href="changelog_01.html">0.1 Changelog</a></span></li>
<li><span class="link-container"><a class="reference external" href="migration_12.html">What’s New in SQLAlchemy 1.2?</a></span></li>
<li><span class="link-container"><a class="reference external" href="migration_11.html">What’s New in SQLAlchemy 1.1?</a></span></li>
<li><span class="link-container"><a class="reference external" href="migration_10.html">What’s New in SQLAlchemy 1.0?</a></span></li>
<li><span class="link-container"><a class="reference external" href="migration_09.html">What’s New in SQLAlchemy 0.9?</a></span></li>
<li><span class="link-container"><a class="reference external" href="migration_08.html">What’s New in SQLAlchemy 0.8?</a></span></li>
<li><span class="link-container"><a class="reference external" href="migration_07.html">What’s New in SQLAlchemy 0.7?</a></span></li>
<li><span class="link-container"><a class="reference external" href="migration_06.html">What’s New in SQLAlchemy 0.6?</a></span></li>
<li><span class="link-container"><a class="reference external" href="migration_05.html">What’s new in SQLAlchemy 0.5?</a></span></li>
<li><span class="link-container"><a class="reference external" href="migration_04.html">What’s new in SQLAlchemy 0.4?</a></span></li>
</ul>



        </div>

        </div>

    </div>

    

    <div id="docs-body" class="withsidebar" >
        
<div class="section" id="changelog">
<h1>0.8 Changelog<a class="headerlink" href="#changelog" title="Permalink to this headline">¶</a></h1>
<div class="section" id="change-0.8.7">
<h2 class="release-version">0.8.7<a class="headerlink" href="#change-0.8.7" title="Permalink to this headline">¶</a></h2>
Released: July 22, 2014<div class="section" id="change-0.8.7-orm">
<h3>orm<a class="headerlink" href="#change-0.8.7-orm" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.7-0"><span class="target" id="change-e10433635e670cc6b02866d5fca31d7f"><strong>[orm] [bug]</strong> </span><p>Fixed bug in subquery eager loading where a long chain of
eager loads across a polymorphic-subclass boundary in conjunction
with polymorphic loading would fail to locate the subclass-link in the
chain, erroring out with a missing property name on an
<a class="reference internal" href="../orm/query.html#sqlalchemy.orm.util.AliasedClass" title="sqlalchemy.orm.util.AliasedClass"><code class="xref py py-class docutils literal notranslate"><span class="pre">AliasedClass</span></code></a>.</p>
<a class="changelog-reference headerlink reference internal" href="#change-e10433635e670cc6b02866d5fca31d7f">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3055">#3055</a></p>
</p>
</li>
<li><p id="change-0.8.7-1"><span class="target" id="change-e8cf642e4e106568a47ada55df3ad138"><strong>[orm] [bug]</strong> </span><p>Fixed ORM bug where the <a class="reference internal" href="../orm/mapping_api.html#sqlalchemy.orm.class_mapper" title="sqlalchemy.orm.class_mapper"><code class="xref py py-func docutils literal notranslate"><span class="pre">class_mapper()</span></code></a> function would mask
AttributeErrors or KeyErrors that should raise during mapper
configuration due to user errors.  The catch for attribute/keyerror
has been made more specific to not include the configuration step.</p>
<a class="changelog-reference headerlink reference internal" href="#change-e8cf642e4e106568a47ada55df3ad138">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3047">#3047</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.7-sql">
<h3>sql<a class="headerlink" href="#change-0.8.7-sql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.7-2"><span class="target" id="change-a15c47336c5543b3fc74834213c1b3bd"><strong>[sql] [bug]</strong> </span><p>Fixed bug in <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.Enum" title="sqlalchemy.types.Enum"><code class="xref py py-class docutils literal notranslate"><span class="pre">Enum</span></code></a> and other <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.SchemaType" title="sqlalchemy.types.SchemaType"><code class="xref py py-class docutils literal notranslate"><span class="pre">SchemaType</span></code></a>
subclasses where direct association of the type with a
<a class="reference internal" href="../core/metadata.html#sqlalchemy.schema.MetaData" title="sqlalchemy.schema.MetaData"><code class="xref py py-class docutils literal notranslate"><span class="pre">MetaData</span></code></a> would lead to a hang when events
(like create events) were emitted on the <a class="reference internal" href="../core/metadata.html#sqlalchemy.schema.MetaData" title="sqlalchemy.schema.MetaData"><code class="xref py py-class docutils literal notranslate"><span class="pre">MetaData</span></code></a>.</p>
<a class="changelog-reference headerlink reference internal" href="#change-a15c47336c5543b3fc74834213c1b3bd">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3124">#3124</a></p>
</p>
</li>
<li><p id="change-0.8.7-3"><span class="target" id="change-54a43ce4f9140ba4a030c184f23dc9f6"><strong>[sql] [bug]</strong> </span><p>Fixed a bug within the custom operator plus <a class="reference internal" href="../core/type_api.html#sqlalchemy.types.TypeEngine.with_variant" title="sqlalchemy.types.TypeEngine.with_variant"><code class="xref py py-meth docutils literal notranslate"><span class="pre">TypeEngine.with_variant()</span></code></a>
system, whereby using a <a class="reference internal" href="../core/custom_types.html#sqlalchemy.types.TypeDecorator" title="sqlalchemy.types.TypeDecorator"><code class="xref py py-class docutils literal notranslate"><span class="pre">TypeDecorator</span></code></a> in conjunction with
variant would fail with an MRO error when a comparison operator was used.</p>
<a class="changelog-reference headerlink reference internal" href="#change-54a43ce4f9140ba4a030c184f23dc9f6">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3102">#3102</a></p>
</p>
</li>
<li><p id="change-0.8.7-4"><span class="target" id="change-2d3949a5f46b25fe3382151b8669ae6b"><strong>[sql] [bug]</strong> </span><p>Fixed bug in INSERT..FROM SELECT construct where selecting from a
UNION would wrap the union in an anonymous (e.g. unlabeled) subquery.</p>
<a class="changelog-reference headerlink reference internal" href="#change-2d3949a5f46b25fe3382151b8669ae6b">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3044">#3044</a></p>
</p>
</li>
<li><p id="change-0.8.7-5"><span class="target" id="change-f4de3727dd13fd61c02ae2721cfaafc5"><strong>[sql] [bug]</strong> </span><p>Fixed bug where <a class="reference internal" href="../core/metadata.html#sqlalchemy.schema.Table.update" title="sqlalchemy.schema.Table.update"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Table.update()</span></code></a> and <a class="reference internal" href="../core/metadata.html#sqlalchemy.schema.Table.delete" title="sqlalchemy.schema.Table.delete"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Table.delete()</span></code></a>
would produce an empty WHERE clause when an empty <a class="reference internal" href="../core/sqlelement.html#sqlalchemy.sql.expression.and_" title="sqlalchemy.sql.expression.and_"><code class="xref py py-func docutils literal notranslate"><span class="pre">and_()</span></code></a>
or <a class="reference internal" href="../core/sqlelement.html#sqlalchemy.sql.expression.or_" title="sqlalchemy.sql.expression.or_"><code class="xref py py-func docutils literal notranslate"><span class="pre">or_()</span></code></a> or other blank expression were applied.  This is
now consistent with that of <a class="reference internal" href="../core/selectable.html#sqlalchemy.sql.expression.select" title="sqlalchemy.sql.expression.select"><code class="xref py py-func docutils literal notranslate"><span class="pre">select()</span></code></a>.</p>
<a class="changelog-reference headerlink reference internal" href="#change-f4de3727dd13fd61c02ae2721cfaafc5">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3045">#3045</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.7-postgresql">
<h3>postgresql<a class="headerlink" href="#change-0.8.7-postgresql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.7-6"><span class="target" id="change-127ec92a16e57cf51809b91f2b78c9d6"><strong>[postgresql] [bug]</strong> </span><p>Added the <code class="docutils literal notranslate"><span class="pre">hashable=False</span></code> flag to the PG <a class="reference internal" href="../dialects/postgresql.html#sqlalchemy.dialects.postgresql.HSTORE" title="sqlalchemy.dialects.postgresql.HSTORE"><code class="xref py py-class docutils literal notranslate"><span class="pre">HSTORE</span></code></a> type, which
is needed to allow the ORM to skip over trying to “hash” an ORM-mapped
HSTORE column when requesting it in a mixed column/entity list.
Patch courtesy Gunnlaugur Þór Briem.</p>
<a class="changelog-reference headerlink reference internal" href="#change-127ec92a16e57cf51809b91f2b78c9d6">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3053">#3053</a></p>
</p>
</li>
<li><p id="change-0.8.7-7"><span class="target" id="change-b3bdb51a69a9c0f277ff16a91bfc9e34"><strong>[postgresql] [bug]</strong> </span><p>Added a new “disconnect” message “connection has been closed unexpectedly”.
This appears to be related to newer versions of SSL.
Pull request courtesy Antti Haapala.</p>
<a class="changelog-reference headerlink reference internal" href="#change-b3bdb51a69a9c0f277ff16a91bfc9e34">¶</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.7-mysql">
<h3>mysql<a class="headerlink" href="#change-0.8.7-mysql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.7-8"><span class="target" id="change-5e1d2173c0bc6f19d10fa839a3f575fc"><strong>[mysql] [bug]</strong> </span><p>MySQL error 2014 “commands out of sync” appears to be raised as a
ProgrammingError, not OperationalError, in modern MySQL-Python versions;
all MySQL error codes that are tested for “is disconnect” are now
checked within OperationalError and ProgrammingError regardless.</p>
<a class="changelog-reference headerlink reference internal" href="#change-5e1d2173c0bc6f19d10fa839a3f575fc">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3101">#3101</a></p>
</p>
</li>
<li><p id="change-0.8.7-9"><span class="target" id="change-6ebc4901dda2870745c197767107fd38"><strong>[mysql] [bug]</strong> </span><p>Fixed bug where column names added to <code class="docutils literal notranslate"><span class="pre">mysql_length</span></code> parameter
on an index needed to have the same quoting for quoted names in
order to be recognized.  The fix makes the quotes optional but
also provides the old behavior for backwards compatibility with those
using the workaround.</p>
<a class="changelog-reference headerlink reference internal" href="#change-6ebc4901dda2870745c197767107fd38">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3085">#3085</a></p>
</p>
</li>
<li><p id="change-0.8.7-10"><span class="target" id="change-adc1cf48426d16ff7afa412b798f7afb"><strong>[mysql] [bug]</strong> </span><p>Added support for reflecting tables where an index includes
KEY_BLOCK_SIZE using an equal sign.  Pull request courtesy
Sean McGivern.</p>
<a class="changelog-reference headerlink reference internal" href="#change-adc1cf48426d16ff7afa412b798f7afb">¶</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.7-mssql">
<h3>mssql<a class="headerlink" href="#change-0.8.7-mssql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.7-11"><span class="target" id="change-a332694f4a4dea710533a471230b2559"><strong>[mssql] [bug]</strong> </span><p>Added statement encoding to the “SET IDENTITY_INSERT”
statements which operate when an explicit INSERT is being
interjected into an IDENTITY column, to support non-ascii table
identifiers on drivers such as pyodbc + unix + py2k that don’t
support unicode statements.</p>
<a class="changelog-reference headerlink reference internal" href="#change-a332694f4a4dea710533a471230b2559">¶</a><p></p>
</p>
</li>
<li><p id="change-0.8.7-12"><span class="target" id="change-abc172e784213b6cd1a62bf4af97acdd"><strong>[mssql] [bug]</strong> </span><p>In the SQL Server pyodbc dialect, repaired the implementation
for the <code class="docutils literal notranslate"><span class="pre">description_encoding</span></code> dialect parameter, which when
not explicitly set was preventing  cursor.description from
being parsed correctly in the case of result sets that
contained names in alternate encodings.  This parameter
shouldn’t be needed going forward.</p>
<a class="changelog-reference headerlink reference internal" href="#change-abc172e784213b6cd1a62bf4af97acdd">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3091">#3091</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.7-misc">
<h3>misc<a class="headerlink" href="#change-0.8.7-misc" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.7-13"><span class="target" id="change-4247b43502c3504d7399eff5dbaec535"><strong>[bug] [declarative]</strong> </span><p>The <code class="docutils literal notranslate"><span class="pre">__mapper_args__</span></code> dictionary is copied from a declarative
mixin or abstract class when accessed, so that modifications made
to this dictionary by declarative itself won’t conflict with that
of other mappings.  The dictionary is modified regarding the
<code class="docutils literal notranslate"><span class="pre">version_id_col</span></code> and <code class="docutils literal notranslate"><span class="pre">polymorphic_on</span></code> arguments, replacing the
column within with the one that is officially mapped to the local
class/table.</p>
<a class="changelog-reference headerlink reference internal" href="#change-4247b43502c3504d7399eff5dbaec535">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3062">#3062</a></p>
</p>
</li>
<li><p id="change-0.8.7-14"><span class="target" id="change-c5c176621b89cf064d92ecf38607da28"><strong>[bug] [ext]</strong> </span><p>Fixed bug in mutable extension where <a class="reference internal" href="../orm/extensions/mutable.html#sqlalchemy.ext.mutable.MutableDict" title="sqlalchemy.ext.mutable.MutableDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">MutableDict</span></code></a> did not
report change events for the <code class="docutils literal notranslate"><span class="pre">setdefault()</span></code> dictionary operation.</p>
<a class="changelog-reference headerlink reference internal" href="#change-c5c176621b89cf064d92ecf38607da28">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3051">#3051</a>, <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3093">#3093</a></p>
</p>
</li>
<li><p id="change-0.8.7-15"><span class="target" id="change-3fc56a563e46ae2b5aff7b904aae4ff9"><strong>[bug] [ext]</strong> </span><p>Fixed bug where <a class="reference internal" href="../orm/extensions/mutable.html#sqlalchemy.ext.mutable.MutableDict.setdefault" title="sqlalchemy.ext.mutable.MutableDict.setdefault"><code class="xref py py-meth docutils literal notranslate"><span class="pre">MutableDict.setdefault()</span></code></a> didn’t return the
existing or new value (this bug was not released in any 0.8 version).
Pull request courtesy Thomas Hervé.</p>
<a class="changelog-reference headerlink reference internal" href="#change-3fc56a563e46ae2b5aff7b904aae4ff9">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3051">#3051</a>, <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3093">#3093</a></p>
</p>
</li>
</ul>
</div>
</div>
<div class="section" id="change-0.8.6">
<h2 class="release-version">0.8.6<a class="headerlink" href="#change-0.8.6" title="Permalink to this headline">¶</a></h2>
Released: March 28, 2014<div class="section" id="change-0.8.6-general">
<h3>general<a class="headerlink" href="#change-0.8.6-general" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.6-0"><span class="target" id="change-4eb0725a9e53337556a261ca91f628e1"><strong>[general] [bug]</strong> </span><p>Adjusted <code class="docutils literal notranslate"><span class="pre">setup.py</span></code> file to support the possible future
removal of the <code class="docutils literal notranslate"><span class="pre">setuptools.Feature</span></code> extension from setuptools.
If this keyword isn’t present, the setup will still succeed
with setuptools rather than falling back to distutils.  C extension
building can be disabled now also by setting the
DISABLE_SQLALCHEMY_CEXT environment variable.  This variable works
whether or not setuptools is even available.</p>
<a class="changelog-reference headerlink reference internal" href="#change-4eb0725a9e53337556a261ca91f628e1">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2986">#2986</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.6-orm">
<h3>orm<a class="headerlink" href="#change-0.8.6-orm" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.6-1"><span class="target" id="change-8aade2e05c6bfa4d19d23d28d5d85e3c"><strong>[orm] [bug]</strong> </span><p>Fixed ORM bug where changing the primary key of an object, then marking
it for DELETE would fail to target the correct row for DELETE.</p>
<a class="changelog-reference headerlink reference internal" href="#change-8aade2e05c6bfa4d19d23d28d5d85e3c">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3006">#3006</a></p>
</p>
</li>
<li><p id="change-0.8.6-2"><span class="target" id="change-3751a74e73168b0beaccedabc93166fc"><strong>[orm] [bug]</strong> </span><p>Fixed regression from 0.8.3 as a result of <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2818">#2818</a>
where <a class="reference internal" href="../orm/query.html#sqlalchemy.orm.query.Query.exists" title="sqlalchemy.orm.query.Query.exists"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Query.exists()</span></code></a> wouldn’t work on a query that only
had a <a class="reference internal" href="../orm/query.html#sqlalchemy.orm.query.Query.select_from" title="sqlalchemy.orm.query.Query.select_from"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Query.select_from()</span></code></a> entry but no other entities.</p>
<a class="changelog-reference headerlink reference internal" href="#change-3751a74e73168b0beaccedabc93166fc">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2995">#2995</a></p>
</p>
</li>
<li><p id="change-0.8.6-3"><span class="target" id="change-721de30f36994714bbaa71cb716e72e3"><strong>[orm] [bug]</strong> </span><p>Improved an error message which would occur if a query() were made
against a non-selectable, such as a <a class="reference internal" href="../core/sqlelement.html#sqlalchemy.sql.expression.literal_column" title="sqlalchemy.sql.expression.literal_column"><code class="xref py py-func docutils literal notranslate"><span class="pre">literal_column()</span></code></a>, and then
an attempt was made to use <a class="reference internal" href="../orm/query.html#sqlalchemy.orm.query.Query.join" title="sqlalchemy.orm.query.Query.join"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Query.join()</span></code></a> such that the “left”
side would be determined as <code class="docutils literal notranslate"><span class="pre">None</span></code> and then fail.  This condition
is now detected explicitly.</p>
<a class="changelog-reference headerlink reference internal" href="#change-721de30f36994714bbaa71cb716e72e3">¶</a><p></p>
</p>
</li>
<li><p id="change-0.8.6-4"><span class="target" id="change-1f6608c117a2d4b77f07a065788123ce"><strong>[orm] [bug]</strong> </span><p>Removed stale names from <code class="docutils literal notranslate"><span class="pre">sqlalchemy.orm.interfaces.__all__</span></code> and
refreshed with current names, so that an <code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">*</span></code> from this
module again works.</p>
<a class="changelog-reference headerlink reference internal" href="#change-1f6608c117a2d4b77f07a065788123ce">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2975">#2975</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.6-sql">
<h3>sql<a class="headerlink" href="#change-0.8.6-sql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.6-5"><span class="target" id="change-c61526d344b80f9ac2ea48bdf871a1c8"><strong>[sql] [bug]</strong> </span><p>Fixed bug in <a class="reference internal" href="../core/sqlelement.html#sqlalchemy.sql.expression.tuple_" title="sqlalchemy.sql.expression.tuple_"><code class="xref py py-func docutils literal notranslate"><span class="pre">tuple_()</span></code></a> construct where the “type” of essentially
the first SQL expression would be applied as the “comparison type”
to a compared tuple value; this has the effect in some cases of an
inappropriate “type coercion” occurring, such as when a tuple that
has a mix of String and Binary values improperly coerces target
values to Binary even though that’s not what they are on the left
side.  <a class="reference internal" href="../core/sqlelement.html#sqlalchemy.sql.expression.tuple_" title="sqlalchemy.sql.expression.tuple_"><code class="xref py py-func docutils literal notranslate"><span class="pre">tuple_()</span></code></a> now expects heterogeneous types within its
list of values.</p>
<a class="changelog-reference headerlink reference internal" href="#change-c61526d344b80f9ac2ea48bdf871a1c8">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2977">#2977</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.6-postgresql">
<h3>postgresql<a class="headerlink" href="#change-0.8.6-postgresql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.6-6"><span class="target" id="change-0e27187508dd3fc6a655238c01a756bd"><strong>[postgresql] [feature]</strong> </span><p>Enabled “sane multi-row count” checking for the psycopg2 DBAPI, as
this seems to be supported as of psycopg2 2.0.9.</p>
<a class="changelog-reference headerlink reference internal" href="#change-0e27187508dd3fc6a655238c01a756bd">¶</a><p></p>
</p>
</li>
<li><p id="change-0.8.6-7"><span class="target" id="change-4ae0244a30e5c4a1057dc6ad07795cd1"><strong>[postgresql] [bug]</strong> </span><p>Fixed regression caused by release 0.8.5 / 0.9.3’s compatibility
enhancements where index reflection on PostgreSQL versions specific
to only the 8.1, 8.2 series again
broke, surrounding the ever problematic int2vector type.  While
int2vector supports array operations as of 8.1, apparently it only
supports CAST to a varchar as of 8.3.</p>
<a class="changelog-reference headerlink reference internal" href="#change-4ae0244a30e5c4a1057dc6ad07795cd1">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3000">#3000</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.6-misc">
<h3>misc<a class="headerlink" href="#change-0.8.6-misc" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.6-8"><span class="target" id="change-9b1493eda7803b32e8d28a92c52071a4"><strong>[bug] [ext]</strong> </span><p>Fixed bug in mutable extension as well as
<a class="reference internal" href="../orm/session_api.html#sqlalchemy.orm.attributes.flag_modified" title="sqlalchemy.orm.attributes.flag_modified"><code class="xref py py-func docutils literal notranslate"><span class="pre">flag_modified()</span></code></a> where the change event would not be
propagated if the attribute had been reassigned to itself.</p>
<a class="changelog-reference headerlink reference internal" href="#change-9b1493eda7803b32e8d28a92c52071a4">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2997">#2997</a></p>
</p>
</li>
</ul>
</div>
</div>
<div class="section" id="change-0.8.5">
<h2 class="release-version">0.8.5<a class="headerlink" href="#change-0.8.5" title="Permalink to this headline">¶</a></h2>
Released: February 19, 2014<div class="section" id="change-0.8.5-orm">
<h3>orm<a class="headerlink" href="#change-0.8.5-orm" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.5-0"><span class="target" id="change-963fd6f9e65ff48f7f940166e32ee918"><strong>[orm] [bug]</strong> </span><p>Fixed bug where <a class="reference internal" href="../orm/query.html#sqlalchemy.orm.query.Query.get" title="sqlalchemy.orm.query.Query.get"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Query.get()</span></code></a> would fail to consistently
raise the <a class="reference internal" href="../core/exceptions.html#sqlalchemy.exc.InvalidRequestError" title="sqlalchemy.exc.InvalidRequestError"><code class="xref py py-class docutils literal notranslate"><span class="pre">InvalidRequestError</span></code></a> that invokes when called
on a query with existing criterion, when the given identity is
already present in the identity map.</p>
<a class="changelog-reference headerlink reference internal" href="#change-963fd6f9e65ff48f7f940166e32ee918">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2951">#2951</a></p>
</p>
</li>
<li><p id="change-0.8.5-1"><span class="target" id="change-3c1858beb196d211a158e6b04a259e9e"><strong>[orm] [bug]</strong> </span><p>Fixed error message when an iterator object is passed to
<a class="reference internal" href="../orm/mapping_api.html#sqlalchemy.orm.class_mapper" title="sqlalchemy.orm.class_mapper"><code class="xref py py-func docutils literal notranslate"><span class="pre">class_mapper()</span></code></a> or similar, where the error would fail to
render on string formatting.  Pullreq courtesy Kyle Stark.</p>
<a class="changelog-reference headerlink reference internal" href="#change-3c1858beb196d211a158e6b04a259e9e">¶</a><p></p>
</p>
</li>
<li><p id="change-0.8.5-2"><span class="target" id="change-299a27df663c00458dac3e27aa894641"><strong>[orm] [bug]</strong> </span><p>An adjustment to the <a class="reference internal" href="../orm/loading_relationships.html#sqlalchemy.orm.subqueryload" title="sqlalchemy.orm.subqueryload"><code class="xref py py-func docutils literal notranslate"><span class="pre">subqueryload()</span></code></a> strategy which ensures that
the query runs after the loading process has begun; this is so that
the subqueryload takes precedence over other loaders that may be
hitting the same attribute due to other eager/noload situations
at the wrong time.</p>
<a class="changelog-reference headerlink reference internal" href="#change-299a27df663c00458dac3e27aa894641">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2887">#2887</a></p>
</p>
</li>
<li><p id="change-0.8.5-3"><span class="target" id="change-63f4633bd86bada94c11baebaccf2306"><strong>[orm] [bug]</strong> </span><p>Fixed bug when using joined table inheritance from a table to a
select/alias on the base, where the PK columns were also not same
named; the persistence system would fail to copy primary key values
from the base table to the inherited table upon INSERT.</p>
<a class="changelog-reference headerlink reference internal" href="#change-63f4633bd86bada94c11baebaccf2306">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2885">#2885</a></p>
</p>
</li>
<li><p id="change-0.8.5-4"><span class="target" id="change-75ee98f66c5efa2d8d93820f1b4eaf74"><strong>[orm] [bug]</strong> </span><p><a class="reference internal" href="../orm/composites.html#sqlalchemy.orm.composite" title="sqlalchemy.orm.composite"><code class="xref py py-func docutils literal notranslate"><span class="pre">composite()</span></code></a> will raise an informative error message when the
columns/attribute (names) passed don’t resolve to a Column or mapped
attribute (such as an erroneous tuple); previously raised an unbound
local.</p>
<a class="changelog-reference headerlink reference internal" href="#change-75ee98f66c5efa2d8d93820f1b4eaf74">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2889">#2889</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.5-engine">
<h3>engine<a class="headerlink" href="#change-0.8.5-engine" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.5-5"><span class="target" id="change-b4da74a656ef5e3010bb13f8204f2fb0"><strong>[engine] [bug] [pool]</strong> </span><p>Fixed a critical regression caused by <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2880">#2880</a> where the newly
concurrent ability to return connections from the pool means that the
“first_connect” event is now no longer synchronized either, thus leading
to dialect mis-configurations under even minimal concurrency situations.</p>
<a class="changelog-reference headerlink reference internal" href="#change-b4da74a656ef5e3010bb13f8204f2fb0">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2880">#2880</a>, <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2964">#2964</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.5-sql">
<h3>sql<a class="headerlink" href="#change-0.8.5-sql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.5-6"><span class="target" id="change-eaeab65db0f99940354a433b2c1757e7"><strong>[sql] [bug]</strong> </span><p>Fixed bug where calling <a class="reference internal" href="../core/dml.html#sqlalchemy.sql.expression.Insert.values" title="sqlalchemy.sql.expression.Insert.values"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Insert.values()</span></code></a> with an empty list
or tuple would raise an IndexError.   It now produces an empty
insert construct as would be the case with an empty dictionary.</p>
<a class="changelog-reference headerlink reference internal" href="#change-eaeab65db0f99940354a433b2c1757e7">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2944">#2944</a></p>
</p>
</li>
<li><p id="change-0.8.5-7"><span class="target" id="change-67f369ed130f28aafeefff44a066b182"><strong>[sql] [bug]</strong> </span><p>Fixed bug where <a class="reference internal" href="../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators.in_" title="sqlalchemy.sql.operators.ColumnOperators.in_"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ColumnOperators.in_()</span></code></a> would go into an endless
loop if erroneously passed a column expression whose comparator
included the <code class="docutils literal notranslate"><span class="pre">__getitem__()</span></code> method, such as a column that uses the
<a class="reference internal" href="../dialects/postgresql.html#sqlalchemy.dialects.postgresql.ARRAY" title="sqlalchemy.dialects.postgresql.ARRAY"><code class="xref py py-class docutils literal notranslate"><span class="pre">ARRAY</span></code></a> type.</p>
<a class="changelog-reference headerlink reference internal" href="#change-67f369ed130f28aafeefff44a066b182">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2957">#2957</a></p>
</p>
</li>
<li><p id="change-0.8.5-8"><span class="target" id="change-a635a18f34a5c52c352eaacb7e5d45db"><strong>[sql] [bug]</strong> </span><p>Fixed issue where a primary key column that has a Sequence on it,
yet the column is not the “auto increment” column, either because
it has a foreign key constraint or <code class="docutils literal notranslate"><span class="pre">autoincrement=False</span></code> set,
would attempt to fire the Sequence on INSERT for backends that don’t
support sequences, when presented with an INSERT missing the primary
key value.  This would take place on non-sequence backends like
SQLite, MySQL.</p>
<a class="changelog-reference headerlink reference internal" href="#change-a635a18f34a5c52c352eaacb7e5d45db">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2896">#2896</a></p>
</p>
</li>
<li><p id="change-0.8.5-9"><span class="target" id="change-2a68cc38f848658f1f726522b257ae30"><strong>[sql] [bug]</strong> </span><p>Fixed bug with <a class="reference internal" href="../core/dml.html#sqlalchemy.sql.expression.Insert.from_select" title="sqlalchemy.sql.expression.Insert.from_select"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Insert.from_select()</span></code></a> method where the order
of the given names would not be taken into account when generating
the INSERT statement, thus producing a mismatch versus the column
names in the given SELECT statement.  Also noted that
<a class="reference internal" href="../core/dml.html#sqlalchemy.sql.expression.Insert.from_select" title="sqlalchemy.sql.expression.Insert.from_select"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Insert.from_select()</span></code></a> implies that Python-side insert defaults
cannot be used, since the statement has no VALUES clause.</p>
<a class="changelog-reference headerlink reference internal" href="#change-2a68cc38f848658f1f726522b257ae30">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2895">#2895</a></p>
</p>
</li>
<li><p id="change-0.8.5-10"><span class="target" id="change-328b0d6b8c257eff2b4edfd2852eb628"><strong>[sql] [enhancement]</strong> </span><p>The exception raised when a <a class="reference internal" href="../core/sqlelement.html#sqlalchemy.sql.expression.BindParameter" title="sqlalchemy.sql.expression.BindParameter"><code class="xref py py-class docutils literal notranslate"><span class="pre">BindParameter</span></code></a> is present
in a compiled statement without a value now includes the key name
of the bound parameter in the error message.</p>
<a class="changelog-reference headerlink reference internal" href="#change-328b0d6b8c257eff2b4edfd2852eb628">¶</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.5-postgresql">
<h3>postgresql<a class="headerlink" href="#change-0.8.5-postgresql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.5-11"><span class="target" id="change-abe4e69a00c65c9fc72433a2a5aad465"><strong>[postgresql] [bug]</strong> </span><p>Added an additional message to psycopg2 disconnect detection,
“could not send data to server”, which complements the existing
“could not receive data from server” and has been observed by users.</p>
<a class="changelog-reference headerlink reference internal" href="#change-abe4e69a00c65c9fc72433a2a5aad465">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2936">#2936</a></p>
</p>
</li>
<li><p id="change-0.8.5-12"><span class="target" id="change-bfbcb0a20b42e6061bc797c76d813c52"><strong>[postgresql] [bug]</strong> </span><blockquote>
<div><p>Support has been improved for PostgreSQL reflection behavior on very old
(pre 8.1) versions of PostgreSQL, and potentially other PG engines
such as Redshift (assuming Redshift reports the version as &lt; 8.1).
The query for “indexes” as well as “primary keys” relies upon inspecting
a so-called “int2vector” datatype, which refuses to coerce to an array
prior to 8.1 causing failures regarding the “ANY()” operator used
in the query.  Extensive googling has located the very hacky, but
recommended-by-PG-core-developer query to use when PG version &lt; 8.1
is in use, so index and primary key constraint reflection now work
on these versions.</p>
</div></blockquote>
<a class="changelog-reference headerlink reference internal" href="#change-bfbcb0a20b42e6061bc797c76d813c52">¶</a><p></p>
</p>
</li>
<li><p id="change-0.8.5-13"><span class="target" id="change-a0f33540aa46ca0e6de809d33091a6ef"><strong>[postgresql] [bug]</strong> </span><p>Revised this very old issue where the PostgreSQL “get primary key”
reflection query were updated to take into account primary key constraints
that were renamed; the newer query fails on very old versions of
PostgreSQL such as version 7, so the old query is restored in those cases
when server_version_info &lt; (8, 0) is detected.</p>
<a class="changelog-reference headerlink reference internal" href="#change-a0f33540aa46ca0e6de809d33091a6ef">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2291">#2291</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.5-mysql">
<h3>mysql<a class="headerlink" href="#change-0.8.5-mysql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.5-14"><span class="target" id="change-e61353bcbaeea335f62823591b2bd3df"><strong>[mysql] [feature]</strong> </span><p>Added new MySQL-specific <a class="reference internal" href="../dialects/mysql.html#sqlalchemy.dialects.mysql.DATETIME" title="sqlalchemy.dialects.mysql.DATETIME"><code class="xref py py-class docutils literal notranslate"><span class="pre">DATETIME</span></code></a> which includes
fractional seconds support; also added fractional seconds support
to <a class="reference internal" href="../dialects/mysql.html#sqlalchemy.dialects.mysql.TIMESTAMP" title="sqlalchemy.dialects.mysql.TIMESTAMP"><code class="xref py py-class docutils literal notranslate"><span class="pre">TIMESTAMP</span></code></a>.  DBAPI support is limited, though
fractional seconds are known to be supported by MySQL Connector/Python.
Patch courtesy Geert JM Vanderkelen.</p>
<a class="changelog-reference headerlink reference internal" href="#change-e61353bcbaeea335f62823591b2bd3df">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2941">#2941</a></p>
</p>
</li>
<li><p id="change-0.8.5-15"><span class="target" id="change-dc53ea0fad376d114f411a9855e869fc"><strong>[mysql] [bug]</strong> </span><p>Added support for the <code class="docutils literal notranslate"><span class="pre">PARTITION</span> <span class="pre">BY</span></code> and <code class="docutils literal notranslate"><span class="pre">PARTITIONS</span></code>
MySQL table keywords, specified as <code class="docutils literal notranslate"><span class="pre">mysql_partition_by='value'</span></code> and
<code class="docutils literal notranslate"><span class="pre">mysql_partitions='value'</span></code> to <a class="reference internal" href="../core/metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a>.  Pull request
courtesy Marcus McCurdy.</p>
<a class="changelog-reference headerlink reference internal" href="#change-dc53ea0fad376d114f411a9855e869fc">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2966">#2966</a></p>
</p>
</li>
<li><p id="change-0.8.5-16"><span class="target" id="change-e9165d6fdae23130302d540e3bc6d597"><strong>[mysql] [bug]</strong> </span><p>Fixed bug which prevented MySQLdb-based dialects (e.g.
pymysql) from working in Py3K, where a check for “connection
charset” would fail due to Py3K’s more strict value comparison
rules.  The call in question  wasn’t taking the database
version into account in any case as the server version was
still None at that point, so the method overall has been
simplified to rely upon connection.character_set_name().</p>
<a class="changelog-reference headerlink reference internal" href="#change-e9165d6fdae23130302d540e3bc6d597">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2933">#2933</a></p>
</p>
</li>
<li><p id="change-0.8.5-17"><span class="target" id="change-f55316fde4a189d8126b15e329332461"><strong>[mysql] [bug]</strong> </span><p>Some missing methods added to the cymysql dialect, including
_get_server_version_info() and _detect_charset().  Pullreq
courtesy Hajime Nakagami.</p>
<a class="changelog-reference headerlink reference internal" href="#change-f55316fde4a189d8126b15e329332461">¶</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.5-sqlite">
<h3>sqlite<a class="headerlink" href="#change-0.8.5-sqlite" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.5-18"><span class="target" id="change-ead78f92084767f32a375ae68accf5b5"><strong>[sqlite] [bug]</strong> </span><p>Restored a change that was missed in the backport of unique
constraint reflection to 0.8, where <a class="reference internal" href="../core/constraints.html#sqlalchemy.schema.UniqueConstraint" title="sqlalchemy.schema.UniqueConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">UniqueConstraint</span></code></a>
with SQLite would fail if reserved keywords were included in the
names of columns.  Pull request courtesy Roman Podolyaka.</p>
<a class="changelog-reference headerlink reference internal" href="#change-ead78f92084767f32a375ae68accf5b5">¶</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.5-mssql">
<h3>mssql<a class="headerlink" href="#change-0.8.5-mssql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.5-19"><span class="target" id="change-02b8136f04eac946a40b7db8f2f4f0f3"><strong>[mssql] [bug] [firebird]</strong> </span><p>The “asdecimal” flag used with the <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.Float" title="sqlalchemy.types.Float"><code class="xref py py-class docutils literal notranslate"><span class="pre">Float</span></code></a> type will now
work with Firebird as well as the mssql+pyodbc dialects; previously the
decimal conversion was not occurring.</p>
<a class="changelog-reference headerlink reference internal" href="#change-02b8136f04eac946a40b7db8f2f4f0f3">¶</a><p></p>
</p>
</li>
<li><p id="change-0.8.5-20"><span class="target" id="change-87840ae63e620637ec1dd97e9f1fbbfc"><strong>[mssql] [bug] [pymssql]</strong> </span><p>Added “Net-Lib error during Connection reset by peer” message
to the list of messages checked for “disconnect” within the
pymssql dialect.  Courtesy John Anderson.</p>
<a class="changelog-reference headerlink reference internal" href="#change-87840ae63e620637ec1dd97e9f1fbbfc">¶</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.5-firebird">
<h3>firebird<a class="headerlink" href="#change-0.8.5-firebird" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.5-21"><span class="target" id="change-491c479b04e5d70530ef87406332f723"><strong>[firebird] [bug]</strong> </span><p>The firebird dialect will quote identifiers which begin with an
underscore.  Courtesy Treeve Jelbert.</p>
<a class="changelog-reference headerlink reference internal" href="#change-491c479b04e5d70530ef87406332f723">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2897">#2897</a></p>
</p>
</li>
<li><p id="change-0.8.5-22"><span class="target" id="change-8066c3961ec654ddd830fa2e4bb5a2b8"><strong>[firebird] [bug]</strong> </span><p>Fixed bug in Firebird index reflection where the columns within the
index were not sorted correctly; they are now sorted
in order of RDB$FIELD_POSITION.</p>
<a class="changelog-reference headerlink reference internal" href="#change-8066c3961ec654ddd830fa2e4bb5a2b8">¶</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.5-misc">
<h3>misc<a class="headerlink" href="#change-0.8.5-misc" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.5-23"><span class="target" id="change-5ab170daca7483efaf20de27592c8329"><strong>[bug] [py3k]</strong> </span><p>Fixed Py3K bug where a missing import would cause “literal binary”
mode to fail to import “util.binary_type” when rendering a bound
parameter.  0.9 handles this differently. Pull request courtesy
Andreas Zeidler.</p>
<a class="changelog-reference headerlink reference internal" href="#change-5ab170daca7483efaf20de27592c8329">¶</a><p></p>
</p>
</li>
<li><p id="change-0.8.5-24"><span class="target" id="change-d707bd93370fc840f28c9d8faf6c209f"><strong>[bug] [declarative]</strong> </span><p>Error message when a string arg sent to <a class="reference internal" href="../orm/relationship_api.html#sqlalchemy.orm.relationship" title="sqlalchemy.orm.relationship"><code class="xref py py-func docutils literal notranslate"><span class="pre">relationship()</span></code></a> which
doesn’t resolve to a class or mapper has been corrected to work
the same way as when a non-string arg is received, which indicates
the name of the relationship which had the configurational error.</p>
<a class="changelog-reference headerlink reference internal" href="#change-d707bd93370fc840f28c9d8faf6c209f">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2888">#2888</a></p>
</p>
</li>
</ul>
</div>
</div>
<div class="section" id="change-0.8.4">
<h2 class="release-version">0.8.4<a class="headerlink" href="#change-0.8.4" title="Permalink to this headline">¶</a></h2>
Released: December 8, 2013<div class="section" id="change-0.8.4-orm">
<h3>orm<a class="headerlink" href="#change-0.8.4-orm" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.4-0"><span class="target" id="change-e092c358f026124d42419bc6ec0e6222"><strong>[orm] [bug]</strong> </span><p>Fixed a regression introduced by <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2818">#2818</a> where the EXISTS
query being generated would produce a “columns being replaced”
warning for a statement with two same-named columns,
as the internal SELECT wouldn’t have use_labels set.</p>
<a class="changelog-reference headerlink reference internal" href="#change-e092c358f026124d42419bc6ec0e6222">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2818">#2818</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.4-engine">
<h3>engine<a class="headerlink" href="#change-0.8.4-engine" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.4-1"><span class="target" id="change-4c94e9eaf5cee7f9d244460416e5882e"><strong>[engine] [bug]</strong> </span><p>A DBAPI that raises an error on <code class="docutils literal notranslate"><span class="pre">connect()</span></code> which is not a subclass
of dbapi.Error (such as <code class="docutils literal notranslate"><span class="pre">TypeError</span></code>, <code class="docutils literal notranslate"><span class="pre">NotImplementedError</span></code>, etc.)
will propagate the exception unchanged.  Previously,
the error handling specific to the <code class="docutils literal notranslate"><span class="pre">connect()</span></code> routine would both
inappropriately run the exception through the dialect’s
<a class="reference internal" href="../core/internals.html#sqlalchemy.engine.interfaces.Dialect.is_disconnect" title="sqlalchemy.engine.interfaces.Dialect.is_disconnect"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Dialect.is_disconnect()</span></code></a> routine as well as wrap it in
a <a class="reference internal" href="../core/exceptions.html#sqlalchemy.exc.DBAPIError" title="sqlalchemy.exc.DBAPIError"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.exc.DBAPIError</span></code></a>.  It is now propagated unchanged
in the same way as occurs within the execute process.</p>
<a class="changelog-reference headerlink reference internal" href="#change-4c94e9eaf5cee7f9d244460416e5882e">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2881">#2881</a></p>
</p>
</li>
<li><p id="change-0.8.4-2"><span class="target" id="change-f61deee220ca510a2a34634540647466"><strong>[engine] [bug] [pool]</strong> </span><p>The <a class="reference internal" href="../core/pooling.html#sqlalchemy.pool.QueuePool" title="sqlalchemy.pool.QueuePool"><code class="xref py py-class docutils literal notranslate"><span class="pre">QueuePool</span></code></a> has been enhanced to not block new connection
attempts when an existing connection attempt is blocking.  Previously,
the production of new connections was serialized within the block
that monitored overflow; the overflow counter is now altered within
its own critical section outside of the connection process itself.</p>
<a class="changelog-reference headerlink reference internal" href="#change-f61deee220ca510a2a34634540647466">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2880">#2880</a></p>
</p>
</li>
<li><p id="change-0.8.4-3"><span class="target" id="change-9f50f03f97a15744f325f3b1f9efe144"><strong>[engine] [bug] [pool]</strong> </span><p>Made a slight adjustment to the logic which waits for a pooled
connection to be available, such that for a connection pool
with no timeout specified, it will every half a second break out of
the wait to check for the so-called “abort” flag, which allows the
waiter to break out in case the whole connection pool was dumped;
normally the waiter should break out due to a notify_all() but it’s
possible this notify_all() is missed in very slim cases.
This is an extension of logic first introduced in 0.8.0, and the
issue has only been observed occasionally in stress tests.</p>
<a class="changelog-reference headerlink reference internal" href="#change-9f50f03f97a15744f325f3b1f9efe144">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2522">#2522</a></p>
</p>
</li>
<li><p id="change-0.8.4-4"><span class="target" id="change-93068fc8797e8560dedac1d5ab086a48"><strong>[engine] [bug]</strong> </span><p>Fixed bug where SQL statement would be improperly ASCII-encoded
when a pre-DBAPI <a class="reference internal" href="../core/exceptions.html#sqlalchemy.exc.StatementError" title="sqlalchemy.exc.StatementError"><code class="xref py py-class docutils literal notranslate"><span class="pre">StatementError</span></code></a> were raised within
<a class="reference internal" href="../core/connections.html#sqlalchemy.engine.Connection.execute" title="sqlalchemy.engine.Connection.execute"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Connection.execute()</span></code></a>, causing encoding errors for
non-ASCII statements.  The stringification now remains within
Python unicode thus avoiding encoding errors.</p>
<a class="changelog-reference headerlink reference internal" href="#change-93068fc8797e8560dedac1d5ab086a48">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2871">#2871</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.4-sql">
<h3>sql<a class="headerlink" href="#change-0.8.4-sql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.4-5"><span class="target" id="change-fa2f32447a743902b48fa3efd6a94515"><strong>[sql] [feature]</strong> </span><p>Added support for “unique constraint” reflection, via the
<a class="reference internal" href="../core/reflection.html#sqlalchemy.engine.reflection.Inspector.get_unique_constraints" title="sqlalchemy.engine.reflection.Inspector.get_unique_constraints"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Inspector.get_unique_constraints()</span></code></a> method.
Thanks for Roman Podolyaka for the patch.</p>
<a class="changelog-reference headerlink reference internal" href="#change-fa2f32447a743902b48fa3efd6a94515">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1443">#1443</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.4-postgresql">
<h3>postgresql<a class="headerlink" href="#change-0.8.4-postgresql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.4-6"><span class="target" id="change-a45c250bf38e2c937f2650c53d1eba72"><strong>[postgresql] [bug]</strong> </span><p>Fixed bug where index reflection would mis-interpret indkey values
when using the pypostgresql adapter, which returns these values
as lists vs. psycopg2’s return type of string.</p>
<a class="changelog-reference headerlink reference internal" href="#change-a45c250bf38e2c937f2650c53d1eba72">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2855">#2855</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.4-mssql">
<h3>mssql<a class="headerlink" href="#change-0.8.4-mssql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.4-7"><span class="target" id="change-811ab40236ae0100f280d4d9293b5b0b"><strong>[mssql] [bug]</strong> </span><p>Fixed bug introduced in 0.8.0 where the <code class="docutils literal notranslate"><span class="pre">DROP</span> <span class="pre">INDEX</span></code>
statement for an index in MSSQL would render incorrectly if the
index were in an alternate schema; the schemaname/tablename
would be reversed.  The format has been also been revised to
match current MSSQL documentation.  Courtesy Derek Harland.</p>
<a class="changelog-reference headerlink reference internal" href="#change-811ab40236ae0100f280d4d9293b5b0b">¶</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.4-oracle">
<h3>oracle<a class="headerlink" href="#change-0.8.4-oracle" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.4-8"><span class="target" id="change-6c4c2c6ed5c5a6fea521de2db0a7100d"><strong>[oracle] [bug]</strong> </span><p>Added ORA-02396 “maximum idle time” error code to list of
“is disconnect” codes with cx_oracle.</p>
<a class="changelog-reference headerlink reference internal" href="#change-6c4c2c6ed5c5a6fea521de2db0a7100d">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2864">#2864</a></p>
</p>
</li>
<li><p id="change-0.8.4-9"><span class="target" id="change-b899c8283eb4c7a1212dd4747c28ba83"><strong>[oracle] [bug]</strong> </span><p>Fixed bug where Oracle <code class="docutils literal notranslate"><span class="pre">VARCHAR</span></code> types given with no length
(e.g. for a <code class="docutils literal notranslate"><span class="pre">CAST</span></code> or similar) would incorrectly render <code class="docutils literal notranslate"><span class="pre">None</span> <span class="pre">CHAR</span></code>
or similar.</p>
<a class="changelog-reference headerlink reference internal" href="#change-b899c8283eb4c7a1212dd4747c28ba83">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2870">#2870</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.4-misc">
<h3>misc<a class="headerlink" href="#change-0.8.4-misc" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.4-10"><span class="target" id="change-918754b17d70ee948a39721ec5fac1c0"><strong>[bug] [ext]</strong> </span><p>Fixed bug which prevented the <code class="docutils literal notranslate"><span class="pre">serializer</span></code> extension from working
correctly with table or column names that contain non-ASCII
characters.</p>
<a class="changelog-reference headerlink reference internal" href="#change-918754b17d70ee948a39721ec5fac1c0">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2869">#2869</a></p>
</p>
</li>
</ul>
</div>
</div>
<div class="section" id="change-0.8.3">
<h2 class="release-version">0.8.3<a class="headerlink" href="#change-0.8.3" title="Permalink to this headline">¶</a></h2>
Released: October 26, 2013<div class="section" id="change-0.8.3-orm">
<h3>orm<a class="headerlink" href="#change-0.8.3-orm" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.3-0"><span class="target" id="change-5f2bdb197c797932107639ab179073f5"><strong>[orm] [feature]</strong> </span><p>Added new option to <a class="reference internal" href="../orm/relationship_api.html#sqlalchemy.orm.relationship" title="sqlalchemy.orm.relationship"><code class="xref py py-func docutils literal notranslate"><span class="pre">relationship()</span></code></a> <code class="docutils literal notranslate"><span class="pre">distinct_target_key</span></code>.
This enables the subquery eager loader strategy to apply a DISTINCT
to the innermost SELECT subquery, to assist in the case where
duplicate rows are generated by the innermost query which corresponds
to this relationship (there’s not yet a general solution to the issue
of dupe rows within subquery eager loading, however, when joins outside
of the innermost subquery produce dupes).  When the flag
is set to <code class="docutils literal notranslate"><span class="pre">True</span></code>, the DISTINCT is rendered unconditionally, and when
it is set to <code class="docutils literal notranslate"><span class="pre">None</span></code>, DISTINCT is rendered if the innermost relationship
targets columns that do not comprise a full primary key.
The option defaults to False in 0.8 (e.g. off by default in all cases),
None in 0.9 (e.g. automatic by default).   Thanks to Alexander Koval
for help with this.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="migration_09.html#change-2836"><span class="std std-ref">Subquery Eager Loading will apply DISTINCT to the innermost SELECT for some queries</span></a></p>
</div>
<a class="changelog-reference headerlink reference internal" href="#change-5f2bdb197c797932107639ab179073f5">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2836">#2836</a></p>
</p>
</li>
<li><p id="change-0.8.3-1"><span class="target" id="change-6e089c6d7cb9b25d826af89e8a72abbd"><strong>[orm] [bug]</strong> </span><p>Fixed bug where using an annotation such as <a class="reference internal" href="../orm/relationship_api.html#sqlalchemy.orm.remote" title="sqlalchemy.orm.remote"><code class="xref py py-func docutils literal notranslate"><span class="pre">remote()</span></code></a> or
<a class="reference internal" href="../orm/relationship_api.html#sqlalchemy.orm.foreign" title="sqlalchemy.orm.foreign"><code class="xref py py-func docutils literal notranslate"><span class="pre">foreign()</span></code></a> on a <a class="reference internal" href="../core/metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a> before association with a parent
<a class="reference internal" href="../core/metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a> could produce issues related to the parent table not
rendering within joins, due to the inherent copy operation performed
by an annotation.</p>
<a class="changelog-reference headerlink reference internal" href="#change-6e089c6d7cb9b25d826af89e8a72abbd">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2813">#2813</a></p>
</p>
</li>
<li><p id="change-0.8.3-2"><span class="target" id="change-8a0f22e5cd148955e268067990e34736"><strong>[orm] [bug]</strong> </span><p>Fixed bug where <a class="reference internal" href="../orm/query.html#sqlalchemy.orm.query.Query.exists" title="sqlalchemy.orm.query.Query.exists"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Query.exists()</span></code></a> failed to work correctly
without any WHERE criterion.  Courtesy Vladimir Magamedov.</p>
<a class="changelog-reference headerlink reference internal" href="#change-8a0f22e5cd148955e268067990e34736">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2818">#2818</a></p>
</p>
</li>
<li><p id="change-0.8.3-3"><span class="target" id="change-bd6ff2bdbf0cd87d5d91cdb0b8bbaea3"><strong>[orm] [bug]</strong> </span><p>Backported a change from 0.9 whereby the iteration of a hierarchy
of mappers used in polymorphic inheritance loads is sorted,
which allows the SELECT statements generated for polymorphic queries
to have deterministic rendering, which in turn helps with caching
schemes that cache on the SQL string itself.</p>
<a class="changelog-reference headerlink reference internal" href="#change-bd6ff2bdbf0cd87d5d91cdb0b8bbaea3">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2779">#2779</a></p>
</p>
</li>
<li><p id="change-0.8.3-4"><span class="target" id="change-e8bba6ebed4c7f4e046a964e48671559"><strong>[orm] [bug]</strong> </span><p>Fixed a potential issue in an ordered sequence implementation used
by the ORM to iterate mapper hierarchies; under the Jython interpreter
this implementation wasn’t ordered, even though cPython and PyPy
maintained ordering.</p>
<a class="changelog-reference headerlink reference internal" href="#change-e8bba6ebed4c7f4e046a964e48671559">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2794">#2794</a></p>
</p>
</li>
<li><p id="change-0.8.3-5"><span class="target" id="change-8ae1869183642491f4759b99ff363f50"><strong>[orm] [bug]</strong> </span><p>Fixed bug in ORM-level event registration where the “raw” or
“propagate” flags could potentially be mis-configured in some
“unmapped base class” configurations.</p>
<a class="changelog-reference headerlink reference internal" href="#change-8ae1869183642491f4759b99ff363f50">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2786">#2786</a></p>
</p>
</li>
<li><p id="change-0.8.3-6"><span class="target" id="change-e0c26c7eb00d470043e72cb138076e83"><strong>[orm] [bug]</strong> </span><p>A performance fix related to the usage of the <a class="reference internal" href="../orm/loading_columns.html#sqlalchemy.orm.defer" title="sqlalchemy.orm.defer"><code class="xref py py-func docutils literal notranslate"><span class="pre">defer()</span></code></a> option
when loading mapped entities.   The function overhead of applying
a per-object deferred callable to an instance at load time was
significantly higher than that of just loading the data from the row
(note that <code class="docutils literal notranslate"><span class="pre">defer()</span></code> is meant to reduce DB/network overhead, not
necessarily function call count); the function call overhead is now
less than that of loading data from the column in all cases.  There
is also a reduction in the number of “lazy callable” objects created
per load from N (total deferred values in the result) to 1 (total
number of deferred cols).</p>
<a class="changelog-reference headerlink reference internal" href="#change-e0c26c7eb00d470043e72cb138076e83">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2778">#2778</a></p>
</p>
</li>
<li><p id="change-0.8.3-7"><span class="target" id="change-9c03ac102f40e916dc98dab9b39dcff9"><strong>[orm] [bug]</strong> </span><p>Fixed bug whereby attribute history functions would fail
when an object we moved from “persistent” to “pending”
using the <a class="reference internal" href="../orm/session_api.html#sqlalchemy.orm.session.make_transient" title="sqlalchemy.orm.session.make_transient"><code class="xref py py-func docutils literal notranslate"><span class="pre">make_transient()</span></code></a> function, for operations
involving collection-based backrefs.</p>
<a class="changelog-reference headerlink reference internal" href="#change-9c03ac102f40e916dc98dab9b39dcff9">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2773">#2773</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.3-orm-declarative">
<h3>orm declarative<a class="headerlink" href="#change-0.8.3-orm-declarative" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.3-8"><span class="target" id="change-65c116799fbc9d1d40e71d7c9f431288"><strong>[feature] [declarative] [orm]</strong> </span><p>Added a convenience class decorator <a class="reference internal" href="../orm/extensions/declarative/api.html#sqlalchemy.ext.declarative.as_declarative" title="sqlalchemy.ext.declarative.as_declarative"><code class="xref py py-func docutils literal notranslate"><span class="pre">as_declarative()</span></code></a>, is
a wrapper for <a class="reference internal" href="../orm/extensions/declarative/api.html#sqlalchemy.ext.declarative.declarative_base" title="sqlalchemy.ext.declarative.declarative_base"><code class="xref py py-func docutils literal notranslate"><span class="pre">declarative_base()</span></code></a> which allows an existing base
class to be applied using a nifty class-decorated approach.</p>
<a class="changelog-reference headerlink reference internal" href="#change-65c116799fbc9d1d40e71d7c9f431288">¶</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.3-engine">
<h3>engine<a class="headerlink" href="#change-0.8.3-engine" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.3-9"><span class="target" id="change-7111c76615874a8c28bc6328e686866d"><strong>[engine] [feature]</strong> </span><p><code class="docutils literal notranslate"><span class="pre">repr()</span></code> for the <a class="reference internal" href="../core/engines.html#sqlalchemy.engine.url.URL" title="sqlalchemy.engine.url.URL"><code class="xref py py-class docutils literal notranslate"><span class="pre">URL</span></code></a> of an <a class="reference internal" href="../core/connections.html#sqlalchemy.engine.Engine" title="sqlalchemy.engine.Engine"><code class="xref py py-class docutils literal notranslate"><span class="pre">Engine</span></code></a>
will now conceal the password using asterisks.
Courtesy Gunnlaugur Þór Briem.</p>
<a class="changelog-reference headerlink reference internal" href="#change-7111c76615874a8c28bc6328e686866d">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2821">#2821</a></p>
</p>
</li>
<li><p id="change-0.8.3-10"><span class="target" id="change-3c8c71f7f42cb422d498b573187ea739"><strong>[engine] [bug] [oracle]</strong> </span><p>Dialect.initialize() is not called a second time if an <a class="reference internal" href="../core/connections.html#sqlalchemy.engine.Engine" title="sqlalchemy.engine.Engine"><code class="xref py py-class docutils literal notranslate"><span class="pre">Engine</span></code></a>
is recreated, due to a disconnect error.   This fixes a particular
issue in the Oracle 8 dialect, but in general the dialect.initialize()
phase should only be once per dialect.</p>
<a class="changelog-reference headerlink reference internal" href="#change-3c8c71f7f42cb422d498b573187ea739">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2776">#2776</a></p>
</p>
</li>
<li><p id="change-0.8.3-11"><span class="target" id="change-a95b0f6765fdf5ebdf844806fb2aa122"><strong>[engine] [bug] [pool]</strong> </span><p>Fixed bug where <a class="reference internal" href="../core/pooling.html#sqlalchemy.pool.QueuePool" title="sqlalchemy.pool.QueuePool"><code class="xref py py-class docutils literal notranslate"><span class="pre">QueuePool</span></code></a> would lose the correct
checked out count if an existing pooled connection failed to reconnect
after an invalidate or recycle event.</p>
<a class="changelog-reference headerlink reference internal" href="#change-a95b0f6765fdf5ebdf844806fb2aa122">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2772">#2772</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.3-sql">
<h3>sql<a class="headerlink" href="#change-0.8.3-sql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.3-12"><span class="target" id="change-09f89ba26277c042bb406074ffdc2740"><strong>[sql] [feature]</strong> </span><p>Added new method to the <a class="reference internal" href="../core/dml.html#sqlalchemy.sql.expression.insert" title="sqlalchemy.sql.expression.insert"><code class="xref py py-func docutils literal notranslate"><span class="pre">insert()</span></code></a> construct
<a class="reference internal" href="../core/dml.html#sqlalchemy.sql.expression.Insert.from_select" title="sqlalchemy.sql.expression.Insert.from_select"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Insert.from_select()</span></code></a>.  Given a list of columns and
a selectable, renders <code class="docutils literal notranslate"><span class="pre">INSERT</span> <span class="pre">INTO</span> <span class="pre">(table)</span> <span class="pre">(columns)</span> <span class="pre">SELECT</span> <span class="pre">..</span></code>.</p>
<a class="changelog-reference headerlink reference internal" href="#change-09f89ba26277c042bb406074ffdc2740">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/722">#722</a></p>
</p>
</li>
<li><p id="change-0.8.3-13"><span class="target" id="change-7770102ac46e881dbf4291237e0e33d6"><strong>[sql] [feature]</strong> </span><p>The <a class="reference internal" href="../core/dml.html#sqlalchemy.sql.expression.update" title="sqlalchemy.sql.expression.update"><code class="xref py py-func docutils literal notranslate"><span class="pre">update()</span></code></a>, <a class="reference internal" href="../core/dml.html#sqlalchemy.sql.expression.insert" title="sqlalchemy.sql.expression.insert"><code class="xref py py-func docutils literal notranslate"><span class="pre">insert()</span></code></a>, and <a class="reference internal" href="../core/dml.html#sqlalchemy.sql.expression.delete" title="sqlalchemy.sql.expression.delete"><code class="xref py py-func docutils literal notranslate"><span class="pre">delete()</span></code></a> constructs
will now interpret ORM entities as target tables to be operated upon,
e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="k">import</span> <span class="n">insert</span><span class="p">,</span> <span class="n">update</span><span class="p">,</span> <span class="n">delete</span>

<span class="n">ins</span> <span class="o">=</span> <span class="n">insert</span><span class="p">(</span><span class="n">SomeMappedClass</span><span class="p">)</span><span class="o">.</span><span class="n">values</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>

<span class="n">del_</span> <span class="o">=</span> <span class="n">delete</span><span class="p">(</span><span class="n">SomeMappedClass</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">SomeMappedClass</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="mi">5</span><span class="p">)</span>

<span class="n">upd</span> <span class="o">=</span> <span class="n">update</span><span class="p">(</span><span class="n">SomeMappedClass</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">SomeMappedClass</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">values</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;ed&#39;</span><span class="p">)</span></pre></div>
</div>
<a class="changelog-reference headerlink reference internal" href="#change-7770102ac46e881dbf4291237e0e33d6">¶</a><p></p>
</p>
</li>
<li><p id="change-0.8.3-14"><span class="target" id="change-1b6f91606fec4f5d91c97404339c8c3e"><strong>[sql] [bug]</strong> </span><p>Fixed bug where <a class="reference internal" href="../core/sqlelement.html#sqlalchemy.sql.expression.type_coerce" title="sqlalchemy.sql.expression.type_coerce"><code class="xref py py-func docutils literal notranslate"><span class="pre">type_coerce()</span></code></a> would not interpret ORM
elements with a <code class="docutils literal notranslate"><span class="pre">__clause_element__()</span></code> method properly.</p>
<a class="changelog-reference headerlink reference internal" href="#change-1b6f91606fec4f5d91c97404339c8c3e">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2849">#2849</a></p>
</p>
</li>
<li><p id="change-0.8.3-15"><span class="target" id="change-244a726e2b5227f5eb88f0feac261fef"><strong>[sql] [bug]</strong> </span><p>The <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.Enum" title="sqlalchemy.types.Enum"><code class="xref py py-class docutils literal notranslate"><span class="pre">Enum</span></code></a> and <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.Boolean" title="sqlalchemy.types.Boolean"><code class="xref py py-class docutils literal notranslate"><span class="pre">Boolean</span></code></a> types now bypass
any custom (e.g. TypeDecorator) type in use when producing the
CHECK constraint for the “non native” type.  This so that the custom type
isn’t involved in the expression within the CHECK, since this
expression is against the “impl” value and not the “decorated” value.</p>
<a class="changelog-reference headerlink reference internal" href="#change-244a726e2b5227f5eb88f0feac261fef">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2842">#2842</a></p>
</p>
</li>
<li><p id="change-0.8.3-16"><span class="target" id="change-a4428210d511f08c886403e951a6f7c5"><strong>[sql] [bug]</strong> </span><p>The <code class="docutils literal notranslate"><span class="pre">.unique</span></code> flag on <a class="reference internal" href="../core/constraints.html#sqlalchemy.schema.Index" title="sqlalchemy.schema.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> could be produced as <code class="docutils literal notranslate"><span class="pre">None</span></code>
if it was generated from a <a class="reference internal" href="../core/metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a> that didn’t specify <code class="docutils literal notranslate"><span class="pre">unique</span></code>
(where it defaults to <code class="docutils literal notranslate"><span class="pre">None</span></code>).  The flag will now always be <code class="docutils literal notranslate"><span class="pre">True</span></code> or
<code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
<a class="changelog-reference headerlink reference internal" href="#change-a4428210d511f08c886403e951a6f7c5">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2825">#2825</a></p>
</p>
</li>
<li><p id="change-0.8.3-17"><span class="target" id="change-487183f04e6da9aa27d8817bca9906d1"><strong>[sql] [bug]</strong> </span><p>Fixed bug in default compiler plus those of postgresql, mysql, and
mssql to ensure that any literal SQL expression values are
rendered directly as literals, instead of as bound parameters,
within a CREATE INDEX statement.  This also changes the rendering
scheme for other DDL such as constraints.</p>
<a class="changelog-reference headerlink reference internal" href="#change-487183f04e6da9aa27d8817bca9906d1">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2742">#2742</a></p>
</p>
</li>
<li><p id="change-0.8.3-18"><span class="target" id="change-f403fbb0f55df86dac079fb15eb4e7d7"><strong>[sql] [bug]</strong> </span><p>A <a class="reference internal" href="../core/selectable.html#sqlalchemy.sql.expression.select" title="sqlalchemy.sql.expression.select"><code class="xref py py-func docutils literal notranslate"><span class="pre">select()</span></code></a> that is made to refer to itself in its FROM clause,
typically via in-place mutation, will raise an informative error
message rather than causing a recursion overflow.</p>
<a class="changelog-reference headerlink reference internal" href="#change-f403fbb0f55df86dac079fb15eb4e7d7">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2815">#2815</a></p>
</p>
</li>
<li><p id="change-0.8.3-19"><span class="target" id="change-5e6a31e42152647f14bf8bae4dab5ba4"><strong>[sql] [bug]</strong> </span><p>Non-working “schema” argument on <a class="reference internal" href="../core/constraints.html#sqlalchemy.schema.ForeignKey" title="sqlalchemy.schema.ForeignKey"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForeignKey</span></code></a> is deprecated;
raises a warning.  Removed in 0.9.</p>
<a class="changelog-reference headerlink reference internal" href="#change-5e6a31e42152647f14bf8bae4dab5ba4">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2831">#2831</a></p>
</p>
</li>
<li><p id="change-0.8.3-20"><span class="target" id="change-675072698df0b30451fcea8d235d1e75"><strong>[sql] [bug]</strong> </span><p>Fixed bug where using the <code class="docutils literal notranslate"><span class="pre">column_reflect</span></code> event to change the <code class="docutils literal notranslate"><span class="pre">.key</span></code>
of the incoming <a class="reference internal" href="../core/metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a> would prevent primary key constraints,
indexes, and foreign key constraints from being correctly reflected.</p>
<a class="changelog-reference headerlink reference internal" href="#change-675072698df0b30451fcea8d235d1e75">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2811">#2811</a></p>
</p>
</li>
<li><p id="change-0.8.3-21"><span class="target" id="change-7012bfcf9dece88f5446b4fd773cd291"><strong>[sql] [bug]</strong> </span><p>The <a class="reference internal" href="../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators.notin_" title="sqlalchemy.sql.operators.ColumnOperators.notin_"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ColumnOperators.notin_()</span></code></a> operator added in 0.8 now properly
produces the negation of the expression “IN” returns
when used against an empty collection.</p>
<a class="changelog-reference headerlink reference internal" href="#change-7012bfcf9dece88f5446b4fd773cd291">¶</a><p></p>
</p>
</li>
<li><p id="change-0.8.3-22"><span class="target" id="change-1694faa8f6477c69858ec6cf648a0ca0"><strong>[sql] [bug] [postgresql]</strong> </span><p>Fixed bug where the expression system relied upon the <code class="docutils literal notranslate"><span class="pre">str()</span></code>
form of a some expressions when referring to the <code class="docutils literal notranslate"><span class="pre">.c</span></code> collection
on a <code class="docutils literal notranslate"><span class="pre">select()</span></code> construct, but the <code class="docutils literal notranslate"><span class="pre">str()</span></code> form isn’t available
since the element relies on dialect-specific compilation constructs,
notably the <code class="docutils literal notranslate"><span class="pre">__getitem__()</span></code> operator as used with a PostgreSQL
<code class="docutils literal notranslate"><span class="pre">ARRAY</span></code> element.  The fix also adds a new exception class
<a class="reference internal" href="../core/exceptions.html#sqlalchemy.exc.UnsupportedCompilationError" title="sqlalchemy.exc.UnsupportedCompilationError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">UnsupportedCompilationError</span></code></a> which is raised in those cases
where a compiler is asked to compile something it doesn’t know
how to.</p>
<a class="changelog-reference headerlink reference internal" href="#change-1694faa8f6477c69858ec6cf648a0ca0">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2780">#2780</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.3-postgresql">
<h3>postgresql<a class="headerlink" href="#change-0.8.3-postgresql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.3-23"><span class="target" id="change-0d2fbae9923d9363bce65e24adefba23"><strong>[postgresql] [bug]</strong> </span><p>Removed a 128-character truncation from the reflection of the
server default for a column; this code was original from
PG system views which truncated the string for readability.</p>
<a class="changelog-reference headerlink reference internal" href="#change-0d2fbae9923d9363bce65e24adefba23">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2844">#2844</a></p>
</p>
</li>
<li><p id="change-0.8.3-24"><span class="target" id="change-b2f836d7e1ecf9fb536a07100e079cc5"><strong>[postgresql] [bug]</strong> </span><p>Parenthesis will be applied to a compound SQL expression as
rendered in the column list of a CREATE INDEX statement.</p>
<a class="changelog-reference headerlink reference internal" href="#change-b2f836d7e1ecf9fb536a07100e079cc5">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2742">#2742</a></p>
</p>
</li>
<li><p id="change-0.8.3-25"><span class="target" id="change-c4c56ab5eb0f913ea1abb88debe2784c"><strong>[postgresql] [bug]</strong> </span><p>Fixed bug where PostgreSQL version strings that had a prefix preceding
the words “PostgreSQL” or “EnterpriseDB” would not parse.
Courtesy Scott Schaefer.</p>
<a class="changelog-reference headerlink reference internal" href="#change-c4c56ab5eb0f913ea1abb88debe2784c">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2819">#2819</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.3-mysql">
<h3>mysql<a class="headerlink" href="#change-0.8.3-mysql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.3-26"><span class="target" id="change-f8980c12474534ac31102ea813a57a1b"><strong>[mysql] [bug]</strong> </span><p>The change in <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2721">#2721</a>, which is that the <code class="docutils literal notranslate"><span class="pre">deferrable</span></code> keyword
of <a class="reference internal" href="../core/constraints.html#sqlalchemy.schema.ForeignKeyConstraint" title="sqlalchemy.schema.ForeignKeyConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForeignKeyConstraint</span></code></a> is silently ignored on the MySQL
backend, will be reverted as of 0.9; this keyword will now render again, raising
errors on MySQL as it is not understood - the same behavior will also
apply to the <code class="docutils literal notranslate"><span class="pre">initially</span></code> keyword.  In 0.8, the keywords will remain
ignored but a warning is emitted.   Additionally, the <code class="docutils literal notranslate"><span class="pre">match</span></code> keyword
now raises a <a class="reference internal" href="../core/exceptions.html#sqlalchemy.exc.CompileError" title="sqlalchemy.exc.CompileError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">CompileError</span></code></a> on 0.9 and emits a warning on 0.8;
this keyword is not only silently ignored by MySQL but also breaks
the ON UPDATE/ON DELETE options.</p>
<p>To use a <a class="reference internal" href="../core/constraints.html#sqlalchemy.schema.ForeignKeyConstraint" title="sqlalchemy.schema.ForeignKeyConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForeignKeyConstraint</span></code></a>
that does not render or renders differently on MySQL, use a custom
compilation option.  An example of this usage has been added to the
documentation, see <a class="reference internal" href="../dialects/mysql.html#mysql-foreign-keys"><span class="std std-ref">MySQL Foreign Keys</span></a>.</p>
<a class="changelog-reference headerlink reference internal" href="#change-f8980c12474534ac31102ea813a57a1b">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2721">#2721</a>, <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2839">#2839</a></p>
</p>
</li>
<li><p id="change-0.8.3-27"><span class="target" id="change-aada183c3aa9880e9262cd3ee6d0f047"><strong>[mysql] [bug]</strong> </span><p>MySQL-connector dialect now allows options in the create_engine
query string to override those defaults set up in the connect,
including “buffered” and “raise_on_warnings”.</p>
<a class="changelog-reference headerlink reference internal" href="#change-aada183c3aa9880e9262cd3ee6d0f047">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2515">#2515</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.3-sqlite">
<h3>sqlite<a class="headerlink" href="#change-0.8.3-sqlite" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.3-28"><span class="target" id="change-15fd7971b2a7d12d88f6701df1068e0a"><strong>[sqlite] [bug]</strong> </span><p>The newly added SQLite DATETIME arguments storage_format and
regexp apparently were not fully implemented correctly; while the
arguments were accepted, in practice they would have no effect;
this has been fixed.</p>
<a class="changelog-reference headerlink reference internal" href="#change-15fd7971b2a7d12d88f6701df1068e0a">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2781">#2781</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.3-oracle">
<h3>oracle<a class="headerlink" href="#change-0.8.3-oracle" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.3-29"><span class="target" id="change-df45fec86fb2c3ba45a71dfaa6bc589b"><strong>[oracle] [bug]</strong> </span><p>Fixed bug where Oracle table reflection using synonyms would fail
if the synonym and the table were in different remote schemas.
Patch to fix courtesy Kyle Derr.</p>
<a class="changelog-reference headerlink reference internal" href="#change-df45fec86fb2c3ba45a71dfaa6bc589b">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2853">#2853</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.3-misc">
<h3>misc<a class="headerlink" href="#change-0.8.3-misc" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.3-30"><span class="target" id="change-77ffc6dfb1cfdfa745330bb19c5a7f09"><strong>[feature]</strong> </span><p>Added a new flag <code class="docutils literal notranslate"><span class="pre">system=True</span></code> to <a class="reference internal" href="../core/metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a>, which marks
the column as a “system” column which is automatically made present
by the database (such as PostgreSQL <code class="docutils literal notranslate"><span class="pre">oid</span></code> or <code class="docutils literal notranslate"><span class="pre">xmin</span></code>).  The
column will be omitted from the <code class="docutils literal notranslate"><span class="pre">CREATE</span> <span class="pre">TABLE</span></code> statement but will
otherwise be available for querying.   In addition, the
<a class="reference internal" href="../core/ddl.html#sqlalchemy.schema.CreateColumn" title="sqlalchemy.schema.CreateColumn"><code class="xref py py-class docutils literal notranslate"><span class="pre">CreateColumn</span></code></a> construct can be applied to a custom
compilation rule which allows skipping of columns, by producing
a rule that returns <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
<a class="changelog-reference headerlink reference internal" href="#change-77ffc6dfb1cfdfa745330bb19c5a7f09">¶</a><p></p>
</p>
</li>
<li><p id="change-0.8.3-31"><span class="target" id="change-512d118321cd5025929f5f9fe0b5f82f"><strong>[feature] [examples]</strong> </span><p>Improved the examples in <code class="docutils literal notranslate"><span class="pre">examples/generic_associations</span></code>, including
that <code class="docutils literal notranslate"><span class="pre">discriminator_on_association.py</span></code> makes use of single table
inheritance do the work with the “discriminator”.  Also
added a true “generic foreign key” example, which works similarly
to other popular frameworks in that it uses an open-ended integer
to point to any other table, foregoing traditional referential
integrity.  While we don’t recommend this pattern, information wants
to be free.</p>
<a class="changelog-reference headerlink reference internal" href="#change-512d118321cd5025929f5f9fe0b5f82f">¶</a><p></p>
</p>
</li>
<li><p id="change-0.8.3-32"><span class="target" id="change-b9729e8544ea5c4cef86dc541f174f91"><strong>[bug] [examples]</strong> </span><p>Added “autoincrement=False” to the history table created in the
versioning example, as this table shouldn’t have autoinc on it
in any case, courtesy Patrick Schmid.</p>
<a class="changelog-reference headerlink reference internal" href="#change-b9729e8544ea5c4cef86dc541f174f91">¶</a><p></p>
</p>
</li>
</ul>
</div>
</div>
<div class="section" id="change-0.8.2">
<h2 class="release-version">0.8.2<a class="headerlink" href="#change-0.8.2" title="Permalink to this headline">¶</a></h2>
Released: July 3, 2013<div class="section" id="change-0.8.2-orm">
<h3>orm<a class="headerlink" href="#change-0.8.2-orm" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.2-0"><span class="target" id="change-c05bcdba9495b9c08f29a9a3304b5d70"><strong>[orm] [feature]</strong> </span><p>Added a new method <a class="reference internal" href="../orm/query.html#sqlalchemy.orm.query.Query.select_entity_from" title="sqlalchemy.orm.query.Query.select_entity_from"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Query.select_entity_from()</span></code></a> which
will in 0.9 replace part of the functionality of
<a class="reference internal" href="../orm/query.html#sqlalchemy.orm.query.Query.select_from" title="sqlalchemy.orm.query.Query.select_from"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Query.select_from()</span></code></a>.  In 0.8, the two methods perform
the same function, so that code can be migrated to use the
<a class="reference internal" href="../orm/query.html#sqlalchemy.orm.query.Query.select_entity_from" title="sqlalchemy.orm.query.Query.select_entity_from"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Query.select_entity_from()</span></code></a> method as appropriate.
See the 0.9 migration guide for details.</p>
<a class="changelog-reference headerlink reference internal" href="#change-c05bcdba9495b9c08f29a9a3304b5d70">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2736">#2736</a></p>
</p>
</li>
<li><p id="change-0.8.2-1"><span class="target" id="change-2317157430cb5b525364054990497eb9"><strong>[orm] [bug]</strong> </span><p>A warning is emitted when trying to flush an object of an inherited
class where the polymorphic discriminator has been assigned
to a value that is invalid for the class.</p>
<a class="changelog-reference headerlink reference internal" href="#change-2317157430cb5b525364054990497eb9">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2750">#2750</a></p>
</p>
</li>
<li><p id="change-0.8.2-2"><span class="target" id="change-14c40b5830402d04cc5573ff79f332eb"><strong>[orm] [bug]</strong> </span><p>Fixed bug in polymorphic SQL generation where multiple joined-inheritance
entities against the same base class joined to each other as well
would not track columns on the base table independently of each other if
the string of joins were more than two entities long.</p>
<a class="changelog-reference headerlink reference internal" href="#change-14c40b5830402d04cc5573ff79f332eb">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2759">#2759</a></p>
</p>
</li>
<li><p id="change-0.8.2-3"><span class="target" id="change-3f06591039ab2c0ed2a898ffead8c351"><strong>[orm] [bug]</strong> </span><p>Fixed bug where sending a composite attribute into <a class="reference internal" href="../orm/query.html#sqlalchemy.orm.query.Query.order_by" title="sqlalchemy.orm.query.Query.order_by"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Query.order_by()</span></code></a>
would produce a parenthesized expression not accepted by some databases.</p>
<a class="changelog-reference headerlink reference internal" href="#change-3f06591039ab2c0ed2a898ffead8c351">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2754">#2754</a></p>
</p>
</li>
<li><p id="change-0.8.2-4"><span class="target" id="change-ee0ed481a7e6f8f589ed19bf4e7020b9"><strong>[orm] [bug]</strong> </span><p>Fixed the interaction between composite attributes and
the <a class="reference internal" href="../orm/query.html#sqlalchemy.orm.aliased" title="sqlalchemy.orm.aliased"><code class="xref py py-func docutils literal notranslate"><span class="pre">aliased()</span></code></a> function.  Previously, composite attributes
wouldn’t work correctly in comparison operations when aliasing
was applied.</p>
<a class="changelog-reference headerlink reference internal" href="#change-ee0ed481a7e6f8f589ed19bf4e7020b9">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2755">#2755</a></p>
</p>
</li>
<li><p id="change-0.8.2-5"><span class="target" id="change-72bfaa8a25e4c1853aa4c9b781eaa9a1"><strong>[orm] [bug] [ext]</strong> </span><p>Fixed bug where <a class="reference internal" href="../orm/extensions/mutable.html#sqlalchemy.ext.mutable.MutableDict" title="sqlalchemy.ext.mutable.MutableDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">MutableDict</span></code></a> didn’t report a change event
when <code class="docutils literal notranslate"><span class="pre">clear()</span></code> was called.</p>
<a class="changelog-reference headerlink reference internal" href="#change-72bfaa8a25e4c1853aa4c9b781eaa9a1">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2730">#2730</a></p>
</p>
</li>
<li><p id="change-0.8.2-6"><span class="target" id="change-12637c141bbfeb7bbcd46cd473878404"><strong>[orm] [bug]</strong> </span><p>Fixed a regression caused by <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2682">#2682</a> whereby the
evaluation invoked by <a class="reference internal" href="../orm/query.html#sqlalchemy.orm.query.Query.update" title="sqlalchemy.orm.query.Query.update"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Query.update()</span></code></a> and <a class="reference internal" href="../orm/query.html#sqlalchemy.orm.query.Query.delete" title="sqlalchemy.orm.query.Query.delete"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Query.delete()</span></code></a>
would hit upon unsupported <code class="docutils literal notranslate"><span class="pre">True</span></code> and <code class="docutils literal notranslate"><span class="pre">False</span></code> symbols
which now appear due to the usage of <code class="docutils literal notranslate"><span class="pre">IS</span></code>.</p>
<a class="changelog-reference headerlink reference internal" href="#change-12637c141bbfeb7bbcd46cd473878404">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2737">#2737</a></p>
</p>
</li>
<li><p id="change-0.8.2-7"><span class="target" id="change-885c8bfa8d2c554bbf343bc9537b9b8e"><strong>[orm] [bug]</strong> </span><p>Fixed a regression from 0.7 caused by this ticket, which
made the check for recursion overflow in self-referential
eager joining too loose, missing a particular circumstance
where a subclass had lazy=”joined” or “subquery” configured
and the load was a “with_polymorphic” against the base.</p>
<a class="changelog-reference headerlink reference internal" href="#change-885c8bfa8d2c554bbf343bc9537b9b8e">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2481">#2481</a></p>
</p>
</li>
<li><p id="change-0.8.2-8"><span class="target" id="change-8f7f445e4299f4950355f914240458aa"><strong>[orm] [bug]</strong> </span><p>Fixed a regression from 0.7 where the contextmanager feature
of <a class="reference internal" href="../orm/session_api.html#sqlalchemy.orm.session.Session.begin_nested" title="sqlalchemy.orm.session.Session.begin_nested"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.begin_nested()</span></code></a> would fail to correctly
roll back the transaction when a flush error occurred, instead
raising its own exception while leaving the session still
pending a rollback.</p>
<a class="changelog-reference headerlink reference internal" href="#change-8f7f445e4299f4950355f914240458aa">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2718">#2718</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.2-orm-declarative">
<h3>orm declarative<a class="headerlink" href="#change-0.8.2-orm-declarative" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.2-9"><span class="target" id="change-4ff13b29211231fa799c3c09281ee426"><strong>[feature] [declarative] [orm]</strong> </span><p>ORM descriptors such as hybrid properties can now be referenced
by name in a string argument used with <code class="docutils literal notranslate"><span class="pre">order_by</span></code>,
<code class="docutils literal notranslate"><span class="pre">primaryjoin</span></code>, or similar in <a class="reference internal" href="../orm/relationship_api.html#sqlalchemy.orm.relationship" title="sqlalchemy.orm.relationship"><code class="xref py py-func docutils literal notranslate"><span class="pre">relationship()</span></code></a>,
in addition to column-bound attributes.</p>
<a class="changelog-reference headerlink reference internal" href="#change-4ff13b29211231fa799c3c09281ee426">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2761">#2761</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.2-engine">
<h3>engine<a class="headerlink" href="#change-0.8.2-engine" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.2-10"><span class="target" id="change-50203a688fa4d9aeaca6bd82e0186374"><strong>[engine] [bug]</strong> </span><p>Fixed bug where the <code class="docutils literal notranslate"><span class="pre">reset_on_return</span></code> argument to various <a class="reference internal" href="../core/pooling.html#sqlalchemy.pool.Pool" title="sqlalchemy.pool.Pool"><code class="xref py py-class docutils literal notranslate"><span class="pre">Pool</span></code></a>
implementations would not be propagated when the pool was regenerated.
Courtesy Eevee.</p>
<a class="changelog-reference headerlink reference internal" href="#change-50203a688fa4d9aeaca6bd82e0186374">¶</a><p></p>
</p>
</li>
<li><p id="change-0.8.2-11"><span class="target" id="change-1b593aa7c17313e714731fc32dac43e7"><strong>[engine] [bug] [sybase]</strong> </span><p>Fixed a bug where the routine to detect the correct kwargs
being sent to <a class="reference internal" href="../core/engines.html#sqlalchemy.create_engine" title="sqlalchemy.create_engine"><code class="xref py py-func docutils literal notranslate"><span class="pre">create_engine()</span></code></a> would fail in some cases,
such as with the Sybase dialect.</p>
<a class="changelog-reference headerlink reference internal" href="#change-1b593aa7c17313e714731fc32dac43e7">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2732">#2732</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.2-sql">
<h3>sql<a class="headerlink" href="#change-0.8.2-sql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.2-12"><span class="target" id="change-4ed6ba3989c1e07968a5407fcfca903f"><strong>[sql] [feature]</strong> </span><p>Provided a new attribute for <a class="reference internal" href="../core/custom_types.html#sqlalchemy.types.TypeDecorator" title="sqlalchemy.types.TypeDecorator"><code class="xref py py-class docutils literal notranslate"><span class="pre">TypeDecorator</span></code></a>
called <a class="reference internal" href="../core/custom_types.html#sqlalchemy.types.TypeDecorator.coerce_to_is_types" title="sqlalchemy.types.TypeDecorator.coerce_to_is_types"><code class="xref py py-attr docutils literal notranslate"><span class="pre">TypeDecorator.coerce_to_is_types</span></code></a>,
to make it easier to control how comparisons using
<code class="docutils literal notranslate"><span class="pre">==</span></code> or <code class="docutils literal notranslate"><span class="pre">!=</span></code> to <code class="docutils literal notranslate"><span class="pre">None</span></code> and boolean types goes
about producing an <code class="docutils literal notranslate"><span class="pre">IS</span></code> expression, or a plain
equality expression with a bound parameter.</p>
<a class="changelog-reference headerlink reference internal" href="#change-4ed6ba3989c1e07968a5407fcfca903f">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2734">#2734</a>, <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2744">#2744</a></p>
</p>
</li>
<li><p id="change-0.8.2-13"><span class="target" id="change-9a8da1a66f295972299d1917dabc5c6d"><strong>[sql] [bug]</strong> </span><p>Multiple fixes to the correlation behavior of
<a class="reference internal" href="../core/selectable.html#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a> constructs, first introduced in 0.8.0:</p>
<ul>
<li><p>To satisfy the use case where FROM entries should be
correlated outwards to a SELECT that encloses another,
which then encloses this one, correlation now works
across multiple levels when explicit correlation is
established via <a class="reference internal" href="../core/selectable.html#sqlalchemy.sql.expression.Select.correlate" title="sqlalchemy.sql.expression.Select.correlate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.correlate()</span></code></a>, provided
that the target select is somewhere along the chain
contained by a WHERE/ORDER BY/columns clause, not
just nested FROM clauses. This makes
<a class="reference internal" href="../core/selectable.html#sqlalchemy.sql.expression.Select.correlate" title="sqlalchemy.sql.expression.Select.correlate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.correlate()</span></code></a> act more compatibly to
that of 0.7 again while still maintaining the new
“smart” correlation.</p></li>
<li><p>When explicit correlation is not used, the usual
“implicit” correlation limits its behavior to just
the immediate enclosing SELECT, to maximize compatibility
with 0.7 applications, and also prevents correlation
across nested FROMs in this case, maintaining compatibility
with 0.8.0/0.8.1.</p></li>
<li><p>The <a class="reference internal" href="../core/selectable.html#sqlalchemy.sql.expression.Select.correlate_except" title="sqlalchemy.sql.expression.Select.correlate_except"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.correlate_except()</span></code></a> method was not
preventing the given FROM clauses from correlation in
all cases, and also would cause FROM clauses to be incorrectly
omitted entirely (more like what 0.7 would do),
this has been fixed.</p></li>
<li><p>Calling <cite>select.correlate_except(None)</cite> will enter
all FROM clauses into correlation as would be expected.</p></li>
</ul>
<a class="changelog-reference headerlink reference internal" href="#change-9a8da1a66f295972299d1917dabc5c6d">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2668">#2668</a>, <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2746">#2746</a></p>
</p>
</li>
<li><p id="change-0.8.2-14"><span class="target" id="change-eb9b4feabd1d4a81b9f5f3d35270051b"><strong>[sql] [bug]</strong> </span><p>Fixed bug whereby joining a select() of a table “A” with multiple
foreign key paths to a table “B”, to that table “B”, would fail
to produce the “ambiguous join condition” error that would be
reported if you join table “A” directly to “B”; it would instead
produce a join condition with multiple criteria.</p>
<a class="changelog-reference headerlink reference internal" href="#change-eb9b4feabd1d4a81b9f5f3d35270051b">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2738">#2738</a></p>
</p>
</li>
<li><p id="change-0.8.2-15"><span class="target" id="change-d7e911a245c7336acac6b0361173f15a"><strong>[sql] [bug] [reflection]</strong> </span><p>Fixed bug whereby using <a class="reference internal" href="../core/metadata.html#sqlalchemy.schema.MetaData.reflect" title="sqlalchemy.schema.MetaData.reflect"><code class="xref py py-meth docutils literal notranslate"><span class="pre">MetaData.reflect()</span></code></a> across a remote
schema as well as a local schema could produce wrong results
in the case where both schemas had a table of the same name.</p>
<a class="changelog-reference headerlink reference internal" href="#change-d7e911a245c7336acac6b0361173f15a">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2728">#2728</a></p>
</p>
</li>
<li><p id="change-0.8.2-16"><span class="target" id="change-3910b8156b7ae7cf1764d821698814b1"><strong>[sql] [bug]</strong> </span><p>Removed the “not implemented” <code class="docutils literal notranslate"><span class="pre">__iter__()</span></code> call from the base
<a class="reference internal" href="../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators" title="sqlalchemy.sql.operators.ColumnOperators"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnOperators</span></code></a> class, while this was introduced
in 0.8.0 to prevent an endless, memory-growing loop when one also
implements a <code class="docutils literal notranslate"><span class="pre">__getitem__()</span></code> method on a custom
operator and then calls erroneously <code class="docutils literal notranslate"><span class="pre">list()</span></code> on that object,
it had the effect of causing column elements to report that they
were in fact iterable types which then throw an error when you try
to iterate.   There’s no real way to have both sides here so we
stick with Python best practices.  Careful with implementing
<code class="docutils literal notranslate"><span class="pre">__getitem__()</span></code> on your custom operators!</p>
<a class="changelog-reference headerlink reference internal" href="#change-3910b8156b7ae7cf1764d821698814b1">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2726">#2726</a></p>
</p>
</li>
<li><p id="change-0.8.2-17"><span class="target" id="change-540edefe60898115a13643ede2e44b1a"><strong>[sql] [bug] [mssql]</strong> </span><p>Regression from this ticket caused the unsupported keyword
“true” to render, added logic to convert this to 1/0
for SQL server.</p>
<a class="changelog-reference headerlink reference internal" href="#change-540edefe60898115a13643ede2e44b1a">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2682">#2682</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.2-postgresql">
<h3>postgresql<a class="headerlink" href="#change-0.8.2-postgresql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.2-18"><span class="target" id="change-edaaa957b4cf0a9b501fe4e1d6ae9c46"><strong>[postgresql] [feature]</strong> </span><p>Support for PostgreSQL 9.2 range types has been added.
Currently, no type translation is provided, so works
directly with strings or psycopg2 2.5 range extension types
at the moment.  Patch courtesy Chris Withers.</p>
<a class="changelog-reference headerlink reference internal" href="#change-edaaa957b4cf0a9b501fe4e1d6ae9c46">¶</a><p></p>
</p>
</li>
<li><p id="change-0.8.2-19"><span class="target" id="change-034ec567135f8813432798919e6a23ca"><strong>[postgresql] [feature]</strong> </span><p>Added support for “AUTOCOMMIT” isolation when using the psycopg2
DBAPI.   The keyword is available via the <code class="docutils literal notranslate"><span class="pre">isolation_level</span></code>
execution option.  Patch courtesy Roman Podolyaka.</p>
<a class="changelog-reference headerlink reference internal" href="#change-034ec567135f8813432798919e6a23ca">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2072">#2072</a></p>
</p>
</li>
<li><p id="change-0.8.2-20"><span class="target" id="change-77ccb535ff64cc8a21a4e2eedc9a3e4a"><strong>[postgresql] [bug]</strong> </span><p>The behavior of <a class="reference internal" href="../core/sqlelement.html#sqlalchemy.sql.expression.extract" title="sqlalchemy.sql.expression.extract"><code class="xref py py-func docutils literal notranslate"><span class="pre">extract()</span></code></a> has been simplified on the
PostgreSQL dialect to no longer inject a hardcoded <code class="docutils literal notranslate"><span class="pre">::timestamp</span></code>
or similar cast into the given expression, as this interfered
with types such as timezone-aware datetimes, but also
does not appear to be at all necessary with modern versions
of psycopg2.</p>
<a class="changelog-reference headerlink reference internal" href="#change-77ccb535ff64cc8a21a4e2eedc9a3e4a">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2740">#2740</a></p>
</p>
</li>
<li><p id="change-0.8.2-21"><span class="target" id="change-ebde2a412e8b54710edc830176e62656"><strong>[postgresql] [bug]</strong> </span><p>Fixed bug in HSTORE type where keys/values that contained
backslashed quotes would not be escaped correctly when
using the “non native” (i.e. non-psycopg2) means
of translating HSTORE data.  Patch courtesy Ryan Kelly.</p>
<a class="changelog-reference headerlink reference internal" href="#change-ebde2a412e8b54710edc830176e62656">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2766">#2766</a></p>
</p>
</li>
<li><p id="change-0.8.2-22"><span class="target" id="change-a23ca28c0799e77768594b2c548788e3"><strong>[postgresql] [bug]</strong> </span><p>Fixed bug where the order of columns in a multi-column
PostgreSQL index would be reflected in the wrong order.
Courtesy Roman Podolyaka.</p>
<a class="changelog-reference headerlink reference internal" href="#change-a23ca28c0799e77768594b2c548788e3">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2767">#2767</a></p>
</p>
</li>
<li><p id="change-0.8.2-23"><span class="target" id="change-6badd661ef2ad66c13d5727dd91baf62"><strong>[postgresql] [bug]</strong> </span><p>Fixed the HSTORE type to correctly encode/decode for unicode.
This is always on, as the hstore is a textual type, and
matches the behavior of psycopg2 when using Python 3.
Courtesy Dmitry Mugtasimov.</p>
<a class="changelog-reference headerlink reference internal" href="#change-6badd661ef2ad66c13d5727dd91baf62">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2735">#2735</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.2-mysql">
<h3>mysql<a class="headerlink" href="#change-0.8.2-mysql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.2-24"><span class="target" id="change-449491292fcd4f1aff83eaa0524f783f"><strong>[mysql] [feature]</strong> </span><p>The <code class="docutils literal notranslate"><span class="pre">mysql_length</span></code> parameter used with <a class="reference internal" href="../core/constraints.html#sqlalchemy.schema.Index" title="sqlalchemy.schema.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> can now
be passed as a dictionary of column names/lengths, for use
with composite indexes.  Big thanks to Roman Podolyaka for the
patch.</p>
<a class="changelog-reference headerlink reference internal" href="#change-449491292fcd4f1aff83eaa0524f783f">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2704">#2704</a></p>
</p>
</li>
<li><p id="change-0.8.2-25"><span class="target" id="change-a6e3228b98f64879f8cc5e7d941870a6"><strong>[mysql] [bug]</strong> </span><p>Fixed bug when using multi-table UPDATE where a supplemental
table is a SELECT with its own bound parameters, where the positioning
of the bound parameters would be reversed versus the statement
itself when using MySQL’s special syntax.</p>
<a class="changelog-reference headerlink reference internal" href="#change-a6e3228b98f64879f8cc5e7d941870a6">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2768">#2768</a></p>
</p>
</li>
<li><p id="change-0.8.2-26"><span class="target" id="change-80436389fb1012b0dec8f741ede49f6e"><strong>[mysql] [bug]</strong> </span><p>Added another conditional to the <code class="docutils literal notranslate"><span class="pre">mysql+gaerdbms</span></code> dialect to
detect so-called “development” mode, where we should use the
<code class="docutils literal notranslate"><span class="pre">rdbms_mysqldb</span></code> DBAPI.  Patch courtesy Brett Slatkin.</p>
<a class="changelog-reference headerlink reference internal" href="#change-80436389fb1012b0dec8f741ede49f6e">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2715">#2715</a></p>
</p>
</li>
<li><p id="change-0.8.2-27"><span class="target" id="change-abda9a524f74a360af54e6a281537062"><strong>[mysql] [bug]</strong> </span><p>The <code class="docutils literal notranslate"><span class="pre">deferrable</span></code> keyword argument on <a class="reference internal" href="../core/constraints.html#sqlalchemy.schema.ForeignKey" title="sqlalchemy.schema.ForeignKey"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForeignKey</span></code></a> and
<a class="reference internal" href="../core/constraints.html#sqlalchemy.schema.ForeignKeyConstraint" title="sqlalchemy.schema.ForeignKeyConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForeignKeyConstraint</span></code></a> will not render the <code class="docutils literal notranslate"><span class="pre">DEFERRABLE</span></code> keyword
on the MySQL dialect.  For a long time we left this in place because
a non-deferrable foreign key would act very differently than a deferrable
one, but some environments just disable FKs on MySQL, so we’ll be less
opinionated here.</p>
<a class="changelog-reference headerlink reference internal" href="#change-abda9a524f74a360af54e6a281537062">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2721">#2721</a></p>
</p>
</li>
<li><p id="change-0.8.2-28"><span class="target" id="change-21da2a634f095070d6fc59a7e9ed8ff6"><strong>[mysql] [bug]</strong> </span><p>Updated mysqlconnector dialect to check for disconnect based
on the apparent string message sent in the exception; tested
against mysqlconnector 1.0.9.</p>
<a class="changelog-reference headerlink reference internal" href="#change-21da2a634f095070d6fc59a7e9ed8ff6">¶</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.2-sqlite">
<h3>sqlite<a class="headerlink" href="#change-0.8.2-sqlite" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.2-29"><span class="target" id="change-df893c816a04361e8ac3efbae7be0245"><strong>[sqlite] [bug]</strong> </span><p>Added <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.BIGINT" title="sqlalchemy.types.BIGINT"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.types.BIGINT</span></code></a> to the list of type names that can be
reflected by the SQLite dialect; courtesy Russell Stuart.</p>
<a class="changelog-reference headerlink reference internal" href="#change-df893c816a04361e8ac3efbae7be0245">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2764">#2764</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.2-mssql">
<h3>mssql<a class="headerlink" href="#change-0.8.2-mssql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.2-30"><span class="target" id="change-099b8a881a2fa57ff216a0199b78b136"><strong>[mssql] [bug]</strong> </span><p>When querying the information schema on SQL Server 2000, removed
a CAST call that was added in 0.8.1 to help with driver issues,
which apparently is not compatible on 2000.
The CAST remains in place for SQL Server 2005 and greater.</p>
<a class="changelog-reference headerlink reference internal" href="#change-099b8a881a2fa57ff216a0199b78b136">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2747">#2747</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.2-firebird">
<h3>firebird<a class="headerlink" href="#change-0.8.2-firebird" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.2-31"><span class="target" id="change-69c1d3c5f9d948061e45bd3047fada44"><strong>[firebird] [feature]</strong> </span><p>Added new flag <code class="docutils literal notranslate"><span class="pre">retaining=True</span></code> to the kinterbasdb and fdb dialects.
This controls the value of the <code class="docutils literal notranslate"><span class="pre">retaining</span></code> flag sent to the
<code class="docutils literal notranslate"><span class="pre">commit()</span></code> and <code class="docutils literal notranslate"><span class="pre">rollback()</span></code> methods of the DBAPI connection.
Due to historical concerns, this flag defaults to <code class="docutils literal notranslate"><span class="pre">True</span></code> in 0.8.2,
however in 0.9.0b1 this flag defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
<a class="changelog-reference headerlink reference internal" href="#change-69c1d3c5f9d948061e45bd3047fada44">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2763">#2763</a></p>
</p>
</li>
<li><p id="change-0.8.2-32"><span class="target" id="change-8ec28bdf32933102eee189870c53897d"><strong>[firebird] [bug]</strong> </span><p>Type lookup when reflecting the Firebird types LONG and
INT64 has been fixed so that LONG is treated as INTEGER,
INT64 treated as BIGINT, unless the type has a “precision”
in which case it’s treated as NUMERIC.  Patch courtesy
Russell Stuart.</p>
<a class="changelog-reference headerlink reference internal" href="#change-8ec28bdf32933102eee189870c53897d">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2757">#2757</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.2-misc">
<h3>misc<a class="headerlink" href="#change-0.8.2-misc" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.2-33"><span class="target" id="change-0a42d6a1f8163b19a30432f19fb736df"><strong>[bug] [ext]</strong> </span><p>Fixed bug whereby if a composite type were set up
with a function instead of a class, the mutable extension
would trip up when it tried to check that column
for being a <a class="reference internal" href="../orm/extensions/mutable.html#sqlalchemy.ext.mutable.MutableComposite" title="sqlalchemy.ext.mutable.MutableComposite"><code class="xref py py-class docutils literal notranslate"><span class="pre">MutableComposite</span></code></a> (which it isn’t).
Courtesy asldevi.</p>
<a class="changelog-reference headerlink reference internal" href="#change-0a42d6a1f8163b19a30432f19fb736df">¶</a><p></p>
</p>
</li>
<li><p id="change-0.8.2-34"><span class="target" id="change-ddb41e891832626d10e5a7619ddf6ab6"><strong>[bug] [examples]</strong> </span><p>Fixed an issue with the “versioning” recipe whereby a many-to-one
reference could produce a meaningless version for the target,
even though it was not changed, when backrefs were present.
Patch courtesy Matt Chisholm.</p>
<a class="changelog-reference headerlink reference internal" href="#change-ddb41e891832626d10e5a7619ddf6ab6">¶</a><p></p>
</p>
</li>
<li><p id="change-0.8.2-35"><span class="target" id="change-15c9f4b96d85015500733b401d2d49ee"><strong>[bug] [examples]</strong> </span><p>Fixed a small bug in the dogpile example where the generation
of SQL cache keys wasn’t applying deduping labels to the
statement the same way <a class="reference internal" href="../orm/query.html#sqlalchemy.orm.query.Query" title="sqlalchemy.orm.query.Query"><code class="xref py py-class docutils literal notranslate"><span class="pre">Query</span></code></a> normally does.</p>
<a class="changelog-reference headerlink reference internal" href="#change-15c9f4b96d85015500733b401d2d49ee">¶</a><p></p>
</p>
</li>
<li><p id="change-0.8.2-36"><span class="target" id="change-b870fcaa80c275cd3aeaa0ba3d5ecdd2"><strong>[requirements]</strong> </span><p>The Python <a class="reference external" href="https://pypi.python.org/pypi/mock">mock</a> library
is now required in order to run the unit test suite.  While part
of the standard library as of Python 3.3, previous Python installations
will need to install this in order to run unit tests or to
use the <code class="docutils literal notranslate"><span class="pre">sqlalchemy.testing</span></code> package for external dialects.</p>
<a class="changelog-reference headerlink reference internal" href="#change-b870fcaa80c275cd3aeaa0ba3d5ecdd2">¶</a><p></p>
</p>
</li>
</ul>
</div>
</div>
<div class="section" id="change-0.8.1">
<h2 class="release-version">0.8.1<a class="headerlink" href="#change-0.8.1" title="Permalink to this headline">¶</a></h2>
Released: April 27, 2013<div class="section" id="change-0.8.1-orm">
<h3>orm<a class="headerlink" href="#change-0.8.1-orm" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.1-0"><span class="target" id="change-d3cfa93423491229afc63cd986596305"><strong>[orm] [feature]</strong> </span><p>Added a convenience method to Query that turns a query into an
EXISTS subquery of the form
<code class="docutils literal notranslate"><span class="pre">EXISTS</span> <span class="pre">(SELECT</span> <span class="pre">1</span> <span class="pre">FROM</span> <span class="pre">...</span> <span class="pre">WHERE</span> <span class="pre">...)</span></code>.</p>
<a class="changelog-reference headerlink reference internal" href="#change-d3cfa93423491229afc63cd986596305">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2673">#2673</a></p>
</p>
</li>
<li><p id="change-0.8.1-1"><span class="target" id="change-6b5abc76b93639e02dbac6061c8b93ff"><strong>[orm] [bug]</strong> </span><p>Fixes to the <code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.serializer</span></code> extension, including
that the “id” passed from the pickler is turned into a string
to prevent against bytes being parsed on Py3K, as well as that
<code class="docutils literal notranslate"><span class="pre">relationship()</span></code> and <code class="docutils literal notranslate"><span class="pre">orm.join()</span></code> constructs are now properly
serialized.</p>
<a class="changelog-reference headerlink reference internal" href="#change-6b5abc76b93639e02dbac6061c8b93ff">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2698">#2698</a></p>
</p>
</li>
<li><p id="change-0.8.1-2"><span class="target" id="change-b8cd50e1714b608fa9a53cb51fb4c8ef"><strong>[orm] [bug]</strong> </span><p>A significant improvement to the inner workings of query.join(),
such that the decisionmaking involved on how to join has been
dramatically simplified.  New test cases now pass such as
multiple joins extending from the middle of an already complex
series of joins involving inheritance and such.   Joining from
deeply nested subquery structures is still complicated and
not without caveats, but with these improvements the edge
cases are hopefully pushed even farther out to the edges.</p>
<a class="changelog-reference headerlink reference internal" href="#change-b8cd50e1714b608fa9a53cb51fb4c8ef">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2714">#2714</a></p>
</p>
</li>
<li><p id="change-0.8.1-3"><span class="target" id="change-c9e76122e927bce00034de429959dcbc"><strong>[orm] [bug]</strong> </span><p>Added a conditional to the unpickling process for ORM
mapped objects, such that if the reference to the object
were lost when the object was pickled, we don’t
erroneously try to set up _sa_instance_state - fixes
a NoneType error.</p>
<a class="changelog-reference headerlink reference internal" href="#change-c9e76122e927bce00034de429959dcbc">¶</a><p></p>
</p>
</li>
<li><p id="change-0.8.1-4"><span class="target" id="change-693cd23b4e1f3a578dceac48c89c5508"><strong>[orm] [bug]</strong> </span><p>Fixed bug where many-to-many relationship with uselist=False
would fail to delete the association row and raise an error
if the scalar attribute were set to None.  This was a
regression introduced by the changes for <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2229">#2229</a>.</p>
<a class="changelog-reference headerlink reference internal" href="#change-693cd23b4e1f3a578dceac48c89c5508">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2710">#2710</a></p>
</p>
</li>
<li><p id="change-0.8.1-5"><span class="target" id="change-7addcdb8589d1b8db248e399c8eff53b"><strong>[orm] [bug]</strong> </span><p>Improved the behavior of instance management regarding
the creation of strong references within the Session;
an object will no longer have an internal reference cycle
created if it’s in the transient state or moves into the
detached state - the strong ref is created only when the
object is attached to a Session and is removed when the
object is detached.  This makes it somewhat safer for an
object to have a <cite>__del__()</cite> method, even though this is
not recommended, as relationships with backrefs produce
cycles too.  A warning has been added when a class with
a <cite>__del__()</cite> method is mapped.</p>
<a class="changelog-reference headerlink reference internal" href="#change-7addcdb8589d1b8db248e399c8eff53b">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2708">#2708</a></p>
</p>
</li>
<li><p id="change-0.8.1-6"><span class="target" id="change-f241aa4abf00fdb62f17b6161f0f1dc6"><strong>[orm] [bug]</strong> </span><p>Fixed bug whereby ORM would run the wrong kind of
query when refreshing an inheritance-mapped class
where the superclass was mapped to a non-Table
object, like a custom join() or a select(),
running a query that assumed a hierarchy that’s
mapped to individual Table-per-class.</p>
<a class="changelog-reference headerlink reference internal" href="#change-f241aa4abf00fdb62f17b6161f0f1dc6">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2697">#2697</a></p>
</p>
</li>
<li><p id="change-0.8.1-7"><span class="target" id="change-cd903a647a5922f6bbc9db890e9f4304"><strong>[orm] [bug]</strong> </span><p>Fixed <cite>__repr__()</cite> on mapper property constructs
to work before the object is initialized, so
that Sphinx builds with recent Sphinx versions
can read them.</p>
<a class="changelog-reference headerlink reference internal" href="#change-cd903a647a5922f6bbc9db890e9f4304">¶</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.1-orm-declarative">
<h3>orm declarative<a class="headerlink" href="#change-0.8.1-orm-declarative" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.1-8"><span class="target" id="change-2b9d746e218c78a250148a29ad1fef34"><strong>[bug] [declarative] [orm]</strong> </span><p>Fixed indirect regression regarding <a class="reference internal" href="../orm/extensions/declarative/api.html#sqlalchemy.ext.declarative.has_inherited_table" title="sqlalchemy.ext.declarative.has_inherited_table"><code class="xref py py-func docutils literal notranslate"><span class="pre">has_inherited_table()</span></code></a>,
where since it considers the current class’ <code class="docutils literal notranslate"><span class="pre">__table__</span></code>, was
sensitive to when it was called.  This is 0.7’s behavior also,
but in 0.7 things tended to “work out” within events like
<code class="docutils literal notranslate"><span class="pre">__mapper_args__()</span></code>.  <a class="reference internal" href="../orm/extensions/declarative/api.html#sqlalchemy.ext.declarative.has_inherited_table" title="sqlalchemy.ext.declarative.has_inherited_table"><code class="xref py py-func docutils literal notranslate"><span class="pre">has_inherited_table()</span></code></a> now only
considers superclasses, so should return the same answer
regarding the current class no matter when it’s called
(obviously assuming the state of the superclass).</p>
<a class="changelog-reference headerlink reference internal" href="#change-2b9d746e218c78a250148a29ad1fef34">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2656">#2656</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.1-sql">
<h3>sql<a class="headerlink" href="#change-0.8.1-sql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.1-9"><span class="target" id="change-3686aff789b10fca55c71c0fe69557df"><strong>[sql] [feature]</strong> </span><p>Loosened the check on dialect-specific argument names
passed to Table(); since we want to support external dialects
and also want to support args without a certain dialect
being installed, it only checks the format of the arg now,
rather than looking for that dialect in sqlalchemy.dialects.</p>
<a class="changelog-reference headerlink reference internal" href="#change-3686aff789b10fca55c71c0fe69557df">¶</a><p></p>
</p>
</li>
<li><p id="change-0.8.1-10"><span class="target" id="change-a4d2a849342bd0b32b1a6f4a4c088ad6"><strong>[sql] [bug] [mysql]</strong> </span><p>Fully implemented the IS and IS NOT operators with
regards to the True/False constants.  An expression like
<code class="docutils literal notranslate"><span class="pre">col.is_(True)</span></code> will now render <code class="docutils literal notranslate"><span class="pre">col</span> <span class="pre">IS</span> <span class="pre">true</span></code>
on the target platform, rather than converting the True/
False constant to an integer bound parameter.
This allows the <code class="docutils literal notranslate"><span class="pre">is_()</span></code> operator to work on MySQL when
given True/False constants.</p>
<a class="changelog-reference headerlink reference internal" href="#change-a4d2a849342bd0b32b1a6f4a4c088ad6">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2682">#2682</a></p>
</p>
</li>
<li><p id="change-0.8.1-11"><span class="target" id="change-e317ad63213b3197754a3d94f7507a58"><strong>[sql] [bug]</strong> </span><p>A major fix to the way in which a select() object produces
labeled columns when apply_labels() is used; this mode
produces a SELECT where each column is labeled as in
&lt;tablename&gt;_&lt;columnname&gt;, to remove column name collisions
for a multiple table select.   The fix is that if two labels
collide when combined with the table name, i.e.
“foo.bar_id” and “foo_bar.id”, anonymous aliasing will be
applied to one of the dupes.  This allows the ORM to handle
both columns independently; previously, 0.7
would in some cases silently emit a second SELECT for the
column that was “duped”, and in 0.8 an ambiguous column error
would be emitted.   The “keys” applied to the .c. collection
of the select() will also be deduped, so that the “column
being replaced” warning will no longer emit for any select()
that specifies use_labels, though the dupe key will be given
an anonymous label which isn’t generally user-friendly.</p>
<a class="changelog-reference headerlink reference internal" href="#change-e317ad63213b3197754a3d94f7507a58">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2702">#2702</a></p>
</p>
</li>
<li><p id="change-0.8.1-12"><span class="target" id="change-1f28811ac556b12ce7c452b4a3408f2a"><strong>[sql] [bug]</strong> </span><p>Fixed bug where disconnect detect on error would
raise an attribute error if the error were being
raised after the Connection object had already
been closed.</p>
<a class="changelog-reference headerlink reference internal" href="#change-1f28811ac556b12ce7c452b4a3408f2a">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2691">#2691</a></p>
</p>
</li>
<li><p id="change-0.8.1-13"><span class="target" id="change-18be80dfecdf0ef6fc3df9f795f45ad4"><strong>[sql] [bug]</strong> </span><p>Reworked internal exception raises that emit
a rollback() before re-raising, so that the stack
trace is preserved from sys.exc_info() before entering
the rollback.  This so that the traceback is preserved
when using coroutine frameworks which may have switched
contexts before the rollback function returns.</p>
<a class="changelog-reference headerlink reference internal" href="#change-18be80dfecdf0ef6fc3df9f795f45ad4">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2703">#2703</a></p>
</p>
</li>
<li><p id="change-0.8.1-14"><span class="target" id="change-36fe44c142145d30fafc44b26a0b2de3"><strong>[sql] [bug] [postgresql]</strong> </span><p>The _Binary base type now converts values through
the bytes() callable when run on Python 3; in particular
psycopg2 2.5 with Python 3.3 seems to now be returning
the “memoryview” type, so this is converted to bytes
before return.</p>
<a class="changelog-reference headerlink reference internal" href="#change-36fe44c142145d30fafc44b26a0b2de3">¶</a><p></p>
</p>
</li>
<li><p id="change-0.8.1-15"><span class="target" id="change-8f9807690202ed982e5ae96fe1e87a63"><strong>[sql] [bug]</strong> </span><p>Improvements to Connection auto-invalidation
handling.  If a non-disconnect error occurs,
but leads to a delayed disconnect error within error
handling (happens with MySQL), the disconnect condition
is detected.  The Connection can now also be closed
when in an invalid state, meaning it will raise “closed”
on next usage, and additionally the “close with result”
feature will work even if the autorollback in an error
handling routine fails and regardless of whether the
condition is a disconnect or not.</p>
<a class="changelog-reference headerlink reference internal" href="#change-8f9807690202ed982e5ae96fe1e87a63">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2695">#2695</a></p>
</p>
</li>
<li><p id="change-0.8.1-16"><span class="target" id="change-b320bbb422d328f3f84b0ac64d30eb7d"><strong>[sql] [bug]</strong> </span><p>Fixed bug whereby a DBAPI that can return “0”
for cursor.lastrowid would not function correctly
in conjunction with <a class="reference internal" href="../core/connections.html#sqlalchemy.engine.ResultProxy.inserted_primary_key" title="sqlalchemy.engine.ResultProxy.inserted_primary_key"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ResultProxy.inserted_primary_key</span></code></a>.</p>
<a class="changelog-reference headerlink reference internal" href="#change-b320bbb422d328f3f84b0ac64d30eb7d">¶</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.1-postgresql">
<h3>postgresql<a class="headerlink" href="#change-0.8.1-postgresql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.1-17"><span class="target" id="change-f67787db3b9ef9d1cb3ccc779ae2d229"><strong>[postgresql] [bug]</strong> </span><p>Opened up the checking for “disconnect” with psycopg2/libpq
to check for all the various “disconnect” messages within
the full exception hierarchy.  Specifically the
“closed the connection unexpectedly” message has now been
seen in at least three different exception types.
Courtesy Eli Collins.</p>
<a class="changelog-reference headerlink reference internal" href="#change-f67787db3b9ef9d1cb3ccc779ae2d229">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2712">#2712</a></p>
</p>
</li>
<li><p id="change-0.8.1-18"><span class="target" id="change-c09761586312f7efa3d784db2018dfe2"><strong>[postgresql] [bug]</strong> </span><p>The operators for the PostgreSQL ARRAY type supports
input types of sets, generators, etc. even when
a dimension is not specified, by turning the given
iterable into a collection unconditionally.</p>
<a class="changelog-reference headerlink reference internal" href="#change-c09761586312f7efa3d784db2018dfe2">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2681">#2681</a></p>
</p>
</li>
<li><p id="change-0.8.1-19"><span class="target" id="change-78ea5cd647f43b14fbd184b6c51042bd"><strong>[postgresql] [bug]</strong> </span><p>Added missing HSTORE type to postgresql type names
so that the type can be reflected.</p>
<a class="changelog-reference headerlink reference internal" href="#change-78ea5cd647f43b14fbd184b6c51042bd">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2680">#2680</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.1-mysql">
<h3>mysql<a class="headerlink" href="#change-0.8.1-mysql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.1-20"><span class="target" id="change-4793f92820e9c93f772dd33adee75002"><strong>[mysql] [bug]</strong> </span><p>Fixes to support the latest cymysql DBAPI, courtesy
Hajime Nakagami.</p>
<a class="changelog-reference headerlink reference internal" href="#change-4793f92820e9c93f772dd33adee75002">¶</a><p></p>
</p>
</li>
<li><p id="change-0.8.1-21"><span class="target" id="change-32eca569275c8c9405df1ae6e52e28a7"><strong>[mysql] [bug]</strong> </span><p>Improvements to the operation of the pymysql dialect on
Python 3, including some important decode/bytes steps.
Issues remain with BLOB types due to driver issues.
Courtesy Ben Trofatter.</p>
<a class="changelog-reference headerlink reference internal" href="#change-32eca569275c8c9405df1ae6e52e28a7">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2663">#2663</a></p>
</p>
</li>
<li><p id="change-0.8.1-22"><span class="target" id="change-ad0d195d23c8846439e6fa6093c16c37"><strong>[mysql] [bug]</strong> </span><p>Updated a regexp to correctly extract error code on
google app engine v1.7.5 and newer.  Courtesy
Dan Ring.</p>
<a class="changelog-reference headerlink reference internal" href="#change-ad0d195d23c8846439e6fa6093c16c37">¶</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.1-mssql">
<h3>mssql<a class="headerlink" href="#change-0.8.1-mssql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.1-23"><span class="target" id="change-577130fc7c7f3c64856c9b296fb83a6d"><strong>[mssql] [bug]</strong> </span><p>Part of a longer series of fixes needed for pyodbc+
mssql, a CAST to NVARCHAR(max) has been added to the bound
parameter for the table name and schema name in all information schema
queries to avoid the issue of comparing NVARCHAR to NTEXT,
which seems to be rejected by the ODBC driver in some cases,
such as FreeTDS (0.91 only?) plus unicode bound parameters being passed.
The issue seems to be specific to the SQL Server information
schema tables and the workaround is harmless for those cases
where the problem doesn’t exist in the first place.</p>
<a class="changelog-reference headerlink reference internal" href="#change-577130fc7c7f3c64856c9b296fb83a6d">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2355">#2355</a></p>
</p>
</li>
<li><p id="change-0.8.1-24"><span class="target" id="change-7f3aa37006984fd02c41a09398143685"><strong>[mssql] [bug]</strong> </span><p>Added support for additional “disconnect” messages
to the pymssql dialect.  Courtesy John Anderson.</p>
<a class="changelog-reference headerlink reference internal" href="#change-7f3aa37006984fd02c41a09398143685">¶</a><p></p>
</p>
</li>
<li><p id="change-0.8.1-25"><span class="target" id="change-b830f432c4ee6d47eefab9bd9b667c3f"><strong>[mssql] [bug]</strong> </span><p>Fixed Py3K bug regarding “binary” types and
pymssql.  Courtesy Marc Abramowitz.</p>
<a class="changelog-reference headerlink reference internal" href="#change-b830f432c4ee6d47eefab9bd9b667c3f">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2683">#2683</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.1-misc">
<h3>misc<a class="headerlink" href="#change-0.8.1-misc" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.1-26"><span class="target" id="change-b873d75029d2d99647c05b161cb0c2c6"><strong>[bug] [examples]</strong> </span><p>Fixed a long-standing bug in the caching example, where
the limit/offset parameter values wouldn’t be taken into
account when computing the cache key.  The
_key_from_query() function has been simplified to work
directly from the final compiled statement in order to get
at both the full statement as well as the fully processed
parameter list.</p>
<a class="changelog-reference headerlink reference internal" href="#change-b873d75029d2d99647c05b161cb0c2c6">¶</a><p></p>
</p>
</li>
</ul>
</div>
</div>
<div class="section" id="change-0.8.0">
<h2 class="release-version">0.8.0<a class="headerlink" href="#change-0.8.0" title="Permalink to this headline">¶</a></h2>
Released: March 9, 2013<p><div class="admonition note">
<p class="admonition-title">Note</p>
<p>There are some new behavioral changes as of 0.8.0
not present in 0.8.0b2.  They are present in the
migration document as follows:</p>
<ul class="simple">
<li><p><a class="reference internal" href="migration_08.html#legacy-is-orphan-addition"><span class="std std-ref">The consideration of a “pending” object as an “orphan” has been made more aggressive</span></a></p></li>
<li><p><a class="reference internal" href="migration_08.html#metadata-create-drop-tables"><span class="std std-ref">create_all() and drop_all() will now honor an empty list as such</span></a></p></li>
<li><p><a class="reference internal" href="migration_08.html#correlation-context-specific"><span class="std std-ref">Correlation is now always context-specific</span></a></p></li>
</ul>
</div>
</p>
<div class="section" id="change-0.8.0-orm">
<h3>orm<a class="headerlink" href="#change-0.8.0-orm" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.0-0"><span class="target" id="change-0e7766217e564a69e3b6e7d65324ee7e"><strong>[orm] [feature]</strong> </span><p>A meaningful <a class="reference internal" href="../orm/internals.html#sqlalchemy.orm.attributes.QueryableAttribute.info" title="sqlalchemy.orm.attributes.QueryableAttribute.info"><code class="xref py py-attr docutils literal notranslate"><span class="pre">QueryableAttribute.info</span></code></a> attribute is
added, which proxies down to the <code class="docutils literal notranslate"><span class="pre">.info</span></code> attribute on either
the <a class="reference internal" href="../core/metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a> object if directly present, or
the <a class="reference internal" href="../orm/internals.html#sqlalchemy.orm.interfaces.MapperProperty" title="sqlalchemy.orm.interfaces.MapperProperty"><code class="xref py py-class docutils literal notranslate"><span class="pre">MapperProperty</span></code></a> otherwise.  The full behavior
is documented and ensured by tests to remain stable.</p>
<a class="changelog-reference headerlink reference internal" href="#change-0e7766217e564a69e3b6e7d65324ee7e">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2675">#2675</a></p>
</p>
</li>
<li><p id="change-0.8.0-1"><span class="target" id="change-eff531fde0b0d3b8012f08ac5f1465c8"><strong>[orm] [feature]</strong> </span><p>Can set/change the “cascade” attribute on a <a class="reference internal" href="../orm/relationship_api.html#sqlalchemy.orm.relationship" title="sqlalchemy.orm.relationship"><code class="xref py py-func docutils literal notranslate"><span class="pre">relationship()</span></code></a>
construct after it’s been constructed already.  This is not
a pattern for normal use but we like to change the setting
for demonstration purposes in tutorials.</p>
<a class="changelog-reference headerlink reference internal" href="#change-eff531fde0b0d3b8012f08ac5f1465c8">¶</a><p></p>
</p>
</li>
<li><p id="change-0.8.0-2"><span class="target" id="change-87e254a9ea3dc3d97f95489d3aaaec97"><strong>[orm] [feature]</strong> </span><p>Added new helper function <a class="reference internal" href="../orm/session_api.html#sqlalchemy.orm.util.was_deleted" title="sqlalchemy.orm.util.was_deleted"><code class="xref py py-func docutils literal notranslate"><span class="pre">was_deleted()</span></code></a>, returns True
if the given object was the subject of a <a class="reference internal" href="../orm/session_api.html#sqlalchemy.orm.session.Session.delete" title="sqlalchemy.orm.session.Session.delete"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.delete()</span></code></a>
operation.</p>
<a class="changelog-reference headerlink reference internal" href="#change-87e254a9ea3dc3d97f95489d3aaaec97">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2658">#2658</a></p>
</p>
</li>
<li><p id="change-0.8.0-3"><span class="target" id="change-6dc63e609423ac03130a8b69d1f641ad"><strong>[orm] [feature]</strong> </span><p>Extended the <a class="reference internal" href="../core/inspection.html"><span class="doc">Runtime Inspection API</span></a> system so that all Python descriptors
associated with the ORM or its extensions can be retrieved.
This fulfills the common request of being able to inspect
all <a class="reference internal" href="../orm/internals.html#sqlalchemy.orm.attributes.QueryableAttribute" title="sqlalchemy.orm.attributes.QueryableAttribute"><code class="xref py py-class docutils literal notranslate"><span class="pre">QueryableAttribute</span></code></a> descriptors in addition to
extension types such as <a class="reference internal" href="../orm/extensions/hybrid.html#sqlalchemy.ext.hybrid.hybrid_property" title="sqlalchemy.ext.hybrid.hybrid_property"><code class="xref py py-class docutils literal notranslate"><span class="pre">hybrid_property</span></code></a> and
<a class="reference internal" href="../orm/extensions/associationproxy.html#sqlalchemy.ext.associationproxy.AssociationProxy" title="sqlalchemy.ext.associationproxy.AssociationProxy"><code class="xref py py-class docutils literal notranslate"><span class="pre">AssociationProxy</span></code></a>.  See <a class="reference internal" href="../orm/mapping_api.html#sqlalchemy.orm.Mapper.all_orm_descriptors" title="sqlalchemy.orm.Mapper.all_orm_descriptors"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Mapper.all_orm_descriptors</span></code></a>.</p>
<a class="changelog-reference headerlink reference internal" href="#change-6dc63e609423ac03130a8b69d1f641ad">¶</a><p></p>
</p>
</li>
<li><p id="change-0.8.0-4"><span class="target" id="change-29886b5ee0c5aaede3ccba82d95b9db9"><strong>[orm] [removed]</strong> </span><p>The undocumented (and hopefully unused) system of producing
custom collections using an <code class="docutils literal notranslate"><span class="pre">__instrumentation__</span></code> datastructure
associated with the collection has been removed, as this was a complex
and untested feature which was also essentially redundant versus the
decorator approach.   Other internal simplifications to the
orm.collections module have been made as well.</p>
<a class="changelog-reference headerlink reference internal" href="#change-29886b5ee0c5aaede3ccba82d95b9db9">¶</a><p></p>
</p>
</li>
<li><p id="change-0.8.0-5"><span class="target" id="change-70a1eb7113723617f2545f787b42926f"><strong>[orm] [bug]</strong> </span><p>Improved checking for an existing backref name conflict during
mapper configuration; will now test for name conflicts on
superclasses and subclasses, in addition to the current mapper,
as these conflicts break things just as much.  This is new for
0.8, but see below for a warning that will also be triggered
in 0.7.11.</p>
<a class="changelog-reference headerlink reference internal" href="#change-70a1eb7113723617f2545f787b42926f">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2674">#2674</a></p>
</p>
</li>
<li><p id="change-0.8.0-6"><span class="target" id="change-3300e27b920eae11534316a004610e0b"><strong>[orm] [bug]</strong> </span><p>Improved the error message emitted when a “backref loop” is detected,
that is when an attribute event triggers a bidirectional
assignment between two other attributes with no end.
This condition can occur not just when an object of the wrong
type is assigned, but also when an attribute is mis-configured
to backref into an existing backref pair.  Also in 0.7.11.</p>
<a class="changelog-reference headerlink reference internal" href="#change-3300e27b920eae11534316a004610e0b">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2674">#2674</a></p>
</p>
</li>
<li><p id="change-0.8.0-7"><span class="target" id="change-451e4047465f0e6c6f21abba4b12df50"><strong>[orm] [bug]</strong> </span><p>A warning is emitted when a MapperProperty is assigned to a mapper
that replaces an existing property, if the properties in question
aren’t plain column-based properties.   Replacement of relationship
properties is rarely (ever?) what is intended and usually refers to a
mapper mis-configuration.   Also in 0.7.11.</p>
<a class="changelog-reference headerlink reference internal" href="#change-451e4047465f0e6c6f21abba4b12df50">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2674">#2674</a></p>
</p>
</li>
<li><p id="change-0.8.0-8"><span class="target" id="change-d2bf87eacf9c1add55e6572d7d34ee88"><strong>[orm] [bug]</strong> </span><p>A clear error message is emitted if an event handler
attempts to emit SQL on a Session within the after_commit()
handler, where there is not a viable transaction in progress.</p>
<a class="changelog-reference headerlink reference internal" href="#change-d2bf87eacf9c1add55e6572d7d34ee88">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2662">#2662</a></p>
</p>
</li>
<li><p id="change-0.8.0-9"><span class="target" id="change-cc99daa35226bc12290009d2ecd52ada"><strong>[orm] [bug]</strong> </span><p>Detection of a primary key change within the process
of cascading a natural primary key update will succeed
even if the key is composite and only some of the
attributes have changed.</p>
<a class="changelog-reference headerlink reference internal" href="#change-cc99daa35226bc12290009d2ecd52ada">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2665">#2665</a></p>
</p>
</li>
<li><p id="change-0.8.0-10"><span class="target" id="change-0a139e7ac1f999ad55e5825206c80ac6"><strong>[orm] [bug]</strong> </span><p>An object that’s deleted from a session will be de-associated with
that session fully after the transaction is committed, that is
the <a class="reference internal" href="../orm/session_api.html#sqlalchemy.orm.session.object_session" title="sqlalchemy.orm.session.object_session"><code class="xref py py-func docutils literal notranslate"><span class="pre">object_session()</span></code></a> function will return None.</p>
<a class="changelog-reference headerlink reference internal" href="#change-0a139e7ac1f999ad55e5825206c80ac6">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2658">#2658</a></p>
</p>
</li>
<li><p id="change-0.8.0-11"><span class="target" id="change-1d26b29a64556c35cdb8d59224b641f9"><strong>[orm] [bug]</strong> </span><p>Fixed bug whereby <a class="reference internal" href="../orm/query.html#sqlalchemy.orm.query.Query.yield_per" title="sqlalchemy.orm.query.Query.yield_per"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Query.yield_per()</span></code></a> would set the execution
options incorrectly, thereby breaking subsequent usage of the
<a class="reference internal" href="../orm/query.html#sqlalchemy.orm.query.Query.execution_options" title="sqlalchemy.orm.query.Query.execution_options"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Query.execution_options()</span></code></a> method.  Courtesy Ryan Kelly.</p>
<a class="changelog-reference headerlink reference internal" href="#change-1d26b29a64556c35cdb8d59224b641f9">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2661">#2661</a></p>
</p>
</li>
<li><p id="change-0.8.0-12"><span class="target" id="change-f0fdbb71e66a3cb345017c0e32a9dfcc"><strong>[orm] [bug]</strong> </span><p>Fixed the consideration of the <code class="docutils literal notranslate"><span class="pre">between()</span></code> operator
so that it works correctly with the new relationship local/remote
system.</p>
<a class="changelog-reference headerlink reference internal" href="#change-f0fdbb71e66a3cb345017c0e32a9dfcc">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1768">#1768</a></p>
</p>
</li>
<li><p id="change-0.8.0-13"><span class="target" id="change-e10fe28bb6aac9740cefe7a351f6bc84"><strong>[orm] [bug]</strong> </span><p>the consideration of a pending object as
an “orphan” has been modified to more closely match the
behavior as that of persistent objects, which is that the object
is expunged from the <a class="reference internal" href="../orm/session_api.html#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> as soon as it is
de-associated from any of its orphan-enabled parents.  Previously,
the pending object would be expunged only if de-associated
from all of its orphan-enabled parents.  The new flag <code class="docutils literal notranslate"><span class="pre">legacy_is_orphan</span></code>
is added to <a class="reference internal" href="../orm/mapping_api.html#sqlalchemy.orm.mapper" title="sqlalchemy.orm.mapper"><code class="xref py py-func docutils literal notranslate"><span class="pre">mapper()</span></code></a> which re-establishes the
legacy behavior.</p>
<p>See the change note and example case at <a class="reference internal" href="migration_08.html#legacy-is-orphan-addition"><span class="std std-ref">The consideration of a “pending” object as an “orphan” has been made more aggressive</span></a>
for a detailed discussion of this change.</p>
<a class="changelog-reference headerlink reference internal" href="#change-e10fe28bb6aac9740cefe7a351f6bc84">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2655">#2655</a></p>
</p>
</li>
<li><p id="change-0.8.0-14"><span class="target" id="change-7d72bd6c360c99b27ef15047489fcd85"><strong>[orm] [bug]</strong> </span><p>Fixed the (most likely never used) “&#64;collection.link” collection
method, which fires off each time the collection is associated
or de-associated with a mapped object - the decorator
was not tested or functional.  The decorator method
is now named <a class="reference internal" href="../orm/collections.html#sqlalchemy.orm.collections.collection.linker" title="sqlalchemy.orm.collections.collection.linker"><code class="xref py py-meth docutils literal notranslate"><span class="pre">collection.linker()</span></code></a> though the name “link”
remains for backwards compatibility.  Courtesy Luca Wehrstedt.</p>
<a class="changelog-reference headerlink reference internal" href="#change-7d72bd6c360c99b27ef15047489fcd85">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2653">#2653</a></p>
</p>
</li>
<li><p id="change-0.8.0-15"><span class="target" id="change-bd06b03d181458a8e51b61251f490b82"><strong>[orm] [bug]</strong> </span><p>Made some fixes to the system of producing custom instrumented
collections, mainly that the usage of the &#64;collection decorators
will now honor the __mro__ of the given class, applying the
logic of the sub-most classes’ version of a particular collection
method.   Previously, it wasn’t predictable when subclassing
an existing instrumented class such as <a class="reference internal" href="../orm/collections.html#sqlalchemy.orm.collections.MappedCollection" title="sqlalchemy.orm.collections.MappedCollection"><code class="xref py py-class docutils literal notranslate"><span class="pre">MappedCollection</span></code></a>
whether or not custom methods would resolve correctly.</p>
<a class="changelog-reference headerlink reference internal" href="#change-bd06b03d181458a8e51b61251f490b82">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2654">#2654</a></p>
</p>
</li>
<li><p id="change-0.8.0-16"><span class="target" id="change-5bc655fd335b2e5ce6043db01e7e0070"><strong>[orm] [bug]</strong> </span><p>Fixed potential memory leak which could occur if an
arbitrary number of <a class="reference internal" href="../orm/session_api.html#sqlalchemy.orm.session.sessionmaker" title="sqlalchemy.orm.session.sessionmaker"><code class="xref py py-class docutils literal notranslate"><span class="pre">sessionmaker</span></code></a> objects
were created.   The anonymous subclass created by
the sessionmaker, when dereferenced, would not be garbage
collected due to remaining class-level references from the
event package.  This issue also applies to any custom system
that made use of ad-hoc subclasses in conjunction with
an event dispatcher.  Also in 0.7.10.</p>
<a class="changelog-reference headerlink reference internal" href="#change-5bc655fd335b2e5ce6043db01e7e0070">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2650">#2650</a></p>
</p>
</li>
<li><p id="change-0.8.0-17"><span class="target" id="change-89cccd82c603a3ec57c6fd0dd77dce2f"><strong>[orm] [bug]</strong> </span><p><a class="reference internal" href="../orm/query.html#sqlalchemy.orm.query.Query.merge_result" title="sqlalchemy.orm.query.Query.merge_result"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Query.merge_result()</span></code></a> can now load rows from an outer join
where an entity may be <code class="docutils literal notranslate"><span class="pre">None</span></code> without throwing an error.
Also in 0.7.10.</p>
<a class="changelog-reference headerlink reference internal" href="#change-89cccd82c603a3ec57c6fd0dd77dce2f">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2640">#2640</a></p>
</p>
</li>
<li><p id="change-0.8.0-18"><span class="target" id="change-30c07492fc86836cb428a07cb6a8c472"><strong>[orm] [bug]</strong> </span><p>Fixes to the “dynamic” loader on <a class="reference internal" href="../orm/relationship_api.html#sqlalchemy.orm.relationship" title="sqlalchemy.orm.relationship"><code class="xref py py-func docutils literal notranslate"><span class="pre">relationship()</span></code></a>, includes
that backrefs will work properly even when autoflush is disabled,
history events are more accurate in scenarios where multiple add/remove
of the same object occurs.</p>
<a class="changelog-reference headerlink reference internal" href="#change-30c07492fc86836cb428a07cb6a8c472">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2637">#2637</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.0-sql">
<h3>sql<a class="headerlink" href="#change-0.8.0-sql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.0-19"><span class="target" id="change-aacb4e3939dfad091a7dc16bfbafa28d"><strong>[sql] [feature]</strong> </span><p>Added a new argument to <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.Enum" title="sqlalchemy.types.Enum"><code class="xref py py-class docutils literal notranslate"><span class="pre">Enum</span></code></a> and its base
<a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.SchemaType" title="sqlalchemy.types.SchemaType"><code class="xref py py-class docutils literal notranslate"><span class="pre">SchemaType</span></code></a> <code class="docutils literal notranslate"><span class="pre">inherit_schema</span></code>.  When set to <code class="docutils literal notranslate"><span class="pre">True</span></code>,
the type will set its <code class="docutils literal notranslate"><span class="pre">schema</span></code> attribute of that of the
<a class="reference internal" href="../core/metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a> to which it is associated.  This also occurs
during a <a class="reference internal" href="../core/metadata.html#sqlalchemy.schema.Table.tometadata" title="sqlalchemy.schema.Table.tometadata"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Table.tometadata()</span></code></a> operation; the <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.SchemaType" title="sqlalchemy.types.SchemaType"><code class="xref py py-class docutils literal notranslate"><span class="pre">SchemaType</span></code></a>
is now copied in all cases when <a class="reference internal" href="../core/metadata.html#sqlalchemy.schema.Table.tometadata" title="sqlalchemy.schema.Table.tometadata"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Table.tometadata()</span></code></a> happens,
and if <code class="docutils literal notranslate"><span class="pre">inherit_schema=True</span></code>, the type will take on the new
schema name passed to the method.   The <code class="docutils literal notranslate"><span class="pre">schema</span></code> is important
when used with the PostgreSQL backend, as the type results in
a <code class="docutils literal notranslate"><span class="pre">CREATE</span> <span class="pre">TYPE</span></code> statement.</p>
<a class="changelog-reference headerlink reference internal" href="#change-aacb4e3939dfad091a7dc16bfbafa28d">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2657">#2657</a></p>
</p>
</li>
<li><p id="change-0.8.0-20"><span class="target" id="change-4a5b1d5566fb9e0e9cea5fc5b37a9779"><strong>[sql] [feature]</strong> </span><p><a class="reference internal" href="../core/constraints.html#sqlalchemy.schema.Index" title="sqlalchemy.schema.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> now supports arbitrary SQL expressions and/or
functions, in addition to straight columns.   Common modifiers
include using <code class="docutils literal notranslate"><span class="pre">somecolumn.desc()</span></code> for a descending index and
<code class="docutils literal notranslate"><span class="pre">func.lower(somecolumn)</span></code> for a case-insensitive index, depending on the
capabilities of the target backend.</p>
<a class="changelog-reference headerlink reference internal" href="#change-4a5b1d5566fb9e0e9cea5fc5b37a9779">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/695">#695</a></p>
</p>
</li>
<li><p id="change-0.8.0-21"><span class="target" id="change-6a4406900f98dc286816c64340267f5e"><strong>[sql] [bug]</strong> </span><p>The behavior of SELECT correlation has been improved such that
the <a class="reference internal" href="../core/selectable.html#sqlalchemy.sql.expression.Select.correlate" title="sqlalchemy.sql.expression.Select.correlate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.correlate()</span></code></a> and <a class="reference internal" href="../core/selectable.html#sqlalchemy.sql.expression.Select.correlate_except" title="sqlalchemy.sql.expression.Select.correlate_except"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.correlate_except()</span></code></a>
methods, as well as their ORM analogues, will still retain
“auto-correlation” behavior in that the FROM clause is modified
only if the output would be legal SQL; that is, the FROM clause
is left intact if the correlated SELECT is not used in the context
of an enclosing SELECT inside of the WHERE, columns, or HAVING clause.
The two methods now only specify conditions to the default
“auto correlation”, rather than absolute FROM lists.</p>
<a class="changelog-reference headerlink reference internal" href="#change-6a4406900f98dc286816c64340267f5e">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2668">#2668</a></p>
</p>
</li>
<li><p id="change-0.8.0-22"><span class="target" id="change-f4a089a10d8ca4d92ed313869806e9c1"><strong>[sql] [bug]</strong> </span><p>Fixed a bug regarding column annotations which in particular
could impact some usages of the new <a class="reference internal" href="../orm/relationship_api.html#sqlalchemy.orm.remote" title="sqlalchemy.orm.remote"><code class="xref py py-func docutils literal notranslate"><span class="pre">remote()</span></code></a> and
<code class="xref py py-func docutils literal notranslate"><span class="pre">local()</span></code> annotation functions, where annotations
could be lost when the column were used in a subsequent
expression.</p>
<a class="changelog-reference headerlink reference internal" href="#change-f4a089a10d8ca4d92ed313869806e9c1">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1768">#1768</a>, <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2660">#2660</a></p>
</p>
</li>
<li><p id="change-0.8.0-23"><span class="target" id="change-52cda8cb7fa325bccdbce4e6624dbab9"><strong>[sql] [bug]</strong> </span><p>The <a class="reference internal" href="../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators.in_" title="sqlalchemy.sql.operators.ColumnOperators.in_"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ColumnOperators.in_()</span></code></a> operator will now coerce
values of <code class="docutils literal notranslate"><span class="pre">None</span></code> to <a class="reference internal" href="../core/sqlelement.html#sqlalchemy.sql.expression.null" title="sqlalchemy.sql.expression.null"><code class="xref py py-func docutils literal notranslate"><span class="pre">null()</span></code></a>.</p>
<a class="changelog-reference headerlink reference internal" href="#change-52cda8cb7fa325bccdbce4e6624dbab9">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2496">#2496</a></p>
</p>
</li>
<li><p id="change-0.8.0-24"><span class="target" id="change-88b4c4ede70d2e60146fa8c717f87544"><strong>[sql] [bug]</strong> </span><p>Fixed bug where <a class="reference internal" href="../core/metadata.html#sqlalchemy.schema.Table.tometadata" title="sqlalchemy.schema.Table.tometadata"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Table.tometadata()</span></code></a> would fail if a
<a class="reference internal" href="../core/metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a> had both a foreign key as well as an
alternate “.key” name for the column.   Also in 0.7.10.</p>
<a class="changelog-reference headerlink reference internal" href="#change-88b4c4ede70d2e60146fa8c717f87544">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2643">#2643</a></p>
</p>
</li>
<li><p id="change-0.8.0-25"><span class="target" id="change-0ed8c15f1a7de2b4ffd2e65c7538bdf4"><strong>[sql] [bug]</strong> </span><p>insert().returning() raises an informative CompileError if attempted
to compile on a dialect that doesn’t support RETURNING.</p>
<a class="changelog-reference headerlink reference internal" href="#change-0ed8c15f1a7de2b4ffd2e65c7538bdf4">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2629">#2629</a></p>
</p>
</li>
<li><p id="change-0.8.0-26"><span class="target" id="change-4e171b865fa50628413956ff3159317b"><strong>[sql] [bug]</strong> </span><p>Tweaked the “REQUIRED” symbol used by the compiler to identify
INSERT/UPDATE bound parameters that need to be passed, so that
it’s more easily identifiable when writing custom bind-handling
code.</p>
<a class="changelog-reference headerlink reference internal" href="#change-4e171b865fa50628413956ff3159317b">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2648">#2648</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.0-schema">
<h3>schema<a class="headerlink" href="#change-0.8.0-schema" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.0-27"><span class="target" id="change-ae2a49c7e02214659343b36e72c31470"><strong>[schema] [bug]</strong> </span><p><a class="reference internal" href="../core/metadata.html#sqlalchemy.schema.MetaData.create_all" title="sqlalchemy.schema.MetaData.create_all"><code class="xref py py-meth docutils literal notranslate"><span class="pre">MetaData.create_all()</span></code></a> and <a class="reference internal" href="../core/metadata.html#sqlalchemy.schema.MetaData.drop_all" title="sqlalchemy.schema.MetaData.drop_all"><code class="xref py py-meth docutils literal notranslate"><span class="pre">MetaData.drop_all()</span></code></a> will
now accommodate an empty list as an instruction to not create/drop
any items, rather than ignoring the collection.</p>
<a class="changelog-reference headerlink reference internal" href="#change-ae2a49c7e02214659343b36e72c31470">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2664">#2664</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.0-postgresql">
<h3>postgresql<a class="headerlink" href="#change-0.8.0-postgresql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.0-28"><span class="target" id="change-225a80e716cad9649123dc76e809d59b"><strong>[postgresql] [feature]</strong> </span><p>Added <code class="xref py py-meth docutils literal notranslate"><span class="pre">Comparator.any()</span></code> and
<code class="xref py py-meth docutils literal notranslate"><span class="pre">Comparator.all()</span></code>
methods, as well as standalone expression constructs.   Big thanks
to Audrius Kažukauskas for the terrific work here.</p>
<a class="changelog-reference headerlink reference internal" href="#change-225a80e716cad9649123dc76e809d59b">¶</a><p></p>
</p>
</li>
<li><p id="change-0.8.0-29"><span class="target" id="change-3adae518c55ff0255fefd5d431ef4a80"><strong>[postgresql] [bug]</strong> </span><p>Fixed bug in <a class="reference internal" href="../dialects/postgresql.html#sqlalchemy.dialects.postgresql.array" title="sqlalchemy.dialects.postgresql.array"><code class="xref py py-class docutils literal notranslate"><span class="pre">array()</span></code></a> construct whereby using it
inside of an <a class="reference internal" href="../core/dml.html#sqlalchemy.sql.expression.insert" title="sqlalchemy.sql.expression.insert"><code class="xref py py-func docutils literal notranslate"><span class="pre">insert()</span></code></a> construct would produce an
error regarding a parameter issue in the <code class="docutils literal notranslate"><span class="pre">self_group()</span></code> method.</p>
<a class="changelog-reference headerlink reference internal" href="#change-3adae518c55ff0255fefd5d431ef4a80">¶</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.0-mysql">
<h3>mysql<a class="headerlink" href="#change-0.8.0-mysql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.0-30"><span class="target" id="change-40fad96aac576545c0bcd7b6aaae7df4"><strong>[mysql] [feature]</strong> </span><p>New dialect for CyMySQL added, courtesy Hajime Nakagami.</p>
<a class="changelog-reference headerlink reference internal" href="#change-40fad96aac576545c0bcd7b6aaae7df4">¶</a><p></p>
</p>
</li>
<li><p id="change-0.8.0-31"><span class="target" id="change-48dd3fb7a18df48d86387567167547c6"><strong>[mysql] [feature]</strong> </span><p>GAE dialect now accepts username/password arguments in the URL,
courtesy Owen Nelson.</p>
<a class="changelog-reference headerlink reference internal" href="#change-48dd3fb7a18df48d86387567167547c6">¶</a><p></p>
</p>
</li>
<li><p id="change-0.8.0-32"><span class="target" id="change-53062d4818f1d30f474a193f24789f87"><strong>[mysql] [bug] [gae]</strong> </span><p>Added a conditional import to the <code class="docutils literal notranslate"><span class="pre">gaerdbms</span></code> dialect which attempts
to import rdbms_apiproxy vs. rdbms_googleapi to work
on both dev and production platforms.  Also now honors the
<code class="docutils literal notranslate"><span class="pre">instance</span></code> attribute.  Courtesy Sean Lynch.
Also in 0.7.10.</p>
<a class="changelog-reference headerlink reference internal" href="#change-53062d4818f1d30f474a193f24789f87">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2649">#2649</a></p>
</p>
</li>
<li><p id="change-0.8.0-33"><span class="target" id="change-99ff63b4d0d6fe8559114e5d7176cfb1"><strong>[mysql] [bug]</strong> </span><p>GAE dialect won’t fail on None match if the error code can’t be extracted
from the exception throw; courtesy Owen Nelson.</p>
<a class="changelog-reference headerlink reference internal" href="#change-99ff63b4d0d6fe8559114e5d7176cfb1">¶</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.0-mssql">
<h3>mssql<a class="headerlink" href="#change-0.8.0-mssql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.0-34"><span class="target" id="change-ba0b9d2adeaa950c7f2093a2ade195ed"><strong>[mssql] [feature]</strong> </span><p>Added <code class="docutils literal notranslate"><span class="pre">mssql_include</span></code> and <code class="docutils literal notranslate"><span class="pre">mssql_clustered</span></code> options to
<a class="reference internal" href="../core/constraints.html#sqlalchemy.schema.Index" title="sqlalchemy.schema.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a>, renders the <code class="docutils literal notranslate"><span class="pre">INCLUDE</span></code> and <code class="docutils literal notranslate"><span class="pre">CLUSTERED</span></code> keywords,
respectively.  Courtesy Derek Harland.</p>
<a class="changelog-reference headerlink reference internal" href="#change-ba0b9d2adeaa950c7f2093a2ade195ed">¶</a><p></p>
</p>
</li>
<li><p id="change-0.8.0-35"><span class="target" id="change-deae19d4bb2ad7bbeee44fa1f771d04c"><strong>[mssql] [feature]</strong> </span><p>DDL for IDENTITY columns is now supported on
non-primary key columns, by establishing a
<a class="reference internal" href="../core/defaults.html#sqlalchemy.schema.Sequence" title="sqlalchemy.schema.Sequence"><code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code></a> construct on any
integer column.  Courtesy Derek Harland.</p>
<a class="changelog-reference headerlink reference internal" href="#change-deae19d4bb2ad7bbeee44fa1f771d04c">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2644">#2644</a></p>
</p>
</li>
<li><p id="change-0.8.0-36"><span class="target" id="change-99e9dd9a91aef22f4413c883adc1dc7c"><strong>[mssql] [bug]</strong> </span><p>Added a py3K conditional around unnecessary .decode()
call in mssql information schema, fixes reflection
in Py3K. Also in 0.7.10.</p>
<a class="changelog-reference headerlink reference internal" href="#change-99e9dd9a91aef22f4413c883adc1dc7c">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2638">#2638</a></p>
</p>
</li>
<li><p id="change-0.8.0-37"><span class="target" id="change-a64f093c2a0a7670b2dbd000e77e230c"><strong>[mssql] [bug]</strong> </span><p>Fixed a regression whereby the “collation” parameter
of the character types CHAR, NCHAR, etc. stopped working,
as “collation” is now supported by the base string types.
The TEXT, NCHAR, CHAR, VARCHAR types within the
MSSQL dialect are now synonyms for the base types.</p>
<a class="changelog-reference headerlink reference internal" href="#change-a64f093c2a0a7670b2dbd000e77e230c">¶</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.0-oracle">
<h3>oracle<a class="headerlink" href="#change-0.8.0-oracle" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.0-38"><span class="target" id="change-2cc0979a478f094fa54a8b0019792ae9"><strong>[oracle] [bug]</strong> </span><p>The cx_oracle dialect will no longer run the bind parameter names
through <code class="docutils literal notranslate"><span class="pre">encode()</span></code>, as this is not valid on Python 3, and prevented
statements from functioning correctly on Python 3.  We now
encode only if <code class="docutils literal notranslate"><span class="pre">supports_unicode_binds</span></code> is False, which is not
the case for cx_oracle when at least version 5 of cx_oracle is used.</p>
<a class="changelog-reference headerlink reference internal" href="#change-2cc0979a478f094fa54a8b0019792ae9">¶</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.0-misc">
<h3>misc<a class="headerlink" href="#change-0.8.0-misc" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.0-39"><span class="target" id="change-3c5bac377a13b20bf0772508894cbe60"><strong>[bug] [tests]</strong> </span><p>Fixed an import of “logging” in test_execute which was not
working on some linux platforms.  Also in 0.7.11.</p>
<a class="changelog-reference headerlink reference internal" href="#change-3c5bac377a13b20bf0772508894cbe60">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2669">#2669</a></p>
</p>
</li>
<li><p id="change-0.8.0-40"><span class="target" id="change-0ff06082166c0925e42332b71ec08100"><strong>[bug] [examples]</strong> </span><p>Fixed a regression in the examples/dogpile_caching example
which was due to the change in <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2614">#2614</a>.</p>
<a class="changelog-reference headerlink reference internal" href="#change-0ff06082166c0925e42332b71ec08100">¶</a><p></p>
</p>
</li>
</ul>
</div>
</div>
<div class="section" id="change-0.8.0b2">
<h2 class="release-version">0.8.0b2<a class="headerlink" href="#change-0.8.0b2" title="Permalink to this headline">¶</a></h2>
Released: December 14, 2012<div class="section" id="change-0.8.0b2-orm">
<h3>orm<a class="headerlink" href="#change-0.8.0b2-orm" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.0b2-0"><span class="target" id="change-0440aa0e8373498cdeae16c5b150cb90"><strong>[orm] [feature]</strong> </span><p>Added <a class="reference internal" href="../orm/query.html#sqlalchemy.util.KeyedTuple._asdict" title="sqlalchemy.util.KeyedTuple._asdict"><code class="xref py py-meth docutils literal notranslate"><span class="pre">KeyedTuple._asdict()</span></code></a> and <a class="reference internal" href="../orm/query.html#sqlalchemy.util.KeyedTuple._fields" title="sqlalchemy.util.KeyedTuple._fields"><code class="xref py py-attr docutils literal notranslate"><span class="pre">KeyedTuple._fields</span></code></a>
to the <a class="reference internal" href="../orm/query.html#sqlalchemy.util.KeyedTuple" title="sqlalchemy.util.KeyedTuple"><code class="xref py py-class docutils literal notranslate"><span class="pre">KeyedTuple</span></code></a> class to provide some degree of compatibility
with the Python standard library <code class="docutils literal notranslate"><span class="pre">collections.namedtuple()</span></code>.</p>
<a class="changelog-reference headerlink reference internal" href="#change-0440aa0e8373498cdeae16c5b150cb90">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2601">#2601</a></p>
</p>
</li>
<li><p id="change-0.8.0b2-1"><span class="target" id="change-cfadd6c030d66215e58af3ce677a864f"><strong>[orm] [feature]</strong> </span><p>Allow synonyms to be used when defining primary and secondary
joins for relationships.</p>
<a class="changelog-reference headerlink reference internal" href="#change-cfadd6c030d66215e58af3ce677a864f">¶</a><p></p>
</p>
</li>
<li><p id="change-0.8.0b2-2"><span class="target" id="change-c6b226a6956872361404c4b013d44c5d"><strong>[orm] [feature] [extensions]</strong> </span><p>The <a class="reference internal" href="../orm/extensions/mutable.html#module-sqlalchemy.ext.mutable" title="sqlalchemy.ext.mutable"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sqlalchemy.ext.mutable</span></code></a> extension now includes the
example <a class="reference internal" href="../orm/extensions/mutable.html#sqlalchemy.ext.mutable.MutableDict" title="sqlalchemy.ext.mutable.MutableDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">MutableDict</span></code></a> class as part of the extension.</p>
<a class="changelog-reference headerlink reference internal" href="#change-c6b226a6956872361404c4b013d44c5d">¶</a><p></p>
</p>
</li>
<li><p id="change-0.8.0b2-3"><span class="target" id="change-8d958f76ee47f7155365772401087d1f"><strong>[orm] [bug]</strong> </span><p>The <a class="reference internal" href="../orm/query.html#sqlalchemy.orm.query.Query.select_from" title="sqlalchemy.orm.query.Query.select_from"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Query.select_from()</span></code></a> method can now be used with a
<a class="reference internal" href="../orm/query.html#sqlalchemy.orm.aliased" title="sqlalchemy.orm.aliased"><code class="xref py py-func docutils literal notranslate"><span class="pre">aliased()</span></code></a> construct without it interfering with the entities
being selected.   Basically, a statement like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ua</span> <span class="o">=</span> <span class="n">aliased</span><span class="p">(</span><span class="n">User</span><span class="p">)</span>
<span class="n">session</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">User</span><span class="o">.</span><span class="n">name</span><span class="p">)</span><span class="o">.</span><span class="n">select_from</span><span class="p">(</span><span class="n">ua</span><span class="p">)</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">User</span><span class="p">,</span> <span class="n">User</span><span class="o">.</span><span class="n">name</span> <span class="o">&gt;</span> <span class="n">ua</span><span class="o">.</span><span class="n">name</span><span class="p">)</span></pre></div>
</div>
<p>Will maintain the columns clause of the SELECT as coming from the
unaliased “user”, as specified; the select_from only takes place in the
FROM clause:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SELECT</span> <span class="n">users</span><span class="o">.</span><span class="n">name</span> <span class="n">AS</span> <span class="n">users_name</span> <span class="n">FROM</span> <span class="n">users</span> <span class="n">AS</span> <span class="n">users_1</span>
<span class="n">JOIN</span> <span class="n">users</span> <span class="n">ON</span> <span class="n">users</span><span class="o">.</span><span class="n">name</span> <span class="o">&lt;</span> <span class="n">users_1</span><span class="o">.</span><span class="n">name</span></pre></div>
</div>
<p>Note that this behavior is in contrast
to the original, older use case for <a class="reference internal" href="../orm/query.html#sqlalchemy.orm.query.Query.select_from" title="sqlalchemy.orm.query.Query.select_from"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Query.select_from()</span></code></a>, which is that
of restating the mapped entity in terms of a different selectable:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">session</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">User</span><span class="o">.</span><span class="n">name</span><span class="p">)</span><span class="o">.</span>\
  <span class="n">select_from</span><span class="p">(</span><span class="n">user_table</span><span class="o">.</span><span class="n">select</span><span class="p">()</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">user_table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">id</span> <span class="o">&gt;</span> <span class="mi">5</span><span class="p">))</span></pre></div>
</div>
<p>Which produces:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SELECT</span> <span class="n">anon_1</span><span class="o">.</span><span class="n">name</span> <span class="n">AS</span> <span class="n">anon_1_name</span> <span class="n">FROM</span> <span class="p">(</span><span class="n">SELECT</span> <span class="n">users</span><span class="o">.</span><span class="n">id</span> <span class="n">AS</span> <span class="nb">id</span><span class="p">,</span>
<span class="n">users</span><span class="o">.</span><span class="n">name</span> <span class="n">AS</span> <span class="n">name</span> <span class="n">FROM</span> <span class="n">users</span> <span class="n">WHERE</span> <span class="n">users</span><span class="o">.</span><span class="n">id</span> <span class="o">&gt;</span> <span class="p">:</span><span class="n">id_1</span><span class="p">)</span> <span class="n">AS</span> <span class="n">anon_1</span></pre></div>
</div>
<p>It was the “aliasing” behavior of the latter use case that was
getting in the way of the former use case.   The method now
specifically considers a SQL expression like
<a class="reference internal" href="../core/selectable.html#sqlalchemy.sql.expression.select" title="sqlalchemy.sql.expression.select"><code class="xref py py-func docutils literal notranslate"><span class="pre">select()</span></code></a> or <a class="reference internal" href="../core/selectable.html#sqlalchemy.sql.expression.alias" title="sqlalchemy.sql.expression.alias"><code class="xref py py-func docutils literal notranslate"><span class="pre">alias()</span></code></a>
separately from a mapped entity like a <a class="reference internal" href="../orm/query.html#sqlalchemy.orm.aliased" title="sqlalchemy.orm.aliased"><code class="xref py py-func docutils literal notranslate"><span class="pre">aliased()</span></code></a>
construct.</p>
<a class="changelog-reference headerlink reference internal" href="#change-8d958f76ee47f7155365772401087d1f">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2635">#2635</a></p>
</p>
</li>
<li><p id="change-0.8.0b2-4"><span class="target" id="change-366b3ffffab4272d3ea9d5c58bc6bdaa"><strong>[orm] [bug]</strong> </span><p>The <a class="reference internal" href="../orm/extensions/mutable.html#sqlalchemy.ext.mutable.MutableComposite" title="sqlalchemy.ext.mutable.MutableComposite"><code class="xref py py-class docutils literal notranslate"><span class="pre">MutableComposite</span></code></a> type did not allow for the
<a class="reference internal" href="../orm/extensions/mutable.html#sqlalchemy.ext.mutable.MutableBase.coerce" title="sqlalchemy.ext.mutable.MutableBase.coerce"><code class="xref py py-meth docutils literal notranslate"><span class="pre">MutableBase.coerce()</span></code></a> method to be used, even though
the code seemed to indicate this intent, so this now works
and a brief example is added.  As a side-effect,
the mechanics of this event handler have been changed so that
new <a class="reference internal" href="../orm/extensions/mutable.html#sqlalchemy.ext.mutable.MutableComposite" title="sqlalchemy.ext.mutable.MutableComposite"><code class="xref py py-class docutils literal notranslate"><span class="pre">MutableComposite</span></code></a> types no longer add per-type
global event handlers.  Also in 0.7.10.</p>
<a class="changelog-reference headerlink reference internal" href="#change-366b3ffffab4272d3ea9d5c58bc6bdaa">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2624">#2624</a></p>
</p>
</li>
<li><p id="change-0.8.0b2-5"><span class="target" id="change-64d3ae8c4166dd3b314fb1255ed2e4ed"><strong>[orm] [bug]</strong> </span><p>A second overhaul of aliasing/internal pathing mechanics
now allows two subclasses to have different relationships
of the same name, supported with subquery or joined eager
loading on both simultaneously when a full polymorphic
load is used.</p>
<a class="changelog-reference headerlink reference internal" href="#change-64d3ae8c4166dd3b314fb1255ed2e4ed">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2614">#2614</a></p>
</p>
</li>
<li><p id="change-0.8.0b2-6"><span class="target" id="change-e07c11d743d54ffa7ab235cbc3a58029"><strong>[orm] [bug]</strong> </span><p>Fixed bug whereby a multi-hop subqueryload within
a particular with_polymorphic load would produce a KeyError.
Takes advantage of the same internal pathing overhaul
as <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2614">#2614</a>.</p>
<a class="changelog-reference headerlink reference internal" href="#change-e07c11d743d54ffa7ab235cbc3a58029">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2617">#2617</a></p>
</p>
</li>
<li><p id="change-0.8.0b2-7"><span class="target" id="change-c8eac4ae99fd0082c6ae42044cda7547"><strong>[orm] [bug]</strong> </span><p>Fixed regression where query.update() would produce
an error if an object matched by the “fetch”
synchronization strategy wasn’t locally present.
Courtesy Scott Torborg.</p>
<a class="changelog-reference headerlink reference internal" href="#change-c8eac4ae99fd0082c6ae42044cda7547">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2602">#2602</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.0b2-engine">
<h3>engine<a class="headerlink" href="#change-0.8.0b2-engine" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.0b2-8"><span class="target" id="change-28a54006aa013faf00f812929e7c24f9"><strong>[engine] [feature]</strong> </span><p>The <a class="reference internal" href="../core/connections.html#sqlalchemy.engine.Connection.connect" title="sqlalchemy.engine.Connection.connect"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Connection.connect()</span></code></a> and <code class="xref py py-meth docutils literal notranslate"><span class="pre">Connection.contextual_connect()</span></code>
methods now return a “branched” version so that the <a class="reference internal" href="../core/connections.html#sqlalchemy.engine.Connection.close" title="sqlalchemy.engine.Connection.close"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Connection.close()</span></code></a>
method can be called on the returned connection without affecting the
original.   Allows symmetry when using <a class="reference internal" href="../core/connections.html#sqlalchemy.engine.Engine" title="sqlalchemy.engine.Engine"><code class="xref py py-class docutils literal notranslate"><span class="pre">Engine</span></code></a> and
<a class="reference internal" href="../core/connections.html#sqlalchemy.engine.Connection" title="sqlalchemy.engine.Connection"><code class="xref py py-class docutils literal notranslate"><span class="pre">Connection</span></code></a> objects as context managers:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">conn</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span> <span class="k">as</span> <span class="n">c</span><span class="p">:</span> <span class="c1"># leaves the Connection open</span>
  <span class="n">c</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;...&quot;</span><span class="p">)</span>

<span class="k">with</span> <span class="n">engine</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span> <span class="k">as</span> <span class="n">c</span><span class="p">:</span>  <span class="c1"># closes the Connection</span>
  <span class="n">c</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;...&quot;</span><span class="p">)</span></pre></div>
</div>
<a class="changelog-reference headerlink reference internal" href="#change-28a54006aa013faf00f812929e7c24f9">¶</a><p></p>
</p>
</li>
<li><p id="change-0.8.0b2-9"><span class="target" id="change-77b9a2a46687b7655e2116a17db1353e"><strong>[engine] [bug]</strong> </span><p>Fixed <a class="reference internal" href="../core/metadata.html#sqlalchemy.schema.MetaData.reflect" title="sqlalchemy.schema.MetaData.reflect"><code class="xref py py-meth docutils literal notranslate"><span class="pre">MetaData.reflect()</span></code></a> to correctly use
the given <a class="reference internal" href="../core/connections.html#sqlalchemy.engine.Connection" title="sqlalchemy.engine.Connection"><code class="xref py py-class docutils literal notranslate"><span class="pre">Connection</span></code></a>, if given, without
opening a second connection from that connection’s
<a class="reference internal" href="../core/connections.html#sqlalchemy.engine.Engine" title="sqlalchemy.engine.Engine"><code class="xref py py-class docutils literal notranslate"><span class="pre">Engine</span></code></a>.</p>
<a class="changelog-reference headerlink reference internal" href="#change-77b9a2a46687b7655e2116a17db1353e">¶</a><p>This change is also <strong>backported</strong> to: 0.7.10</p>
<p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2604">#2604</a></p>
</p>
</li>
<li><p id="change-0.8.0b2-10"><span class="target" id="change-3493b2118cfad669ab5817bd37983b18"><strong>[engine]</strong> </span><p>The “reflect=True” argument to <a class="reference internal" href="../core/metadata.html#sqlalchemy.schema.MetaData" title="sqlalchemy.schema.MetaData"><code class="xref py py-class docutils literal notranslate"><span class="pre">MetaData</span></code></a> is deprecated.
Please use the <a class="reference internal" href="../core/metadata.html#sqlalchemy.schema.MetaData.reflect" title="sqlalchemy.schema.MetaData.reflect"><code class="xref py py-meth docutils literal notranslate"><span class="pre">MetaData.reflect()</span></code></a> method.</p>
<a class="changelog-reference headerlink reference internal" href="#change-3493b2118cfad669ab5817bd37983b18">¶</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.0b2-sql">
<h3>sql<a class="headerlink" href="#change-0.8.0b2-sql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.0b2-11"><span class="target" id="change-ccda1d442536d0ccedacde3786a7a049"><strong>[sql] [feature]</strong> </span><p>The <a class="reference internal" href="../core/dml.html#sqlalchemy.sql.expression.Insert" title="sqlalchemy.sql.expression.Insert"><code class="xref py py-class docutils literal notranslate"><span class="pre">Insert</span></code></a> construct now supports multi-valued inserts,
that is, an INSERT that renders like
“INSERT INTO table VALUES (…), (…), …”.
Supported by PostgreSQL, SQLite, and MySQL.
Big thanks to Idan Kamara for doing the legwork on this one.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="migration_08.html#feature-2623"><span class="std std-ref">Multiple-VALUES support for Insert</span></a></p>
</div>
<a class="changelog-reference headerlink reference internal" href="#change-ccda1d442536d0ccedacde3786a7a049">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2623">#2623</a></p>
</p>
</li>
<li><p id="change-0.8.0b2-12"><span class="target" id="change-9b15516022fbd264038c54ed46d7b9c9"><strong>[sql] [bug]</strong> </span><p>Fixed bug where using server_onupdate=&lt;FetchedValue|DefaultClause&gt;
without passing the “for_update=True” flag would apply the default
object to the server_default, blowing away whatever was there.
The explicit for_update=True argument shouldn’t be needed with this usage
(especially since the documentation shows an example without it being
used) so it is now arranged internally using a copy of the given default
object, if the flag isn’t set to what corresponds to that argument.</p>
<a class="changelog-reference headerlink reference internal" href="#change-9b15516022fbd264038c54ed46d7b9c9">¶</a><p>This change is also <strong>backported</strong> to: 0.7.10</p>
<p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2631">#2631</a></p>
</p>
</li>
<li><p id="change-0.8.0b2-13"><span class="target" id="change-6a9d7c37dc85bb3ae8b5101236afc248"><strong>[sql] [bug]</strong> </span><p>Fixed a regression caused by <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2410">#2410</a> whereby a
<a class="reference internal" href="../core/constraints.html#sqlalchemy.schema.CheckConstraint" title="sqlalchemy.schema.CheckConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">CheckConstraint</span></code></a> would apply itself back to the
original table during a <a class="reference internal" href="../core/metadata.html#sqlalchemy.schema.Table.tometadata" title="sqlalchemy.schema.Table.tometadata"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Table.tometadata()</span></code></a> operation, as
it would parse the SQL expression for a parent table. The
operation now copies the given expression to correspond to the
new table.</p>
<a class="changelog-reference headerlink reference internal" href="#change-6a9d7c37dc85bb3ae8b5101236afc248">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2633">#2633</a></p>
</p>
</li>
<li><p id="change-0.8.0b2-14"><span class="target" id="change-52d00ac5ac3a16908d185a9b7a5979bc"><strong>[sql] [bug]</strong> </span><p>Fixed bug whereby using a label_length on dialect that was smaller
than the size of actual column identifiers would fail to render
the columns correctly in a SELECT statement.</p>
<a class="changelog-reference headerlink reference internal" href="#change-52d00ac5ac3a16908d185a9b7a5979bc">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2610">#2610</a></p>
</p>
</li>
<li><p id="change-0.8.0b2-15"><span class="target" id="change-d646ee623c01a51de03c5ab41dca6832"><strong>[sql] [bug]</strong> </span><p>The <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.DECIMAL" title="sqlalchemy.types.DECIMAL"><code class="xref py py-class docutils literal notranslate"><span class="pre">DECIMAL</span></code></a> type now honors the “precision” and
“scale” arguments when rendering DDL.</p>
<a class="changelog-reference headerlink reference internal" href="#change-d646ee623c01a51de03c5ab41dca6832">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2618">#2618</a></p>
</p>
</li>
<li><p id="change-0.8.0b2-16"><span class="target" id="change-3a51c5d14168a9eb00ee8360c4058315"><strong>[sql] [bug]</strong> </span><p>Made an adjustment to the “boolean”, (i.e. <code class="docutils literal notranslate"><span class="pre">__nonzero__</span></code>)
evaluation of binary expressions, i.e. <code class="docutils literal notranslate"><span class="pre">x1</span> <span class="pre">==</span> <span class="pre">x2</span></code>, such
that the “auto-grouping” applied by <a class="reference internal" href="../core/sqlelement.html#sqlalchemy.sql.expression.BinaryExpression" title="sqlalchemy.sql.expression.BinaryExpression"><code class="xref py py-class docutils literal notranslate"><span class="pre">BinaryExpression</span></code></a>
in some cases won’t get in the way of this comparison.
Previously, an expression like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">expr1</span> <span class="o">=</span> <span class="n">mycolumn</span> <span class="o">&gt;</span> <span class="mi">2</span>
<span class="nb">bool</span><span class="p">(</span><span class="n">expr1</span> <span class="o">==</span> <span class="n">expr1</span><span class="p">)</span></pre></div>
</div>
<p>Would evaluate as <code class="docutils literal notranslate"><span class="pre">False</span></code>, even though this is an identity
comparison, because <code class="docutils literal notranslate"><span class="pre">mycolumn</span> <span class="pre">&gt;</span> <span class="pre">2</span></code> would be “grouped” before
being placed into the <a class="reference internal" href="../core/sqlelement.html#sqlalchemy.sql.expression.BinaryExpression" title="sqlalchemy.sql.expression.BinaryExpression"><code class="xref py py-class docutils literal notranslate"><span class="pre">BinaryExpression</span></code></a>, thus changing
its identity.   <a class="reference internal" href="../core/sqlelement.html#sqlalchemy.sql.expression.BinaryExpression" title="sqlalchemy.sql.expression.BinaryExpression"><code class="xref py py-class docutils literal notranslate"><span class="pre">BinaryExpression</span></code></a> now keeps track
of the “original” objects passed in.
Additionally the <code class="docutils literal notranslate"><span class="pre">__nonzero__</span></code> method now only returns if
the operator is <code class="docutils literal notranslate"><span class="pre">==</span></code> or <code class="docutils literal notranslate"><span class="pre">!=</span></code> - all others raise <code class="docutils literal notranslate"><span class="pre">TypeError</span></code>.</p>
<a class="changelog-reference headerlink reference internal" href="#change-3a51c5d14168a9eb00ee8360c4058315">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2621">#2621</a></p>
</p>
</li>
<li><p id="change-0.8.0b2-17"><span class="target" id="change-bf1c1943e4cb7d7f56b4a8bf06cb5460"><strong>[sql] [bug]</strong> </span><p>Fixed a gotcha where inadvertently calling list() on a
<a class="reference internal" href="../core/sqlelement.html#sqlalchemy.sql.expression.ColumnElement" title="sqlalchemy.sql.expression.ColumnElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnElement</span></code></a> would go into an endless loop, if
<a class="reference internal" href="../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators.__getitem__" title="sqlalchemy.sql.operators.ColumnOperators.__getitem__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ColumnOperators.__getitem__()</span></code></a> were implemented.
A new NotImplementedError is emitted via <code class="docutils literal notranslate"><span class="pre">__iter__()</span></code>.</p>
<a class="changelog-reference headerlink reference internal" href="#change-bf1c1943e4cb7d7f56b4a8bf06cb5460">¶</a><p></p>
</p>
</li>
<li><p id="change-0.8.0b2-18"><span class="target" id="change-ebd2310b4e33e8f897da33a8c13a6afd"><strong>[sql] [bug]</strong> </span><p>Fixed bug in type_coerce() whereby typing information
could be lost if the statement were used as a subquery
inside of another statement, as well as other similar
situations.  Among other things, would cause
typing information to be lost when the Oracle/mssql dialects
would apply limit/offset wrappings.</p>
<a class="changelog-reference headerlink reference internal" href="#change-ebd2310b4e33e8f897da33a8c13a6afd">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2603">#2603</a></p>
</p>
</li>
<li><p id="change-0.8.0b2-19"><span class="target" id="change-9f5dab3cd007a03e0d6c9ab38681ab97"><strong>[sql] [bug]</strong> </span><p>Fixed bug whereby the “.key” of a Column wasn’t being
used when producing a “proxy” of the column against
a selectable.   This probably didn’t occur in 0.7
since 0.7 doesn’t respect the “.key” in a wider
range of scenarios.</p>
<a class="changelog-reference headerlink reference internal" href="#change-9f5dab3cd007a03e0d6c9ab38681ab97">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2597">#2597</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.0b2-postgresql">
<h3>postgresql<a class="headerlink" href="#change-0.8.0b2-postgresql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.0b2-20"><span class="target" id="change-2dc3892e3f036064e3c6ae24f1cb2135"><strong>[postgresql] [feature]</strong> </span><p><a class="reference internal" href="../dialects/postgresql.html#sqlalchemy.dialects.postgresql.HSTORE" title="sqlalchemy.dialects.postgresql.HSTORE"><code class="xref py py-class docutils literal notranslate"><span class="pre">HSTORE</span></code></a> is now available in the PostgreSQL dialect.
Will also use psycopg2’s extensions if available.  Courtesy
Audrius Kažukauskas.</p>
<a class="changelog-reference headerlink reference internal" href="#change-2dc3892e3f036064e3c6ae24f1cb2135">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2606">#2606</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.0b2-sqlite">
<h3>sqlite<a class="headerlink" href="#change-0.8.0b2-sqlite" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.0b2-21"><span class="target" id="change-b60ca8c89667c3fd095716b23d5c82dc"><strong>[sqlite] [bug]</strong> </span><p>More adjustment to this SQLite related issue which was released in
0.7.9, to intercept legacy SQLite quoting characters when reflecting
foreign keys.  In addition to intercepting double quotes, other
quoting characters such as brackets, backticks, and single quotes
are now also intercepted.</p>
<a class="changelog-reference headerlink reference internal" href="#change-b60ca8c89667c3fd095716b23d5c82dc">¶</a><p>This change is also <strong>backported</strong> to: 0.7.10</p>
<p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2568">#2568</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.0b2-mssql">
<h3>mssql<a class="headerlink" href="#change-0.8.0b2-mssql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.0b2-22"><span class="target" id="change-2cd1695c575daf74cad23ecb835cdd5c"><strong>[mssql] [feature]</strong> </span><p>Support for reflection of the “name” of primary key
constraints added, courtesy Dave Moore.</p>
<a class="changelog-reference headerlink reference internal" href="#change-2cd1695c575daf74cad23ecb835cdd5c">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2600">#2600</a></p>
</p>
</li>
<li><p id="change-0.8.0b2-23"><span class="target" id="change-b5408177e747087a3a191d706d2ac7e9"><strong>[mssql] [bug]</strong> </span><p>Fixed bug whereby using “key” with Column
in conjunction with “schema” for the owning
Table would fail to locate result rows due
to the MSSQL dialect’s “schema rendering”
logic’s failure to take .key into account.</p>
<a class="changelog-reference headerlink reference internal" href="#change-b5408177e747087a3a191d706d2ac7e9">¶</a><p>This change is also <strong>backported</strong> to: 0.7.10</p>
<p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.0b2-oracle">
<h3>oracle<a class="headerlink" href="#change-0.8.0b2-oracle" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.0b2-24"><span class="target" id="change-106aeb155ae3728a0c919c289e4726eb"><strong>[oracle] [bug]</strong> </span><p>Fixed table reflection for Oracle when accessing a synonym that refers
to a DBLINK remote database; while the syntax has been present in the
Oracle dialect for some time, up until now it has never been tested.
The syntax has been tested against a sample database linking to itself,
however there’s still some uncertainty as to what should be used for the
“owner” when querying the remote database for table information.
Currently, the value of “username” from user_db_links is used to
match the “owner”.</p>
<a class="changelog-reference headerlink reference internal" href="#change-106aeb155ae3728a0c919c289e4726eb">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2619">#2619</a></p>
</p>
</li>
<li><p id="change-0.8.0b2-25"><span class="target" id="change-ac22d47fb2190de7d5fdd45ea30d4bd0"><strong>[oracle] [bug]</strong> </span><p>The Oracle LONG type, while an unbounded text type, does not appear
to use the cx_Oracle.LOB type when result rows are returned,
so the dialect has been repaired to exclude LONG from
having cx_Oracle.LOB filtering applied.  Also in 0.7.10.</p>
<a class="changelog-reference headerlink reference internal" href="#change-ac22d47fb2190de7d5fdd45ea30d4bd0">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2620">#2620</a></p>
</p>
</li>
<li><p id="change-0.8.0b2-26"><span class="target" id="change-cd9ec13cd0145a84de78a595fe61506f"><strong>[oracle] [bug]</strong> </span><p>Repaired the usage of <code class="docutils literal notranslate"><span class="pre">.prepare()</span></code> in conjunction with
cx_Oracle so that a return value of <code class="docutils literal notranslate"><span class="pre">False</span></code> will result
in no call to <code class="docutils literal notranslate"><span class="pre">connection.commit()</span></code>, hence avoiding
“no transaction” errors.   Two-phase transactions have
now been shown to work in a rudimental fashion with
SQLAlchemy and cx_oracle, however are subject to caveats
observed with the driver; check the documentation
for details.  Also in 0.7.10.</p>
<a class="changelog-reference headerlink reference internal" href="#change-cd9ec13cd0145a84de78a595fe61506f">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2611">#2611</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.0b2-firebird">
<h3>firebird<a class="headerlink" href="#change-0.8.0b2-firebird" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.0b2-27"><span class="target" id="change-9ff9e7628c1d8b7060924fafe6844fe0"><strong>[firebird] [bug]</strong> </span><p>Added missing import for “fdb” to the experimental
“firebird+fdb” dialect.</p>
<a class="changelog-reference headerlink reference internal" href="#change-9ff9e7628c1d8b7060924fafe6844fe0">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2622">#2622</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.0b2-misc">
<h3>misc<a class="headerlink" href="#change-0.8.0b2-misc" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.0b2-28"><span class="target" id="change-cf6d50791e201a7d553f5aa10db3cbdc"><strong>[feature] [sybase]</strong> </span><p>Reflection support has been added to the Sybase dialect.
Big thanks to Ben Trofatter for all the work developing and
testing this.</p>
<a class="changelog-reference headerlink reference internal" href="#change-cf6d50791e201a7d553f5aa10db3cbdc">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1753">#1753</a></p>
</p>
</li>
<li><p id="change-0.8.0b2-29"><span class="target" id="change-960a01e29400ef086e01dfbfafb4913c"><strong>[feature] [pool]</strong> </span><p>The <a class="reference internal" href="../core/pooling.html#sqlalchemy.pool.Pool" title="sqlalchemy.pool.Pool"><code class="xref py py-class docutils literal notranslate"><span class="pre">Pool</span></code></a> will now log all connection.close()
operations equally, including closes which occur for
invalidated connections, detached connections, and connections
beyond the pool capacity.</p>
<a class="changelog-reference headerlink reference internal" href="#change-960a01e29400ef086e01dfbfafb4913c">¶</a><p></p>
</p>
</li>
<li><p id="change-0.8.0b2-30"><span class="target" id="change-e08369ab111a8e4b26bc44e495aa0d46"><strong>[feature] [pool]</strong> </span><p>The <a class="reference internal" href="../core/pooling.html#sqlalchemy.pool.Pool" title="sqlalchemy.pool.Pool"><code class="xref py py-class docutils literal notranslate"><span class="pre">Pool</span></code></a> now consults the <a class="reference internal" href="../core/internals.html#sqlalchemy.engine.interfaces.Dialect" title="sqlalchemy.engine.interfaces.Dialect"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dialect</span></code></a> for
functionality regarding how the connection should be
“auto rolled back”, as well as closed.   This grants more
control of transaction scope to the dialect, so that we
will be better able to implement transactional workarounds
like those potentially needed for pysqlite and cx_oracle.</p>
<a class="changelog-reference headerlink reference internal" href="#change-e08369ab111a8e4b26bc44e495aa0d46">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2611">#2611</a></p>
</p>
</li>
<li><p id="change-0.8.0b2-31"><span class="target" id="change-a71308c2787ff6db34f03853edf6dff2"><strong>[feature] [pool]</strong> </span><p>Added new <a class="reference internal" href="../core/events.html#sqlalchemy.events.PoolEvents.reset" title="sqlalchemy.events.PoolEvents.reset"><code class="xref py py-meth docutils literal notranslate"><span class="pre">PoolEvents.reset()</span></code></a> hook to capture
the event before a connection is auto-rolled back, upon
return to the pool.   Together with
<a class="reference internal" href="../core/events.html#sqlalchemy.events.ConnectionEvents.rollback" title="sqlalchemy.events.ConnectionEvents.rollback"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ConnectionEvents.rollback()</span></code></a> this allows all rollback
events to be intercepted.</p>
<a class="changelog-reference headerlink reference internal" href="#change-a71308c2787ff6db34f03853edf6dff2">¶</a><p></p>
</p>
</li>
<li><p id="change-0.8.0b2-32"><span class="target" id="change-0f4be8723d2662b5128985703f1efe1b"><strong>[informix]</strong> </span><p>Some cruft regarding informix transaction handling has been
removed, including a feature that would skip calling
commit()/rollback() as well as some hardcoded isolation level
assumptions on begin()..   The status of this dialect is not
well understood as we don’t have any users working with it,
nor any access to an Informix database.   If someone with
access to Informix wants to help test this dialect, please
let us know.</p>
<a class="changelog-reference headerlink reference internal" href="#change-0f4be8723d2662b5128985703f1efe1b">¶</a><p></p>
</p>
</li>
</ul>
</div>
</div>
<div class="section" id="change-0.8.0b1">
<h2 class="release-version">0.8.0b1<a class="headerlink" href="#change-0.8.0b1" title="Permalink to this headline">¶</a></h2>
Released: October 30, 2012<div class="section" id="change-0.8.0b1-general">
<h3>general<a class="headerlink" href="#change-0.8.0b1-general" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.0b1-0"><span class="target" id="change-5cdfbadad1d1ab8b583def86bfe1c3b8"><strong>[general] [removed]</strong> </span><p>The “sqlalchemy.exceptions”
synonym for “sqlalchemy.exc” is removed
fully.</p>
<a class="changelog-reference headerlink reference internal" href="#change-5cdfbadad1d1ab8b583def86bfe1c3b8">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2433">#2433</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-1"><span class="target" id="change-5bd84bb0a379638a703e8d486a876539"><strong>[general]</strong> </span><p>SQLAlchemy 0.8 now targets Python 2.5 and
above.  Python 2.4 is no longer supported.</p>
<a class="changelog-reference headerlink reference internal" href="#change-5bd84bb0a379638a703e8d486a876539">¶</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.0b1-orm">
<h3>orm<a class="headerlink" href="#change-0.8.0b1-orm" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.0b1-2"><span class="target" id="change-2b5d7a236365a2a7ca5e6aca63d3dcad"><strong>[orm] [feature]</strong> </span><p>Major rewrite of relationship()
internals now allow join conditions which
include columns pointing to themselves
within composite foreign keys.   A new
API for very specialized primaryjoin conditions
is added, allowing conditions based on
SQL functions, CAST, etc. to be handled
by placing the annotation functions
remote() and foreign() inline within the
expression when necessary.  Previous recipes
using the semi-private _local_remote_pairs
approach can be upgraded to this new
approach.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="migration_08.html#feature-relationship-08"><span class="std std-ref">Rewritten _orm.relationship() mechanics</span></a></p>
</div>
<a class="changelog-reference headerlink reference internal" href="#change-2b5d7a236365a2a7ca5e6aca63d3dcad">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1401">#1401</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-3"><span class="target" id="change-bfb5af4d4d7644b298d000311189fabd"><strong>[orm] [feature]</strong> </span><p>New standalone function with_polymorphic()
provides the functionality of query.with_polymorphic()
in a standalone form.   It can be applied to any
entity within a query, including as the target
of a join in place of the “of_type()” modifier.</p>
<a class="changelog-reference headerlink reference internal" href="#change-bfb5af4d4d7644b298d000311189fabd">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2333">#2333</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-4"><span class="target" id="change-78a51fb9614f402a7225108f99846c70"><strong>[orm] [feature]</strong> </span><p>The of_type() construct on attributes
now accepts aliased() class constructs as well
as with_polymorphic constructs, and works with
query.join(), any(), has(), and also
eager loaders subqueryload(), joinedload(),
contains_eager()</p>
<a class="changelog-reference headerlink reference internal" href="#change-78a51fb9614f402a7225108f99846c70">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1106">#1106</a>, <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2438">#2438</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-5"><span class="target" id="change-93ce3ef6116143e465e8824d6b1d1d77"><strong>[orm] [feature]</strong> </span><p>Improvements to event listening for
mapped classes allows that unmapped classes
can be specified for instance- and mapper-events.
The established events will be automatically
set up on subclasses of that class when the
propagate=True flag is passed, and the
events will be set up for that class itself
if and when it is ultimately mapped.</p>
<a class="changelog-reference headerlink reference internal" href="#change-93ce3ef6116143e465e8824d6b1d1d77">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2585">#2585</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-6"><span class="target" id="change-eb6e1bb92c5ceea0be162479d444103a"><strong>[orm] [feature]</strong> </span><p>The “deferred declarative
reflection” system has been moved into the
declarative extension itself, using the
new DeferredReflection class.  This
class is now tested with both single
and joined table inheritance use cases.</p>
<a class="changelog-reference headerlink reference internal" href="#change-eb6e1bb92c5ceea0be162479d444103a">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2485">#2485</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-7"><span class="target" id="change-5a3967b4ed8af452ab323aaa3b5d27f2"><strong>[orm] [feature]</strong> </span><p>Added new core function “inspect()”,
which serves as a generic gateway to
introspection into mappers, objects,
others.   The Mapper and InstanceState
objects have been enhanced with a public
API that allows inspection of mapped
attributes, including filters for column-bound
or relationship-bound properties, inspection
of current object state, history of
attributes, etc.</p>
<a class="changelog-reference headerlink reference internal" href="#change-5a3967b4ed8af452ab323aaa3b5d27f2">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2208">#2208</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-8"><span class="target" id="change-1df6e3552ee895cd48952f95c0f0730a"><strong>[orm] [feature]</strong> </span><p>Calling rollback() within a
session.begin_nested() will now only expire
those objects that had net changes within the
scope of that transaction, that is objects which
were dirty or were modified on a flush.  This
allows the typical use case for begin_nested(),
that of altering a small subset of objects, to
leave in place the data from the larger enclosing
set of objects that weren’t modified in
that sub-transaction.</p>
<a class="changelog-reference headerlink reference internal" href="#change-1df6e3552ee895cd48952f95c0f0730a">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2452">#2452</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-9"><span class="target" id="change-42a29b97f3f04fca95c888b8ebb68802"><strong>[orm] [feature]</strong> </span><p>Added utility feature
Session.enable_relationship_loading(),
supersedes relationship.load_on_pending.
Both features should be avoided, however.</p>
<a class="changelog-reference headerlink reference internal" href="#change-42a29b97f3f04fca95c888b8ebb68802">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2372">#2372</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-10"><span class="target" id="change-d6ca8c5a4d9259ca52feb4e113633afe"><strong>[orm] [feature]</strong> </span><p>Added support for .info dictionary argument to
column_property(), relationship(), composite().
All MapperProperty classes have an auto-creating .info
dict available overall.</p>
<a class="changelog-reference headerlink reference internal" href="#change-d6ca8c5a4d9259ca52feb4e113633afe">¶</a><p></p>
</p>
</li>
<li><p id="change-0.8.0b1-11"><span class="target" id="change-9cbdee6462b2adb613d0260699424d93"><strong>[orm] [feature]</strong> </span><p>Adding/removing None from a mapped collection
now generates attribute events.  Previously, a None
append would be ignored in some cases.  Related
to.</p>
<a class="changelog-reference headerlink reference internal" href="#change-9cbdee6462b2adb613d0260699424d93">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2229">#2229</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-12"><span class="target" id="change-dfe35810c91fadc80cc26fafc4758932"><strong>[orm] [feature]</strong> </span><p>The presence of None in a mapped collection
now raises an error during flush.   Previously,
None values in collections would be silently ignored.</p>
<a class="changelog-reference headerlink reference internal" href="#change-dfe35810c91fadc80cc26fafc4758932">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2229">#2229</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-13"><span class="target" id="change-6849b5ad20a8f598c90e058f7406607e"><strong>[orm] [feature]</strong> </span><p>The Query.update() method is now
more lenient as to the table
being updated.  Plain Table objects are better
supported now, and additional a joined-inheritance
subclass may be used with update(); the subclass
table will be the target of the update,
and if the parent table is referenced in the
WHERE clause, the compiler will call upon
UPDATE..FROM syntax as allowed by the dialect
to satisfy the WHERE clause.  MySQL’s multi-table
update feature is also supported if columns
are specified by object in the “values” dictionary.
PG’s DELETE..USING is also not available
in Core yet.</p>
<a class="changelog-reference headerlink reference internal" href="#change-6849b5ad20a8f598c90e058f7406607e">¶</a><p></p>
</p>
</li>
<li><p id="change-0.8.0b1-14"><span class="target" id="change-b6a88424dffec42d164fbc0e90fbd47d"><strong>[orm] [feature]</strong> </span><p>New session events after_transaction_create
and after_transaction_end
allows tracking of new SessionTransaction objects.
If the object is inspected, can be used to determine
when a session first becomes active and when
it deactivates.</p>
<a class="changelog-reference headerlink reference internal" href="#change-b6a88424dffec42d164fbc0e90fbd47d">¶</a><p></p>
</p>
</li>
<li><p id="change-0.8.0b1-15"><span class="target" id="change-8da279230401738c29fde56b8e12e329"><strong>[orm] [feature]</strong> </span><p>The Query can now load entity/scalar-mixed
“tuple” rows that contain
types which aren’t hashable, by setting the flag
“hashable=False” on the corresponding TypeEngine object
in use.  Custom types that return unhashable types
(typically lists) can set this flag to False.</p>
<a class="changelog-reference headerlink reference internal" href="#change-8da279230401738c29fde56b8e12e329">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2592">#2592</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-16"><span class="target" id="change-895b051922d21bb69c4c67ce5309b066"><strong>[orm] [feature]</strong> </span><p>Query now “auto correlates” by
default in the same way as select() does.
Previously, a Query used as a subquery
in another would require the correlate()
method be called explicitly in order to
correlate a table on the inside to the
outside.  As always, correlate(None)
disables correlation.</p>
<a class="changelog-reference headerlink reference internal" href="#change-895b051922d21bb69c4c67ce5309b066">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2179">#2179</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-17"><span class="target" id="change-8597db755973435d332ab67dcd0cd333"><strong>[orm] [feature]</strong> </span><p>The after_attach event is now
emitted after the object is established
in Session.new or Session.identity_map
upon Session.add(), Session.merge(),
etc., so that the object is represented
in these collections when the event
is called.  Added before_attach
event to accommodate use cases that
need autoflush w pre-attached object.</p>
<a class="changelog-reference headerlink reference internal" href="#change-8597db755973435d332ab67dcd0cd333">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2464">#2464</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-18"><span class="target" id="change-fe41acf149abee6a65a1785143121903"><strong>[orm] [feature]</strong> </span><p>The Session will produce warnings
when unsupported methods are used inside the
“execute” portion of the flush.   These are
the familiar methods add(), delete(), etc.
as well as collection and related-object
manipulations, as called within mapper-level
flush events
like after_insert(), after_update(), etc.
It’s been prominently documented for a long
time that  SQLAlchemy cannot guarantee
results when the Session is manipulated within
the execution of the flush plan,
however users are still doing it, so now
there’s a warning.   Maybe someday the Session
will be enhanced to support these operations
inside of the flush, but for now, results
can’t be guaranteed.</p>
<a class="changelog-reference headerlink reference internal" href="#change-fe41acf149abee6a65a1785143121903">¶</a><p></p>
</p>
</li>
<li><p id="change-0.8.0b1-19"><span class="target" id="change-443927d0d360b2d45aec1f0edb4cd52e"><strong>[orm] [feature]</strong> </span><p>ORM entities can be passed
to the core select() construct as well
as to the select_from(),
correlate(), and correlate_except()
methods of select(), where they will be unwrapped
into selectables.</p>
<a class="changelog-reference headerlink reference internal" href="#change-443927d0d360b2d45aec1f0edb4cd52e">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2245">#2245</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-20"><span class="target" id="change-a67dd1b9a7a101568b19a0bab8f0e7b1"><strong>[orm] [feature]</strong> </span><p>Some support for auto-rendering of a
relationship join condition based on the mapped
attribute, with usage of core SQL constructs.
E.g. select([SomeClass]).where(SomeClass.somerelationship)
would render SELECT from “someclass” and use the
primaryjoin of “somerelationship” as the WHERE
clause.   This changes the previous meaning
of “SomeClass.somerelationship” when used in a
core SQL context; previously, it would “resolve”
to the parent selectable, which wasn’t generally
useful.  Also works with query.filter().
Related to.</p>
<a class="changelog-reference headerlink reference internal" href="#change-a67dd1b9a7a101568b19a0bab8f0e7b1">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2245">#2245</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-21"><span class="target" id="change-f3c6355a218b2e87fd0f0703b6db668b"><strong>[orm] [feature]</strong> </span><p>The registry of classes
in declarative_base() is now a
WeakValueDictionary.  So subclasses of
“Base” that are dereferenced will be
garbage collected, <em>if they are not
referred to by any other mappers/superclass
mappers</em>. See the next note for this ticket.</p>
<a class="changelog-reference headerlink reference internal" href="#change-f3c6355a218b2e87fd0f0703b6db668b">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2526">#2526</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-22"><span class="target" id="change-60840075c7cfa8d1adae037d2c11e7ac"><strong>[orm] [feature]</strong> </span><p>Conflicts between columns on
single-inheritance declarative subclasses,
with or without using a mixin, can be resolved
using a new &#64;declared_attr usage described
in the documentation.</p>
<a class="changelog-reference headerlink reference internal" href="#change-60840075c7cfa8d1adae037d2c11e7ac">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2472">#2472</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-23"><span class="target" id="change-5cd3668a5182df1fe6b544b806615e64"><strong>[orm] [feature]</strong> </span><p>declared_attr can now be used
on non-mixin classes, even though this is generally
only useful for single-inheritance subclass
column conflict resolution.</p>
<a class="changelog-reference headerlink reference internal" href="#change-5cd3668a5182df1fe6b544b806615e64">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2472">#2472</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-24"><span class="target" id="change-b42d3e5638d89a011e7c711e5519fe42"><strong>[orm] [feature]</strong> </span><p>declared_attr can now be used with
attributes that are not Column or MapperProperty;
including any user-defined value as well
as association proxy objects.</p>
<a class="changelog-reference headerlink reference internal" href="#change-b42d3e5638d89a011e7c711e5519fe42">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2517">#2517</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-25"><span class="target" id="change-5e6f2f1fd27a664f943148e0e20be5cc"><strong>[orm] [feature]</strong> </span><p><em>Very limited</em> support for
inheriting mappers to be GC’ed when the
class itself is deferenced.  The mapper
must not have its own table (i.e.
single table inh only) without polymorphic
attributes in place.
This allows for the use case of
creating a temporary subclass of a declarative
mapped class, with no table or mapping
directives of its own, to be garbage collected
when dereferenced by a unit test.</p>
<a class="changelog-reference headerlink reference internal" href="#change-5e6f2f1fd27a664f943148e0e20be5cc">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2526">#2526</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-26"><span class="target" id="change-073653e77b313e22c14bb667583872c7"><strong>[orm] [feature]</strong> </span><p>Declarative now maintains a registry
of classes by string name as well as by full
module-qualified name.   Multiple classes with the
same name can now be looked up based on a module-qualified
string within relationship().   Simple class name
lookups where more than one class shares the same
name now raises an informative error message.</p>
<a class="changelog-reference headerlink reference internal" href="#change-073653e77b313e22c14bb667583872c7">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2338">#2338</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-27"><span class="target" id="change-04cfa3591fc1133acc153a1db8fb823a"><strong>[orm] [feature]</strong> </span><p>Can now provide class-bound attributes
that override columns which are of any
non-ORM type, not just descriptors.</p>
<a class="changelog-reference headerlink reference internal" href="#change-04cfa3591fc1133acc153a1db8fb823a">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2535">#2535</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-28"><span class="target" id="change-56649e7f35bc7153f0e7220eab4aec69"><strong>[orm] [feature]</strong> </span><p>Added with_labels and
reduce_columns keyword arguments to
Query.subquery(), to provide two alternate
strategies for producing queries with uniquely-
named columns. .</p>
<a class="changelog-reference headerlink reference internal" href="#change-56649e7f35bc7153f0e7220eab4aec69">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1729">#1729</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-29"><span class="target" id="change-89c7b068a74a5e4d7c5cd96c1fcdb81e"><strong>[orm] [feature]</strong> </span><p>A warning is emitted when a reference
to an instrumented collection is no longer
associated with the parent class due to
expiration/attribute refresh/collection
replacement, but an append
or remove operation is received on the
now-detached collection.</p>
<a class="changelog-reference headerlink reference internal" href="#change-89c7b068a74a5e4d7c5cd96c1fcdb81e">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2476">#2476</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-30"><span class="target" id="change-9e38576183f7a6782b4f7506ccdf6a64"><strong>[orm] [removed]</strong> </span><p>The legacy “mutable” system of the
ORM, including the MutableType class as well
as the mutable=True flag on PickleType
and postgresql.ARRAY has been removed.
In-place mutations are detected by the ORM
using the sqlalchemy.ext.mutable extension,
introduced in 0.7.   The removal of MutableType
and associated constructs removes a great
deal of complexity from SQLAlchemy’s internals.
The approach performed poorly as it would incur
a scan of the full contents of the Session
when in use.</p>
<a class="changelog-reference headerlink reference internal" href="#change-9e38576183f7a6782b4f7506ccdf6a64">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2442">#2442</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-31"><span class="target" id="change-dca2d3ea2b1c7196e57ba9c29726c984"><strong>[orm] [removed]</strong> </span><p>Deprecated identifiers removed:</p>
<ul>
<li><p>allow_null_pks mapper() argument
(use allow_partial_pks)</p></li>
<li><p>_get_col_to_prop() mapper method
(use get_property_by_column())</p></li>
<li><p>dont_load argument to Session.merge()
(use load=True)</p></li>
<li><p>sqlalchemy.orm.shard module
(use sqlalchemy.ext.horizontal_shard)</p></li>
</ul>
<a class="changelog-reference headerlink reference internal" href="#change-dca2d3ea2b1c7196e57ba9c29726c984">¶</a><p></p>
</p>
</li>
<li><p id="change-0.8.0b1-32"><span class="target" id="change-6b9cbc218fc7c96feb638b82e0510096"><strong>[orm] [bug]</strong> </span><p>ORM will perform extra effort to determine
that an FK dependency between two tables is
not significant during flush if the tables
are related via joined inheritance and the FK
dependency is not part of the inherit_condition,
saves the user a use_alter directive.</p>
<a class="changelog-reference headerlink reference internal" href="#change-6b9cbc218fc7c96feb638b82e0510096">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2527">#2527</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-33"><span class="target" id="change-20d79523a1d3c898c75000b8432ad204"><strong>[orm] [bug]</strong> </span><p>The instrumentation events class_instrument(),
class_uninstrument(), and attribute_instrument()
will now fire off only for descendant classes
of the class assigned to listen().  Previously,
an event listener would be assigned to listen
for all classes in all cases regardless of the
“target” argument passed.</p>
<a class="changelog-reference headerlink reference internal" href="#change-20d79523a1d3c898c75000b8432ad204">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2590">#2590</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-34"><span class="target" id="change-d4fb10b3e74c7cfee50b305f21ad75ba"><strong>[orm] [bug]</strong> </span><p>with_polymorphic() produces JOINs
in the correct order and with correct inheriting
tables in the case of sending multi-level
subclasses in an arbitrary order or with
intermediary classes missing.</p>
<a class="changelog-reference headerlink reference internal" href="#change-d4fb10b3e74c7cfee50b305f21ad75ba">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1900">#1900</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-35"><span class="target" id="change-670f860895b1ac776c73a9f529b4ff01"><strong>[orm] [bug]</strong> </span><p>Improvements to joined/subquery eager
loading dealing with chains of subclass entities
sharing a common base, with no specific “join depth”
provided.  Will chain out to
each subclass mapper individually before detecting
a “cycle”, rather than considering the base class
to be the source of the “cycle”.</p>
<a class="changelog-reference headerlink reference internal" href="#change-670f860895b1ac776c73a9f529b4ff01">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2481">#2481</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-36"><span class="target" id="change-43ab88968711042d804aba10f927a0e7"><strong>[orm] [bug]</strong> </span><p>The “passive” flag on Session.is_modified()
no longer has any effect. is_modified() in
all cases looks only at local in-memory
modified flags and will not emit any
SQL or invoke loader callables/initializers.</p>
<a class="changelog-reference headerlink reference internal" href="#change-43ab88968711042d804aba10f927a0e7">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2320">#2320</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-37"><span class="target" id="change-f6749307d43fd438dc2226c9c36cabdf"><strong>[orm] [bug]</strong> </span><p>The warning emitted when using
delete-orphan cascade with one-to-many
or many-to-many without single-parent=True
is now an error.  The ORM
would fail to function subsequent to this
warning in any case.</p>
<a class="changelog-reference headerlink reference internal" href="#change-f6749307d43fd438dc2226c9c36cabdf">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2405">#2405</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-38"><span class="target" id="change-8983e9238cae7a3307091bab80843317"><strong>[orm] [bug]</strong> </span><p>Lazy loads emitted within flush events
such as before_flush(), before_update(),
etc. will now function as they would
within non-event code, regarding consideration
of the PK/FK values used in the lazy-emitted
query.   Previously,
special flags would be established that
would cause lazy loads to load related items
based on the “previous” value of the
parent PK/FK values specifically when called
upon within a flush; the signal to load
in this way is now localized to where the
unit of work actually needs to load that
way.  Note that the UOW does
sometimes load these collections before
the before_update() event is called,
so the usage of “passive_updates” or not
can affect whether or not a collection will
represent the “old” or “new” data, when
accessed within a flush event, based
on when the lazy load was emitted.
The change is backwards incompatible in
the exceedingly small chance that
user event code depended on the old
behavior.</p>
<a class="changelog-reference headerlink reference internal" href="#change-8983e9238cae7a3307091bab80843317">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2350">#2350</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-39"><span class="target" id="change-dc5132d9120b849690569f05152a84cf"><strong>[orm] [bug]</strong> </span><p>Continuing regarding extra
state post-flush due to event listeners;
any states that are marked as “dirty” from an
attribute perspective, usually via column-attribute
set events within after_insert(), after_update(),
etc., will get the “history” flag reset
in all cases, instead of only those instances
that were part of the flush.  This has the effect
that this “dirty” state doesn’t carry over
after the flush and won’t result in UPDATE
statements.   A warning is emitted to this
effect; the set_committed_state()
method can be used to assign attributes on objects
without producing history events.</p>
<a class="changelog-reference headerlink reference internal" href="#change-dc5132d9120b849690569f05152a84cf">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2566">#2566</a>, <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2582">#2582</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-40"><span class="target" id="change-39a20209d28a327df9e9d29836c7c289"><strong>[orm] [bug]</strong> </span><p>Fixed a disconnect that slowly evolved
between a &#64;declared_attr Column and a
directly-defined Column on a mixin. In both
cases, the Column will be applied to the
declared class’ table, but not to that of a
joined inheritance subclass.   Previously,
the directly-defined Column would be placed
on both the base and the sub table, which isn’t
typically what’s desired.</p>
<a class="changelog-reference headerlink reference internal" href="#change-39a20209d28a327df9e9d29836c7c289">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2565">#2565</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-41"><span class="target" id="change-2e38231d60a59df94e2c8460f26df0ac"><strong>[orm] [bug]</strong> </span><p>Declarative can now propagate a column
declared on a single-table inheritance subclass
up to the parent class’ table, when the parent
class is itself mapped to a join() or select()
statement, directly or via joined inheritance,
and not just a Table.</p>
<a class="changelog-reference headerlink reference internal" href="#change-2e38231d60a59df94e2c8460f26df0ac">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2549">#2549</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-42"><span class="target" id="change-5f7f7241c49f5c13956148d68788a5b4"><strong>[orm] [bug]</strong> </span><p>An error is emitted when uselist=False
is combined with a “dynamic” loader.
This is a warning in 0.7.9.</p>
<a class="changelog-reference headerlink reference internal" href="#change-5f7f7241c49f5c13956148d68788a5b4">¶</a><p></p>
</p>
</li>
<li><p id="change-0.8.0b1-43"><span class="target" id="change-d949d8b3a5cfeff6d354df74627d5c86"><strong>[orm] [moved]</strong> </span><p>The InstrumentationManager interface
and the entire related system of alternate
class implementation is now moved out
to sqlalchemy.ext.instrumentation.   This is
a seldom used system that adds significant
complexity and overhead to the mechanics of
class instrumentation.  The new architecture
allows it to remain unused until
InstrumentationManager is actually imported,
at which point it is bootstrapped into
the core.</p>
<a class="changelog-reference headerlink reference internal" href="#change-d949d8b3a5cfeff6d354df74627d5c86">¶</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.0b1-engine">
<h3>engine<a class="headerlink" href="#change-0.8.0b1-engine" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.0b1-44"><span class="target" id="change-9351c132e3dc4f1e2351b2a8da2e25fa"><strong>[engine] [feature]</strong> </span><p>Connection event listeners can
now be associated with individual
Connection objects, not just Engine
objects.</p>
<a class="changelog-reference headerlink reference internal" href="#change-9351c132e3dc4f1e2351b2a8da2e25fa">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2511">#2511</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-45"><span class="target" id="change-b45c2b0f2927b785ff1ecf351e774697"><strong>[engine] [feature]</strong> </span><p>The before_cursor_execute event
fires off for so-called “_cursor_execute”
events, which are usually special-case
executions of primary-key bound sequences
and default-generation SQL
phrases that invoke separately when RETURNING
is not used with INSERT.</p>
<a class="changelog-reference headerlink reference internal" href="#change-b45c2b0f2927b785ff1ecf351e774697">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2459">#2459</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-46"><span class="target" id="change-22463c2cfb9d39369a05c7604a115970"><strong>[engine] [feature]</strong> </span><p>The libraries used by the test suite
have been moved around a bit so that they are
part of the SQLAlchemy install again.  In addition,
a new suite of tests is present in the
new sqlalchemy.testing.suite package.  This is
an under-development system that hopes to provide
a universal testing suite for external dialects.
Dialects which are maintained outside of SQLAlchemy
can use the new test fixture as the framework
for their own tests, and will get for free a
“compliance” suite of dialect-focused tests,
including an improved “requirements” system
where specific capabilities and features can
be enabled or disabled for testing.</p>
<a class="changelog-reference headerlink reference internal" href="#change-22463c2cfb9d39369a05c7604a115970">¶</a><p></p>
</p>
</li>
<li><p id="change-0.8.0b1-47"><span class="target" id="change-430f3e50d2f127fd14de43289d9a2f3c"><strong>[engine] [feature]</strong> </span><p>Added a new system
for registration of new dialects in-process
without using an entrypoint.  See the
docs for “Registering New Dialects”.</p>
<a class="changelog-reference headerlink reference internal" href="#change-430f3e50d2f127fd14de43289d9a2f3c">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2462">#2462</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-48"><span class="target" id="change-e2fae5f65ab52a26ac82b7f60935da09"><strong>[engine] [feature]</strong> </span><p>The “required” flag is set to
True by default, if not passed explicitly,
on bindparam() if the “value” or “callable”
parameters are not passed.
This will cause statement execution to check
for the parameter being present in the final
collection of bound parameters, rather than
implicitly assigning None.</p>
<a class="changelog-reference headerlink reference internal" href="#change-e2fae5f65ab52a26ac82b7f60935da09">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2556">#2556</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-49"><span class="target" id="change-fe0037e95612a977b51439e4b6c0eafb"><strong>[engine] [feature]</strong> </span><p>Various API tweaks to the “dialect”
API to better support highly specialized
systems such as the Akiban database, including
more hooks to allow an execution context to
access type processors.</p>
<a class="changelog-reference headerlink reference internal" href="#change-fe0037e95612a977b51439e4b6c0eafb">¶</a><p></p>
</p>
</li>
<li><p id="change-0.8.0b1-50"><span class="target" id="change-9decb8479dcbbd65af523f2c6c173243"><strong>[engine] [feature]</strong> </span><p>Inspector.get_primary_keys() is
deprecated; use Inspector.get_pk_constraint().
Courtesy Diana Clarke.</p>
<a class="changelog-reference headerlink reference internal" href="#change-9decb8479dcbbd65af523f2c6c173243">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2422">#2422</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-51"><span class="target" id="change-887967cc348c92cb22f612310ccfc257"><strong>[engine] [feature]</strong> </span><p>New C extension module “utils” has
been added for additional function speedups
as we have time to implement.</p>
<a class="changelog-reference headerlink reference internal" href="#change-887967cc348c92cb22f612310ccfc257">¶</a><p></p>
</p>
</li>
<li><p id="change-0.8.0b1-52"><span class="target" id="change-1b4924eaec05f897fcafc0a386d7d0b1"><strong>[engine] [bug]</strong> </span><p>The Inspector.get_table_names()
order_by=”foreign_key” feature now sorts
tables by dependee first, to be consistent
with util.sort_tables and metadata.sorted_tables.</p>
<a class="changelog-reference headerlink reference internal" href="#change-1b4924eaec05f897fcafc0a386d7d0b1">¶</a><p></p>
</p>
</li>
<li><p id="change-0.8.0b1-53"><span class="target" id="change-73a085588ec93dbd5c85a150c70daa5e"><strong>[engine] [bug]</strong> </span><p>Fixed bug whereby if a database restart
affected multiple connections, each
connection would individually invoke a new
disposal of the pool, even though only
one disposal is needed.</p>
<a class="changelog-reference headerlink reference internal" href="#change-73a085588ec93dbd5c85a150c70daa5e">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2522">#2522</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-54"><span class="target" id="change-07342ef0c4ddef6d0e85eb475b5f4ddf"><strong>[engine] [bug]</strong> </span><p>The names of the columns on the
.c. attribute of a select().apply_labels()
is now based on &lt;tablename&gt;_&lt;colkey&gt; instead
of &lt;tablename&gt;_&lt;colname&gt;, for those columns
that have a distinctly named .key.</p>
<a class="changelog-reference headerlink reference internal" href="#change-07342ef0c4ddef6d0e85eb475b5f4ddf">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2397">#2397</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-55"><span class="target" id="change-8d333a7e4e2cdba25bbd707e1969eb49"><strong>[engine] [bug]</strong> </span><p>The autoload_replace flag on Table,
when False, will cause any reflected foreign key
constraints which refer to already-declared
columns to be skipped, assuming that the
in-Python declared column will take over
the task of specifying in-Python ForeignKey
or ForeignKeyConstraint declarations.</p>
<a class="changelog-reference headerlink reference internal" href="#change-8d333a7e4e2cdba25bbd707e1969eb49">¶</a><p></p>
</p>
</li>
<li><p id="change-0.8.0b1-56"><span class="target" id="change-1e7b3421e138590585f3eaeed284bf5a"><strong>[engine] [bug]</strong> </span><p>The ResultProxy methods inserted_primary_key,
last_updated_params(), last_inserted_params(),
postfetch_cols(), prefetch_cols() all
assert that the given statement is a compiled
construct, and is an insert() or update()
statement as is appropriate, else
raise InvalidRequestError.</p>
<a class="changelog-reference headerlink reference internal" href="#change-1e7b3421e138590585f3eaeed284bf5a">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2498">#2498</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-57"><span class="target" id="change-b9d4ab67bbed4b4cbf58ffa3665cc480"><strong>[engine]</strong> </span><p>ResultProxy.last_inserted_ids is removed,
replaced by inserted_primary_key.</p>
<a class="changelog-reference headerlink reference internal" href="#change-b9d4ab67bbed4b4cbf58ffa3665cc480">¶</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.0b1-sql">
<h3>sql<a class="headerlink" href="#change-0.8.0b1-sql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.0b1-58"><span class="target" id="change-01459b01c904c45c34254ac95c8db643"><strong>[sql] [feature]</strong> </span><p>Added a new method <a class="reference internal" href="../core/connections.html#sqlalchemy.engine.Engine.execution_options" title="sqlalchemy.engine.Engine.execution_options"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Engine.execution_options()</span></code></a>
to <a class="reference internal" href="../core/connections.html#sqlalchemy.engine.Engine" title="sqlalchemy.engine.Engine"><code class="xref py py-class docutils literal notranslate"><span class="pre">Engine</span></code></a>.  This method works similarly to
<a class="reference internal" href="../core/connections.html#sqlalchemy.engine.Connection.execution_options" title="sqlalchemy.engine.Connection.execution_options"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Connection.execution_options()</span></code></a> in that it creates
a copy of the parent object which will refer to the new
set of options.   The method can be used to build
sharding schemes where each engine shares the same
underlying pool of connections.   The method
has been tested against the horizontal shard
recipe in the ORM as well.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../core/connections.html#sqlalchemy.engine.Engine.execution_options" title="sqlalchemy.engine.Engine.execution_options"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Engine.execution_options()</span></code></a></p>
</div>
<a class="changelog-reference headerlink reference internal" href="#change-01459b01c904c45c34254ac95c8db643">¶</a><p></p>
</p>
</li>
<li><p id="change-0.8.0b1-59"><span class="target" id="change-f532690d0ec3e3a93859eaea05b6f1c3"><strong>[sql] [feature]</strong> </span><p>Major rework of operator system
in Core, to allow redefinition of existing
operators as well as addition of new operators
at the type level.  New types can be created
from existing ones which add or redefine
operations that are exported out to column
expressions, in a similar manner to how the
ORM has allowed comparator_factory.   The new
architecture moves this capability into the
Core so that it is consistently usable in
all cases, propagating cleanly using existing
type propagation behavior.</p>
<a class="changelog-reference headerlink reference internal" href="#change-f532690d0ec3e3a93859eaea05b6f1c3">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2547">#2547</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-60"><span class="target" id="change-157798fc4c22471e5ffcc78196bc2037"><strong>[sql] [feature]</strong> </span><p>To complement, types
can now provide “bind expressions” and
“column expressions” which allow compile-time
injection of SQL expressions into statements
on a per-column or per-bind level.   This is
to suit the use case of a type which needs
to augment bind- and result- behavior at the
SQL level, as opposed to in the Python level.
Allows for schemes like transparent encryption/
decryption, usage of PostGIS functions, etc.</p>
<a class="changelog-reference headerlink reference internal" href="#change-157798fc4c22471e5ffcc78196bc2037">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1534">#1534</a>, <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2547">#2547</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-61"><span class="target" id="change-1301a6c4af18e5ecdccb1667bf054b66"><strong>[sql] [feature]</strong> </span><p>The Core operator system now includes
the <cite>getitem</cite> operator, i.e. the bracket
operator in Python.  This is used at first
to provide index and slice behavior to the
PostgreSQL ARRAY type, and also provides a hook
for end-user definition of custom __getitem__
schemes which can be applied at the type
level as well as within ORM-level custom
operator schemes.   <cite>lshift</cite> (&lt;&lt;)
and <cite>rshift</cite> (&gt;&gt;) are also supported as
optional operators.</p>
<p>Note that this change has the effect that
descriptor-based __getitem__ schemes used by
the ORM in conjunction with synonym() or other
“descriptor-wrapped” schemes will need
to start using a custom comparator in order
to maintain this behavior.</p>
<a class="changelog-reference headerlink reference internal" href="#change-1301a6c4af18e5ecdccb1667bf054b66">¶</a><p></p>
</p>
</li>
<li><p id="change-0.8.0b1-62"><span class="target" id="change-d5fa44003fbe6e1007f3b136de356241"><strong>[sql] [feature]</strong> </span><p>Revised the rules used to determine
the operator precedence for the user-defined
operator, i.e. that granted using the <code class="docutils literal notranslate"><span class="pre">op()</span></code>
method.   Previously, the smallest precedence
was applied in all cases, now the default
precedence is zero, lower than all operators
except “comma” (such as, used in the argument
list of a <code class="docutils literal notranslate"><span class="pre">func</span></code> call) and “AS”, and is
also customizable via the “precedence” argument
on the <code class="docutils literal notranslate"><span class="pre">op()</span></code> method.</p>
<a class="changelog-reference headerlink reference internal" href="#change-d5fa44003fbe6e1007f3b136de356241">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2537">#2537</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-63"><span class="target" id="change-510b1889868d9947ad1950a2e512d61d"><strong>[sql] [feature]</strong> </span><p>Added “collation” parameter to all
String types.  When present, renders as
COLLATE &lt;collation&gt;.  This to support the
COLLATE keyword now supported by several
databases including MySQL, SQLite, and PostgreSQL.</p>
<a class="changelog-reference headerlink reference internal" href="#change-510b1889868d9947ad1950a2e512d61d">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2276">#2276</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-64"><span class="target" id="change-800e35771b07bd8b83965890465964c3"><strong>[sql] [feature]</strong> </span><p>Custom unary operators can now be
used by combining operators.custom_op() with
UnaryExpression().</p>
<a class="changelog-reference headerlink reference internal" href="#change-800e35771b07bd8b83965890465964c3">¶</a><p></p>
</p>
</li>
<li><p id="change-0.8.0b1-65"><span class="target" id="change-5fabc53dcd5920c9dd6725c67706b1cb"><strong>[sql] [feature]</strong> </span><p>Enhanced GenericFunction and func.*
to allow for user-defined GenericFunction
subclasses to be available via the func.*
namespace automatically by classname,
optionally using a package name, as well
as with the ability to have the rendered
name different from the identified name
in func.*.</p>
<a class="changelog-reference headerlink reference internal" href="#change-5fabc53dcd5920c9dd6725c67706b1cb">¶</a><p></p>
</p>
</li>
<li><p id="change-0.8.0b1-66"><span class="target" id="change-c456cfbbef249505af02d4bed46a65a2"><strong>[sql] [feature]</strong> </span><p>The cast() and extract() constructs
will now be produced via the func.* accessor
as well, as users naturally try to access these
names from func.* they might as well do
what’s expected, even though the returned
object is not a FunctionElement.</p>
<a class="changelog-reference headerlink reference internal" href="#change-c456cfbbef249505af02d4bed46a65a2">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2562">#2562</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-67"><span class="target" id="change-a82ec299dc0d072667ab30cb57b59f22"><strong>[sql] [feature]</strong> </span><p>The Inspector object can now be
acquired using the new inspect() service,
part of</p>
<a class="changelog-reference headerlink reference internal" href="#change-a82ec299dc0d072667ab30cb57b59f22">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2208">#2208</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-68"><span class="target" id="change-d58191ed252657f9d6fb0178b62abf4c"><strong>[sql] [feature]</strong> </span><p>The column_reflect event now
accepts the Inspector object as the first
argument, preceding “table”.   Code which
uses the 0.7 version of this very new
event will need modification to add the
“inspector” object as the first argument.</p>
<a class="changelog-reference headerlink reference internal" href="#change-d58191ed252657f9d6fb0178b62abf4c">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2418">#2418</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-69"><span class="target" id="change-6c39aca731482d07a19bb63fffd1db07"><strong>[sql] [feature]</strong> </span><p>The behavior of column targeting
in result sets is now case sensitive by
default.   SQLAlchemy for many years would
run a case-insensitive conversion on these values,
probably to alleviate early case sensitivity
issues with dialects like Oracle and
Firebird.   These issues have been more cleanly
solved in more modern versions so the performance
hit of calling lower() on identifiers is removed.
The case insensitive comparisons can be re-enabled
by setting “case_insensitive=False” on
create_engine().</p>
<a class="changelog-reference headerlink reference internal" href="#change-6c39aca731482d07a19bb63fffd1db07">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2423">#2423</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-70"><span class="target" id="change-f0476d1e752c1114226c2f7b1733e959"><strong>[sql] [feature]</strong> </span><p>The “unconsumed column names” warning emitted
when keys are present in insert.values() or update.values()
that aren’t in the target table is now an exception.</p>
<a class="changelog-reference headerlink reference internal" href="#change-f0476d1e752c1114226c2f7b1733e959">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2415">#2415</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-71"><span class="target" id="change-fbcc82d903c96f4fc45ae1118e05f293"><strong>[sql] [feature]</strong> </span><p>Added “MATCH” clause to ForeignKey,
ForeignKeyConstraint, courtesy Ryan Kelly.</p>
<a class="changelog-reference headerlink reference internal" href="#change-fbcc82d903c96f4fc45ae1118e05f293">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2502">#2502</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-72"><span class="target" id="change-d72952e44e63b0fc2012138b67d47086"><strong>[sql] [feature]</strong> </span><p>Added support for DELETE and UPDATE from
an alias of a table, which would assumedly
be related to itself elsewhere in the query,
courtesy Ryan Kelly.</p>
<a class="changelog-reference headerlink reference internal" href="#change-d72952e44e63b0fc2012138b67d47086">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2507">#2507</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-73"><span class="target" id="change-0ad7f438f6e23fa71b85a5f8d68a4196"><strong>[sql] [feature]</strong> </span><p>select() features a correlate_except()
method, auto correlates all selectables except those
passed.</p>
<a class="changelog-reference headerlink reference internal" href="#change-0ad7f438f6e23fa71b85a5f8d68a4196">¶</a><p></p>
</p>
</li>
<li><p id="change-0.8.0b1-74"><span class="target" id="change-f4bff6e966d77ff6d933f92d367dcae4"><strong>[sql] [feature]</strong> </span><p>The prefix_with() method is now available
on each of select(), insert(), update(), delete(),
all with the same API, accepting multiple
prefix calls, as well as a “dialect name” so that
the prefix can be limited to one kind of dialect.</p>
<a class="changelog-reference headerlink reference internal" href="#change-f4bff6e966d77ff6d933f92d367dcae4">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2431">#2431</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-75"><span class="target" id="change-7dbf816368fe65f3b7de2d522397a8a6"><strong>[sql] [feature]</strong> </span><p>Added reduce_columns() method
to select() construct, replaces columns inline
using the util.reduce_columns utility function
to remove equivalent columns.  reduce_columns()
also adds “with_only_synonyms” to limit the
reduction just to those columns which have the same
name.  The deprecated fold_equivalents() feature is
removed.</p>
<a class="changelog-reference headerlink reference internal" href="#change-7dbf816368fe65f3b7de2d522397a8a6">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1729">#1729</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-76"><span class="target" id="change-8d8e593e41bb7a19ee46c22bc0decfa1"><strong>[sql] [feature]</strong> </span><p>Reworked the startswith(), endswith(),
contains() operators to do a better job with
negation (NOT LIKE), and also to assemble them
at compilation time so that their rendered SQL
can be altered, such as in the case for Firebird
STARTING WITH</p>
<a class="changelog-reference headerlink reference internal" href="#change-8d8e593e41bb7a19ee46c22bc0decfa1">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2470">#2470</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-77"><span class="target" id="change-120cab828675e93105c9e93717edec27"><strong>[sql] [feature]</strong> </span><p>Added a hook to the system of rendering
CREATE TABLE that provides access to the render for each
Column individually, by constructing a &#64;compiles
function against the new schema.CreateColumn
construct.</p>
<a class="changelog-reference headerlink reference internal" href="#change-120cab828675e93105c9e93717edec27">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2463">#2463</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-78"><span class="target" id="change-9f7e29fc75f561268d93f465d8982eb1"><strong>[sql] [feature]</strong> </span><p>“scalar” selects now have a WHERE method
to help with generative building.  Also slight adjustment
regarding how SS “correlates” columns; the new methodology
no longer applies meaning to the underlying
Table column being selected.  This improves
some fairly esoteric situations, and the logic
that was there didn’t seem to have any purpose.</p>
<a class="changelog-reference headerlink reference internal" href="#change-9f7e29fc75f561268d93f465d8982eb1">¶</a><p></p>
</p>
</li>
<li><p id="change-0.8.0b1-79"><span class="target" id="change-aaa07a086b42d588284232c42691223e"><strong>[sql] [feature]</strong> </span><p>An explicit error is raised when
a ForeignKeyConstraint() that was
constructed to refer to multiple remote tables
is first used.</p>
<a class="changelog-reference headerlink reference internal" href="#change-aaa07a086b42d588284232c42691223e">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2455">#2455</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-80"><span class="target" id="change-7d11577fe3de5f05b5b85e20a72c5d30"><strong>[sql] [feature]</strong> </span><p>Added <a class="reference internal" href="../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators.notin_" title="sqlalchemy.sql.operators.ColumnOperators.notin_"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ColumnOperators.notin_()</span></code></a>,
<a class="reference internal" href="../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators.notlike" title="sqlalchemy.sql.operators.ColumnOperators.notlike"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ColumnOperators.notlike()</span></code></a>,
<a class="reference internal" href="../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators.notilike" title="sqlalchemy.sql.operators.ColumnOperators.notilike"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ColumnOperators.notilike()</span></code></a> to <a class="reference internal" href="../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators" title="sqlalchemy.sql.operators.ColumnOperators"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnOperators</span></code></a>.</p>
<a class="changelog-reference headerlink reference internal" href="#change-7d11577fe3de5f05b5b85e20a72c5d30">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2580">#2580</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-81"><span class="target" id="change-25bf00fd616dfde5e75310390171c9cb"><strong>[sql] [changed]</strong> </span><p>Most classes in expression.sql
are no longer preceded with an underscore,
i.e. Label, SelectBase, Generative, CompareMixin.
_BindParamClause is also renamed to
BindParameter.   The old underscore names for
these classes will remain available as synonyms
for the foreseeable future.</p>
<a class="changelog-reference headerlink reference internal" href="#change-25bf00fd616dfde5e75310390171c9cb">¶</a><p></p>
</p>
</li>
<li><p id="change-0.8.0b1-82"><span class="target" id="change-ce4e1fbe7681cba2ecec2c6d7bc6dcf8"><strong>[sql] [removed]</strong> </span><p>The long-deprecated and non-functional <code class="docutils literal notranslate"><span class="pre">assert_unicode</span></code> flag on
<a class="reference internal" href="../core/engines.html#sqlalchemy.create_engine" title="sqlalchemy.create_engine"><code class="xref py py-func docutils literal notranslate"><span class="pre">create_engine()</span></code></a> as well as <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.String" title="sqlalchemy.types.String"><code class="xref py py-class docutils literal notranslate"><span class="pre">String</span></code></a> is removed.</p>
<a class="changelog-reference headerlink reference internal" href="#change-ce4e1fbe7681cba2ecec2c6d7bc6dcf8">¶</a><p></p>
</p>
</li>
<li><p id="change-0.8.0b1-83"><span class="target" id="change-9f11c14207568ba3d31a17ff11ff6602"><strong>[sql] [bug]</strong> </span><p>Fixed bug where keyword arguments passed to
<code class="xref py py-meth docutils literal notranslate"><span class="pre">Compiler.process()</span></code> wouldn’t get propagated
to the column expressions present in the columns
clause of a SELECT statement.  In particular this would
come up when used by custom compilation schemes that
relied upon special flags.</p>
<a class="changelog-reference headerlink reference internal" href="#change-9f11c14207568ba3d31a17ff11ff6602">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2593">#2593</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-84"><span class="target" id="change-a732049d950faee01eefaa41df6d9bcf"><strong>[sql] [bug] [orm]</strong> </span><p>The auto-correlation feature of <a class="reference internal" href="../core/selectable.html#sqlalchemy.sql.expression.select" title="sqlalchemy.sql.expression.select"><code class="xref py py-func docutils literal notranslate"><span class="pre">select()</span></code></a>, and
by proxy that of <a class="reference internal" href="../orm/query.html#sqlalchemy.orm.query.Query" title="sqlalchemy.orm.query.Query"><code class="xref py py-class docutils literal notranslate"><span class="pre">Query</span></code></a>, will not
take effect for a SELECT statement that is being
rendered directly in the FROM list of the enclosing
SELECT.  Correlation in SQL only applies to column
expressions such as those in the WHERE, ORDER BY,
columns clause.</p>
<a class="changelog-reference headerlink reference internal" href="#change-a732049d950faee01eefaa41df6d9bcf">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2595">#2595</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-85"><span class="target" id="change-4f0b1f3585efc63ec1286fc3774c09b9"><strong>[sql] [bug]</strong> </span><p>A tweak to column precedence which moves the
“concat” and “match” operators to be the same as
that of “is”, “like”, and others; this helps with
parenthesization rendering when used in conjunction
with “IS”.</p>
<a class="changelog-reference headerlink reference internal" href="#change-4f0b1f3585efc63ec1286fc3774c09b9">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2564">#2564</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-86"><span class="target" id="change-e9e2da86a8c37003cda9737252a22e66"><strong>[sql] [bug]</strong> </span><p>Applying a column expression to a select
statement using a label with or without other
modifying constructs will no longer “target” that
expression to the underlying Column; this affects
ORM operations that rely upon Column targeting
in order to retrieve results.  That is, a query
like query(User.id, User.id.label(‘foo’)) will now
track the value of each “User.id” expression separately
instead of munging them together.  It is not expected
that any users will be impacted by this; however,
a usage that uses select() in conjunction with
query.from_statement() and attempts to load fully
composed ORM entities may not function as expected
if the select() named Column objects with arbitrary
.label() names, as these will no longer target to
the Column objects mapped by that entity.</p>
<a class="changelog-reference headerlink reference internal" href="#change-e9e2da86a8c37003cda9737252a22e66">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2591">#2591</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-87"><span class="target" id="change-609b199612bf01e7e2389e4bc22e0058"><strong>[sql] [bug]</strong> </span><p>Fixes to the interpretation of the
Column “default” parameter as a callable
to not pass ExecutionContext into a keyword
argument parameter.</p>
<a class="changelog-reference headerlink reference internal" href="#change-609b199612bf01e7e2389e4bc22e0058">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2520">#2520</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-88"><span class="target" id="change-da559086155956288e47dfe0ce6c6f63"><strong>[sql] [bug]</strong> </span><p>All of UniqueConstraint, ForeignKeyConstraint,
CheckConstraint, and PrimaryKeyConstraint will
attach themselves to their parent table automatically
when they refer to a Table-bound Column object directly
(i.e. not just string column name), and refer to
one and only one Table.   Prior to 0.8 this behavior
occurred for UniqueConstraint and PrimaryKeyConstraint,
but not ForeignKeyConstraint or CheckConstraint.</p>
<a class="changelog-reference headerlink reference internal" href="#change-da559086155956288e47dfe0ce6c6f63">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2410">#2410</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-89"><span class="target" id="change-b11441c88863d587366a61b22f263c2d"><strong>[sql] [bug]</strong> </span><p>TypeDecorator now includes a generic repr()
that works in terms of the “impl” type by default.
This is a behavioral change for those TypeDecorator
classes that specify a custom __init__ method; those
types will need to re-define __repr__() if they need
__repr__() to provide a faithful constructor representation.</p>
<a class="changelog-reference headerlink reference internal" href="#change-b11441c88863d587366a61b22f263c2d">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2594">#2594</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-90"><span class="target" id="change-8893c427938842218beba495ac8f76f1"><strong>[sql] [bug]</strong> </span><p>column.label(None) now produces an
anonymous label, instead of returning the
column object itself, consistent with the behavior
of label(column, None).</p>
<a class="changelog-reference headerlink reference internal" href="#change-8893c427938842218beba495ac8f76f1">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2168">#2168</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-91"><span class="target" id="change-fb3c268a1d6d367b1d196ef3b07b4d9e"><strong>[sql] [change]</strong> </span><p>The Text() type renders the length
given to it, if a length was specified.</p>
<a class="changelog-reference headerlink reference internal" href="#change-fb3c268a1d6d367b1d196ef3b07b4d9e">¶</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.0b1-postgresql">
<h3>postgresql<a class="headerlink" href="#change-0.8.0b1-postgresql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.0b1-92"><span class="target" id="change-2e5a63d698d0ebd04785ccf495e9bad5"><strong>[postgresql] [feature]</strong> </span><p>postgresql.ARRAY features an optional
“dimension” argument, will assign a specific
number of dimensions to the array which will
render in DDL as ARRAY[][]…, also improves
performance of bind/result processing.</p>
<a class="changelog-reference headerlink reference internal" href="#change-2e5a63d698d0ebd04785ccf495e9bad5">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2441">#2441</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-93"><span class="target" id="change-78619b6fa31af74f1144a57dae7a4f70"><strong>[postgresql] [feature]</strong> </span><p>postgresql.ARRAY now supports
indexing and slicing.  The Python [] operator
is available on all SQL expressions that are
of type ARRAY; integer or simple slices can be
passed.  The slices can also be used on the
assignment side in the SET clause of an UPDATE
statement by passing them into Update.values();
see the docs for examples.</p>
<a class="changelog-reference headerlink reference internal" href="#change-78619b6fa31af74f1144a57dae7a4f70">¶</a><p></p>
</p>
</li>
<li><p id="change-0.8.0b1-94"><span class="target" id="change-9b6a5818e07607737947ddcbdae34829"><strong>[postgresql] [feature]</strong> </span><p>Added new “array literal” construct
postgresql.array().  Basically a “tuple” that
renders as ARRAY[1,2,3].</p>
<a class="changelog-reference headerlink reference internal" href="#change-9b6a5818e07607737947ddcbdae34829">¶</a><p></p>
</p>
</li>
<li><p id="change-0.8.0b1-95"><span class="target" id="change-b18d6c2c65aaa731bdfb416e1fd32a54"><strong>[postgresql] [feature]</strong> </span><p>Added support for the PostgreSQL ONLY
keyword, which can appear corresponding to a
table in a SELECT, UPDATE, or DELETE statement.
The phrase is established using with_hint().
Courtesy Ryan Kelly</p>
<a class="changelog-reference headerlink reference internal" href="#change-b18d6c2c65aaa731bdfb416e1fd32a54">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2506">#2506</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-96"><span class="target" id="change-af6a1a808938ab5b5db27bc796535659"><strong>[postgresql] [feature]</strong> </span><p>The “ischema_names” dictionary of the
PostgreSQL dialect is “unofficially” customizable.
Meaning, new types such as PostGIS types can
be added into this dictionary, and the PG type
reflection code should be able to handle simple
types with variable numbers of arguments.
The functionality here is “unofficial” for
three reasons:</p>
<ol class="arabic simple">
<li><p>this is not an “official” API.  Ideally
an “official” API would allow custom type-handling
callables at the dialect or global level
in a generic way.</p></li>
<li><p>This is only implemented for the PG dialect,
in particular because PG has broad support
for custom types vs. other database backends.
A real API would be implemented at the
default dialect level.</p></li>
<li><p>The reflection code here is only tested against
simple types and probably has issues with more
compositional types.</p></li>
</ol>
<p>patch courtesy Éric Lemoine.</p>
<a class="changelog-reference headerlink reference internal" href="#change-af6a1a808938ab5b5db27bc796535659">¶</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.0b1-mysql">
<h3>mysql<a class="headerlink" href="#change-0.8.0b1-mysql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.0b1-97"><span class="target" id="change-2d129ed854bd771095a45bdf0613705c"><strong>[mysql] [feature]</strong> </span><p>Added TIME type to mysql dialect,
accepts “fst” argument which is the new
“fractional seconds” specifier for recent
MySQL versions.  The datatype will interpret
a microseconds portion received from the driver,
however note that at this time most/all MySQL
DBAPIs do not support returning this value.</p>
<a class="changelog-reference headerlink reference internal" href="#change-2d129ed854bd771095a45bdf0613705c">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2534">#2534</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-98"><span class="target" id="change-700a963887f5381be78374ee6cbab43e"><strong>[mysql] [bug]</strong> </span><p>Dialect no longer emits expensive server
collations query, as well as server casing,
on first connect.  These functions are still
available as semi-private.</p>
<a class="changelog-reference headerlink reference internal" href="#change-700a963887f5381be78374ee6cbab43e">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2404">#2404</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.0b1-sqlite">
<h3>sqlite<a class="headerlink" href="#change-0.8.0b1-sqlite" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.0b1-99"><span class="target" id="change-b5f1f9bec1b77fa7e12fe21090980fcc"><strong>[sqlite] [feature]</strong> </span><p>the SQLite date and time types
have been overhauled to support a more open
ended format for input and output, using
name based format strings and regexps.  A
new argument “microseconds” also provides
the option to omit the “microseconds”
portion of timestamps.  Thanks to
Nathan Wright for the work and tests on
this.</p>
<a class="changelog-reference headerlink reference internal" href="#change-b5f1f9bec1b77fa7e12fe21090980fcc">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2363">#2363</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-100"><span class="target" id="change-5d430ab66984e1839fc49a94ccc5dacb"><strong>[sqlite]</strong> </span><p>Added <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.NCHAR" title="sqlalchemy.types.NCHAR"><code class="xref py py-class docutils literal notranslate"><span class="pre">NCHAR</span></code></a>, <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.NVARCHAR" title="sqlalchemy.types.NVARCHAR"><code class="xref py py-class docutils literal notranslate"><span class="pre">NVARCHAR</span></code></a>
to the SQLite dialect’s list of recognized type names
for reflection.   SQLite returns the name given
to a type as the name returned.</p>
<a class="changelog-reference headerlink reference internal" href="#change-5d430ab66984e1839fc49a94ccc5dacb">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/changeset/c3addcc9ffad">rc3addcc9ffad</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.0b1-mssql">
<h3>mssql<a class="headerlink" href="#change-0.8.0b1-mssql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.0b1-101"><span class="target" id="change-8e3f4625a47111ef4767a2ef9ba24c73"><strong>[mssql] [feature]</strong> </span><p>SQL Server dialect can be given
database-qualified schema names,
i.e. “schema=’mydatabase.dbo’”; reflection
operations will detect this, split the schema
among the “.” to get the owner separately,
and emit a “USE mydatabase” statement before
reflecting targets within the “dbo” owner;
the existing database returned from
DB_NAME() is then restored.</p>
<a class="changelog-reference headerlink reference internal" href="#change-8e3f4625a47111ef4767a2ef9ba24c73">¶</a><p></p>
</p>
</li>
<li><p id="change-0.8.0b1-102"><span class="target" id="change-6322f3d6024c987d549a01d768b12959"><strong>[mssql] [feature]</strong> </span><p>updated support for the mxodbc
driver; mxodbc 3.2.1 is recommended for full
compatibility.</p>
<a class="changelog-reference headerlink reference internal" href="#change-6322f3d6024c987d549a01d768b12959">¶</a><p></p>
</p>
</li>
<li><p id="change-0.8.0b1-103"><span class="target" id="change-38d801b4255682b32f9a913a78a9a3b3"><strong>[mssql] [bug]</strong> </span><p>removed legacy behavior whereby
a column comparison to a scalar SELECT via
== would coerce to an IN with the SQL server
dialect.  This is implicit
behavior which fails in other scenarios
so is removed.  Code which relies on this
needs to be modified to use column.in_(select)
explicitly.</p>
<a class="changelog-reference headerlink reference internal" href="#change-38d801b4255682b32f9a913a78a9a3b3">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2277">#2277</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.0b1-oracle">
<h3>oracle<a class="headerlink" href="#change-0.8.0b1-oracle" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.0b1-104"><span class="target" id="change-ce42a727e4d7a0a75bab19dbddbbfc73"><strong>[oracle] [feature]</strong> </span><p>The types of columns excluded from the
setinputsizes() set can be customized by sending
a list of string DBAPI type names to exclude,
using the exclude_setinputsizes dialect parameter.
This list was previously fixed.  The list also
now defaults to STRING, UNICODE, removing
CLOB, NCLOB from the list.</p>
<a class="changelog-reference headerlink reference internal" href="#change-ce42a727e4d7a0a75bab19dbddbbfc73">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2561">#2561</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-105"><span class="target" id="change-d8885a06585445bdffa3bb5ab8597e77"><strong>[oracle] [bug]</strong> </span><p>Quoting information is now passed along
from a Column with quote=True when generating
a same-named bound parameter to the bindparam()
object, as is the case in generated INSERT and UPDATE
statements, so that unknown reserved names can
be fully supported.</p>
<a class="changelog-reference headerlink reference internal" href="#change-d8885a06585445bdffa3bb5ab8597e77">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2437">#2437</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-106"><span class="target" id="change-260439d04d4ab56d9b30d9ac80fbca60"><strong>[oracle] [bug]</strong> </span><p>The CreateIndex construct in Oracle
will now schema-qualify the name of the index
to be that of the parent table.  Previously this
name was omitted which apparently creates the
index in the default schema, rather than that
of the table.</p>
<a class="changelog-reference headerlink reference internal" href="#change-260439d04d4ab56d9b30d9ac80fbca60">¶</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.0b1-firebird">
<h3>firebird<a class="headerlink" href="#change-0.8.0b1-firebird" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.0b1-107"><span class="target" id="change-55352f849d8075f34ab05c59513144de"><strong>[firebird] [feature]</strong> </span><p>The “startswith()” operator renders
as “STARTING WITH”, “~startswith()” renders
as “NOT STARTING WITH”, using FB’s more efficient
operator.</p>
<a class="changelog-reference headerlink reference internal" href="#change-55352f849d8075f34ab05c59513144de">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2470">#2470</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-108"><span class="target" id="change-274d52dddd6cd76f57ce87648cc1473c"><strong>[firebird] [feature]</strong> </span><p>An experimental dialect for the fdb
driver is added, but is untested as I cannot
get the fdb package to build.</p>
<a class="changelog-reference headerlink reference internal" href="#change-274d52dddd6cd76f57ce87648cc1473c">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2504">#2504</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-109"><span class="target" id="change-1a137fa5bc1551eb7474d03095eebc94"><strong>[firebird] [bug]</strong> </span><p>CompileError is raised when VARCHAR with
no length is attempted to be emitted, same
way as MySQL.</p>
<a class="changelog-reference headerlink reference internal" href="#change-1a137fa5bc1551eb7474d03095eebc94">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2505">#2505</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-110"><span class="target" id="change-12e7c07b97df9409c6cb6b31012fa796"><strong>[firebird] [bug]</strong> </span><p>Firebird now uses strict “ansi bind rules”
so that bound parameters don’t render in the
columns clause of a statement - they render
literally instead.</p>
<a class="changelog-reference headerlink reference internal" href="#change-12e7c07b97df9409c6cb6b31012fa796">¶</a><p></p>
</p>
</li>
<li><p id="change-0.8.0b1-111"><span class="target" id="change-41375c1893b68568e7e9fca8159598fc"><strong>[firebird] [bug]</strong> </span><p>Support for passing datetime as date when
using the DateTime type with Firebird; other
dialects support this.</p>
<a class="changelog-reference headerlink reference internal" href="#change-41375c1893b68568e7e9fca8159598fc">¶</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.0b1-misc">
<h3>misc<a class="headerlink" href="#change-0.8.0b1-misc" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.0b1-112"><span class="target" id="change-fd39f8f8e11ef48c87654cb42253c2bc"><strong>[feature] [access]</strong> </span><p>the MS Access dialect has been
moved to its own project on Bitbucket,
taking advantage of the new SQLAlchemy
dialect compliance suite.   The dialect is
still in very rough shape and probably not
ready for general use yet, however
it does have <em>extremely</em> rudimental
functionality now.
<a class="reference external" href="https://bitbucket.org/zzzeek/sqlalchemy-access">https://bitbucket.org/zzzeek/sqlalchemy-access</a></p>
<a class="changelog-reference headerlink reference internal" href="#change-fd39f8f8e11ef48c87654cb42253c2bc">¶</a><p></p>
</p>
</li>
<li><p id="change-0.8.0b1-113"><span class="target" id="change-b7848d7bbe509cb980a185cb57f2a3af"><strong>[moved] [maxdb]</strong> </span><p>The MaxDB dialect, which hasn’t been
functional for several years, is
moved out to a pending bitbucket project,
<a class="reference external" href="https://bitbucket.org/zzzeek/sqlalchemy-maxdb">https://bitbucket.org/zzzeek/sqlalchemy-maxdb</a>.</p>
<a class="changelog-reference headerlink reference internal" href="#change-b7848d7bbe509cb980a185cb57f2a3af">¶</a><p></p>
</p>
</li>
<li><p id="change-0.8.0b1-114"><span class="target" id="change-1523176dc77fb5a2a38ee7073b45df68"><strong>[examples]</strong> </span><p>The Beaker caching example has been converted
to use <a class="reference external" href="https://dogpilecache.readthedocs.io/">dogpile.cache</a>.
This is a new caching library written by the same
creator of Beaker’s caching internals, and represents a
vastly improved, simplified, and modernized system of caching.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../orm/examples.html#examples-caching"><span class="std std-ref">Dogpile Caching</span></a></p>
</div>
<a class="changelog-reference headerlink reference internal" href="#change-1523176dc77fb5a2a38ee7073b45df68">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2589">#2589</a></p>
</p>
</li>
</ul>
</div>
</div>
</div>

    </div>

</div>

<div id="docs-bottom-navigation" class="docs-navigation-links, withsidebar">
        Previous:
        <a href="changelog_09.html" title="previous chapter">0.9 Changelog</a>
        Next:
        <a href="changelog_07.html" title="next chapter">0.7 Changelog</a>

    <div id="docs-copyright">
        &copy; <a href="../copyright.html">Copyright</a> 2007-2020, the SQLAlchemy authors and contributors.
        Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 3.0.3.
    </div>
</div>

</div>



        
        

    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
          URL_ROOT:    '../',
          VERSION:     '1.3.17',
          COLLAPSE_MODINDEX: false,
          FILE_SUFFIX: '.html'
      };
    </script>

    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>

    <!-- begin iterate through sphinx environment script_files -->
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    <!-- end iterate through sphinx environment script_files -->

    <script type="text/javascript" src="../_static/detectmobile.js"></script>
    <script type="text/javascript" src="../_static/init.js"></script>


    </body>
</html>


